(function(e,i){function b(c,u,a){if(a===i&&c.nodeType===1)if(a="data-"+u.replace(Pa,"$1-$2").toLowerCase(),a=c.getAttribute(a),typeof a==="string"){try{a=a==="true"?!0:a==="false"?!1:a==="null"?null:!f.isNaN(a)?parseFloat(a):Qa.test(a)?f.parseJSON(a):a}catch(r){}f.data(c,u,a)}else a=i;return a}function j(c){for(var a in c)if(a!=="toJSON")return!1;return!0}function k(c,a,m){var r=a+"defer",d=a+"queue",b=a+"mark",e=f.data(c,r,i,!0);e&&(m==="queue"||!f.data(c,d,i,!0))&&(m==="mark"||!f.data(c,b,i,!0))&&
setTimeout(function(){!f.data(c,d,i,!0)&&!f.data(c,b,i,!0)&&(f.removeData(c,r,!0),e.resolve())},0)}function g(){return!1}function a(){return!0}function d(c,a,m){var r=f.extend({},m[0]);r.type=c;r.originalEvent={};r.liveFired=i;f.event.handle.call(a,r);r.isDefaultPrevented()&&m[0].preventDefault()}function h(c){var a,m,r,d,b,e,h,g,i,l,k,j=[];d=[];b=f._data(this,"events");if(!(c.liveFired===this||!b||!b.live||c.target.disabled||c.button&&c.type==="click")){c.namespace&&(k=RegExp("(^|\\.)"+c.namespace.split(".").join("\\.(?:.*\\.)?")+
"(\\.|$)"));c.liveFired=this;var o=b.live.slice(0);for(h=0;h<o.length;h++)b=o[h],b.origType.replace(ha,"")===c.type?d.push(b.selector):o.splice(h--,1);d=f(c.target).closest(d,c.currentTarget);g=0;for(i=d.length;g<i;g++){l=d[g];for(h=0;h<o.length;h++)if(b=o[h],l.selector===b.selector&&(!k||k.test(b.namespace))&&!l.elem.disabled){e=l.elem;r=null;if(b.preType==="mouseenter"||b.preType==="mouseleave")c.type=b.preType,(r=f(c.relatedTarget).closest(b.selector)[0])&&f.contains(e,r)&&(r=e);(!r||r!==e)&&j.push({elem:e,
handleObj:b,level:l.level})}}g=0;for(i=j.length;g<i;g++){d=j[g];if(m&&d.level>m)break;c.currentTarget=d.elem;c.data=d.handleObj.data;c.handleObj=d.handleObj;k=d.handleObj.origHandler.apply(d.elem,arguments);if(k===!1||c.isPropagationStopped())if(m=d.level,k===!1&&(a=!1),c.isImmediatePropagationStopped())break}return a}}function l(c,a){return(c&&c!=="*"?c+".":"")+a.replace(Ra,"`").replace(Sa,"&")}function o(c,a,m){a=a||0;if(f.isFunction(a))return f.grep(c,function(c,f){return!!a.call(c,f,c)===m});
else if(a.nodeType)return f.grep(c,function(c){return c===a===m});else if(typeof a==="string"){var r=f.grep(c,function(c){return c.nodeType===1});if(Ta.test(a))return f.filter(a,r,!m);else a=f.filter(a,r)}return f.grep(c,function(c){return f.inArray(c,a)>=0===m})}function q(c,a){if(a.nodeType===1&&f.hasData(c)){var m=f.expando,r=f.data(c),d=f.data(a,r);if(r=r[m]){var b=r.events,d=d[m]=f.extend({},r);if(b)for(var e in delete d.handle,d.events={},b){m=0;for(r=b[e].length;m<r;m++)f.event.add(a,e+(b[e][m].namespace?
".":"")+b[e][m].namespace,b[e][m],b[e][m].data)}}}}function s(c,a){var m;if(a.nodeType===1){a.clearAttributes&&a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(c);m=a.nodeName.toLowerCase();if(m==="object")a.outerHTML=c.outerHTML;else if(m==="input"&&(c.type==="checkbox"||c.type==="radio")){if(c.checked)a.defaultChecked=a.checked=c.checked;if(a.value!==c.value)a.value=c.value}else if(m==="option")a.selected=c.defaultSelected;else if(m==="input"||m==="textarea")a.defaultValue=c.defaultValue;
a.removeAttribute(f.expando)}}function n(c){return"getElementsByTagName"in c?c.getElementsByTagName("*"):"querySelectorAll"in c?c.querySelectorAll("*"):[]}function v(c){if(c.type==="checkbox"||c.type==="radio")c.defaultChecked=c.checked}function C(c){f.nodeName(c,"input")?v(c):c.getElementsByTagName&&f.grep(c.getElementsByTagName("input"),v)}function w(c,a){a.src?f.ajax({url:a.src,async:!1,dataType:"script"}):f.globalEval((a.text||a.textContent||a.innerHTML||"").replace(Ua,"/*$0*/"));a.parentNode&&
a.parentNode.removeChild(a)}function t(c,a,m){var r=a==="width"?c.offsetWidth:c.offsetHeight;if(m==="border")return r;f.each(a==="width"?Va:Wa,function(){m||(r-=parseFloat(f.css(c,"padding"+this))||0);m==="margin"?r+=parseFloat(f.css(c,"margin"+this))||0:r-=parseFloat(f.css(c,"border"+this+"Width"))||0});return r}function y(c){return function(a,m){var u;var r;typeof a!=="string"&&(m=a,a="*");if(f.isFunction(m))for(var d=a.toLowerCase().split(sa),b=0,e=d.length,h;b<e;b++)r=d[b],(h=/^\+/.test(r))&&
(r=r.substr(1)||"*"),u=c[r]=c[r]||[],r=u,r[h?"unshift":"push"](m)}}function G(c,a,f,r,d,b){d=d||a.dataTypes[0];b=b||{};b[d]=!0;for(var d=c[d],e=0,h=d?d.length:0,g=c===ia,l;e<h&&(g||!l);e++)l=d[e](a,f,r),typeof l==="string"&&(!g||b[l]?l=i:(a.dataTypes.unshift(l),l=G(c,a,f,r,l,b)));if((g||!l)&&!b["*"])l=G(c,a,f,r,"*",b);return l}function D(c,a,m,d){if(f.isArray(a))f.each(a,function(a,u){m||Xa.test(c)?d(c,u):D(c+"["+(typeof u==="object"||f.isArray(u)?a:"")+"]",u,m,d)});else if(!m&&a!=null&&typeof a===
"object")for(var b in a)D(c+"["+b+"]",a[b],m,d);else d(c,a)}function K(){try{return new e.XMLHttpRequest}catch(c){}}function N(){setTimeout(H,0);return ca=f.now()}function H(){ca=i}function z(c,a){var m={};f.each(ta.concat.apply([],ta.slice(0,a)),function(){m[this]=c});return m}function x(c){if(!ja[c]){var a=f("<"+c+">").appendTo("body"),m=a.css("display");a.remove();if(m==="none"||m===""){if(!I)I=p.createElement("iframe"),I.frameBorder=I.width=I.height=0;p.body.appendChild(I);if(!V||!I.createElement)V=
(I.contentWindow||I.contentDocument).document,V.write("<!doctype><html><body></body></html>");a=V.createElement(c);V.body.appendChild(a);m=f.css(a,"display");p.body.removeChild(I)}ja[c]=m}return ja[c]}function J(c){return f.isWindow(c)?c:c.nodeType===9?c.defaultView||c.parentWindow:!1}var p=e.document,P=e.navigator,W=e.location,f=function(){function c(){if(!a.isReady){try{p.documentElement.doScroll("left")}catch(f){setTimeout(c,1);return}a.ready()}}var a=function(c,f){return new a.fn.init(c,f,b)},
f=e.jQuery,d=e.$,b,h=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,g=/\S/,l=/^\s+/,k=/\s+$/,j=/\d/,o=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,q=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,z=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,w=/(webkit)[ \/]([\w.]+)/,y=/(opera)(?:.*version)?[ \/]([\w.]+)/,J=/(msie) ([\w.]+)/,v=/(mozilla)(?:.*? rv:([\w.]+))?/,X=P.userAgent,da,Q,Ya=Object.prototype.toString,ka=Object.prototype.hasOwnProperty,la=Array.prototype.push,
Y=Array.prototype.slice,ua=String.prototype.trim,x=Array.prototype.indexOf,G={};a.fn=a.prototype={constructor:a,init:function(c,f,m){var d;if(!c)return this;if(c.nodeType)return this.context=this[0]=c,this.length=1,this;if(c==="body"&&!f&&p.body)return this.context=p,this[0]=p.body,this.selector=c,this.length=1,this;if(typeof c==="string")if((d=c.charAt(0)==="<"&&c.charAt(c.length-1)===">"&&c.length>=3?[null,c,null]:h.exec(c))&&(d[1]||!f))if(d[1])return m=(f=f instanceof a?f[0]:f)?f.ownerDocument||
f:p,(c=o.exec(c))?a.isPlainObject(f)?(c=[p.createElement(c[1])],a.fn.attr.call(c,f,!0)):c=[m.createElement(c[1])]:(c=a.buildFragment([d[1]],[m]),c=(c.cacheable?a.clone(c.fragment):c.fragment).childNodes),a.merge(this,c);else{if((f=p.getElementById(d[2]))&&f.parentNode){if(f.id!==d[2])return m.find(c);this.length=1;this[0]=f}this.context=p;this.selector=c;return this}else return!f||f.jquery?(f||m).find(c):this.constructor(f).find(c);else if(a.isFunction(c))return m.ready(c);if(c.selector!==i)this.selector=
c.selector,this.context=c.context;return a.makeArray(c,this)},selector:"",jquery:"1.6.1",length:0,size:function(){return this.length},toArray:function(){return Y.call(this,0)},get:function(c){return c==null?this.toArray():c<0?this[this.length+c]:this[c]},pushStack:function(c,f,m){var d=this.constructor();a.isArray(c)?la.apply(d,c):a.merge(d,c);d.prevObject=this;d.context=this.context;if(f==="find")d.selector=this.selector+(this.selector?" ":"")+m;else if(f)d.selector=this.selector+"."+f+"("+m+")";
return d},each:function(c,f){return a.each(this,c,f)},ready:function(c){a.bindReady();da.done(c);return this},eq:function(c){return c===-1?this.slice(c):this.slice(c,+c+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Y.apply(this,arguments),"slice",Y.call(arguments).join(","))},map:function(c){return this.pushStack(a.map(this,function(a,f){return c.call(a,f,a)}))},end:function(){return this.prevObject||this.constructor(null)},push:la,
sort:[].sort,splice:[].splice};a.fn.init.prototype=a.fn;a.extend=a.fn.extend=function(){var c,f,m,d,r,b=arguments[0]||{},e=1,F=arguments.length,h=!1;typeof b==="boolean"&&(h=b,b=arguments[1]||{},e=2);typeof b!=="object"&&!a.isFunction(b)&&(b={});for(F===e&&(b=this,--e);e<F;e++)if((c=arguments[e])!=null)for(f in c)m=b[f],d=c[f],b!==d&&(h&&d&&(a.isPlainObject(d)||(r=a.isArray(d)))?(r?(r=!1,m=m&&a.isArray(m)?m:[]):m=m&&a.isPlainObject(m)?m:{},b[f]=a.extend(h,m,d)):d!==i&&(b[f]=d));return b};a.extend({noConflict:function(c){if(e.$===
a)e.$=d;if(c&&e.jQuery===a)e.jQuery=f;return a},isReady:!1,readyWait:1,holdReady:function(c){c?a.readyWait++:a.ready(!0)},ready:function(c){if(c===!0&&!--a.readyWait||c!==!0&&!a.isReady){if(!p.body)return setTimeout(a.ready,1);a.isReady=!0;c!==!0&&--a.readyWait>0||(da.resolveWith(p,[a]),a.fn.trigger&&a(p).trigger("ready").unbind("ready"))}},bindReady:function(){if(!da){da=a._Deferred();if(p.readyState==="complete")return setTimeout(a.ready,1);if(p.addEventListener)p.addEventListener("DOMContentLoaded",
Q,!1),e.addEventListener("load",a.ready,!1);else if(p.attachEvent){p.attachEvent("onreadystatechange",Q);e.attachEvent("onload",a.ready);var f=!1;try{f=e.frameElement==null}catch(m){}p.documentElement.doScroll&&f&&c()}}},isFunction:function(c){return a.type(c)==="function"},isArray:Array.isArray||function(c){return a.type(c)==="array"},isWindow:function(c){return c&&typeof c==="object"&&"setInterval"in c},isNaN:function(c){return c==null||!j.test(c)||isNaN(c)},type:function(c){return c==null?String(c):
G[Ya.call(c)]||"object"},isPlainObject:function(c){if(!c||a.type(c)!=="object"||c.nodeType||a.isWindow(c))return!1;if(c.constructor&&!ka.call(c,"constructor")&&!ka.call(c.constructor.prototype,"isPrototypeOf"))return!1;for(var f in c);return f===i||ka.call(c,f)},isEmptyObject:function(c){for(var a in c)return!1;return!0},error:function(c){throw c;},parseJSON:function(c){if(typeof c!=="string"||!c)return null;c=a.trim(c);if(e.JSON&&e.JSON.parse)return e.JSON.parse(c);if(n.test(c.replace(q,"@").replace(z,
"]").replace(s,"")))return(new Function("return "+c))();a.error("Invalid JSON: "+c)},parseXML:function(c,f,m){e.DOMParser?(m=new DOMParser,f=m.parseFromString(c,"text/xml")):(f=new ActiveXObject("Microsoft.XMLDOM"),f.async="false",f.loadXML(c));m=f.documentElement;(!m||!m.nodeName||m.nodeName==="parsererror")&&a.error("Invalid XML: "+c);return f},noop:function(){},globalEval:function(c){c&&g.test(c)&&(e.execScript||function(c){e.eval.call(e,c)})(c)},nodeName:function(c,a){return c.nodeName&&c.nodeName.toUpperCase()===
a.toUpperCase()},each:function(c,f,m){var d,r=0,b=c.length,e=b===i||a.isFunction(c);if(m)if(e)for(d in c){if(f.apply(c[d],m)===!1)break}else for(;r<b;){if(f.apply(c[r++],m)===!1)break}else if(e)for(d in c){if(f.call(c[d],d,c[d])===!1)break}else for(;r<b;)if(f.call(c[r],r,c[r++])===!1)break;return c},trim:ua?function(c){return c==null?"":ua.call(c)}:function(c){return c==null?"":c.toString().replace(l,"").replace(k,"")},makeArray:function(c,f){var m=f||[];if(c!=null){var d=a.type(c);c.length==null||
d==="string"||d==="function"||d==="regexp"||a.isWindow(c)?la.call(m,c):a.merge(m,c)}return m},inArray:function(c,a){if(x)return x.call(a,c);for(var f=0,u=a.length;f<u;f++)if(a[f]===c)return f;return-1},merge:function(c,a){var f=c.length,u=0;if(typeof a.length==="number")for(var m=a.length;u<m;u++)c[f++]=a[u];else for(;a[u]!==i;)c[f++]=a[u++];c.length=f;return c},grep:function(c,a,f){for(var u=[],m,f=!!f,d=0,r=c.length;d<r;d++)m=!!a(c[d],d),f!==m&&u.push(c[d]);return u},map:function(c,f,m){var d,r,
b=[],e=0,F=c.length;if(c instanceof a||F!==i&&typeof F==="number"&&(F>0&&c[0]&&c[F-1]||F===0||a.isArray(c)))for(;e<F;e++)d=f(c[e],e,m),d!=null&&(b[b.length]=d);else for(r in c)d=f(c[r],r,m),d!=null&&(b[b.length]=d);return b.concat.apply([],b)},guid:1,proxy:function(c,f){if(typeof f==="string")var m=c[f],f=c,c=m;if(!a.isFunction(c))return i;var d=Y.call(arguments,2),m=function(){return c.apply(f,d.concat(Y.call(arguments)))};m.guid=c.guid=c.guid||m.guid||a.guid++;return m},access:function(c,f,m,d,
r,b){var e=c.length;if(typeof f==="object"){for(var F in f)a.access(c,F,f[F],d,r,m);return c}if(m!==i){d=!b&&d&&a.isFunction(m);for(F=0;F<e;F++)r(c[F],f,d?m.call(c[F],F,r(c[F],f)):m,b);return c}return e?r(c[0],f):i},now:function(){return(new Date).getTime()},uaMatch:function(c){c=c.toLowerCase();c=w.exec(c)||y.exec(c)||J.exec(c)||c.indexOf("compatible")<0&&v.exec(c)||[];return{browser:c[1]||"",version:c[2]||"0"}},sub:function(){function c(a,f){return new c.fn.init(a,f)}a.extend(!0,c,this);c.superclass=
this;c.fn=c.prototype=this();c.fn.constructor=c;c.sub=this.sub;c.fn.init=function(m,d){d&&d instanceof a&&!(d instanceof c)&&(d=c(d));return a.fn.init.call(this,m,d,f)};c.fn.init.prototype=c.fn;var f=c(p);return c},browser:{}});a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(c,a){G["[object "+a+"]"]=a.toLowerCase()});X=a.uaMatch(X);if(X.browser)a.browser[X.browser]=!0,a.browser.version=X.version;if(a.browser.webkit)a.browser.safari=!0;g.test("\u00a0")&&(l=/^[\s\xA0]+/,
k=/[\s\xA0]+$/);b=a(p);p.addEventListener?Q=function(){p.removeEventListener("DOMContentLoaded",Q,!1);a.ready()}:p.attachEvent&&(Q=function(){p.readyState==="complete"&&(p.detachEvent("onreadystatechange",Q),a.ready())});return a}(),Z="done fail isResolved isRejected promise then always pipe".split(" "),B=[].slice;f.extend({_Deferred:function(){var c=[],a,m,d,b={done:function(){if(!d){var m=arguments,e,h,g,i,l;a&&(l=a,a=0);e=0;for(h=m.length;e<h;e++)g=m[e],i=f.type(g),i==="array"?b.done.apply(b,g):
i==="function"&&c.push(g);l&&b.resolveWith(l[0],l[1])}return this},resolveWith:function(f,b){if(!d&&!a&&!m){b=b||[];m=1;try{for(;c[0];)c.shift().apply(f,b)}finally{a=[f,b],m=0}}return this},resolve:function(){b.resolveWith(this,arguments);return this},isResolved:function(){return!(!m&&!a)},cancel:function(){d=1;c=[];return this}};return b},Deferred:function(c){var a=f._Deferred(),m=f._Deferred(),d;f.extend(a,{then:function(c,f){a.done(c).fail(f);return this},always:function(){return a.done.apply(a,
arguments).fail.apply(this,arguments)},fail:m.done,rejectWith:m.resolveWith,reject:m.resolve,isRejected:m.isResolved,pipe:function(c,m){return f.Deferred(function(d){f.each({done:[c,"resolve"],fail:[m,"reject"]},function(c,m){var r=m[0],b=m[1],e;if(f.isFunction(r))a[c](function(){if((e=r.apply(this,arguments))&&f.isFunction(e.promise))e.promise().then(d.resolve,d.reject);else d[b](e)});else a[c](d[b])})}).promise()},promise:function(c){if(c==null){if(d)return d;d=c={}}for(var f=Z.length;f--;)c[Z[f]]=
a[Z[f]];return c}});a.done(m.cancel).fail(a.cancel);delete a.cancel;c&&c.call(a,a);return a},when:function(c){function a(c){return function(a){m[c]=arguments.length>1?B.call(arguments,0):a;--e||h.resolveWith(h,B.call(m,0))}}var m=arguments,d=0,b=m.length,e=b,h=b<=1&&c&&f.isFunction(c.promise)?c:f.Deferred();if(b>1){for(;d<b;d++)m[d]&&f.isFunction(m[d].promise)?m[d].promise().then(a(d),h.reject):--e;e||h.resolveWith(h,m)}else h!==c&&h.resolveWith(h,b?[c]:[]);return h.promise()}});f.support=function(){var c=
p.createElement("div"),a=p.documentElement,f,d,b,e,h,g;c.setAttribute("className","t");c.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";f=c.getElementsByTagName("*");d=c.getElementsByTagName("a")[0];if(!f||!f.length||!d)return{};b=p.createElement("select");e=b.appendChild(p.createElement("option"));f=c.getElementsByTagName("input")[0];h={leadingWhitespace:c.firstChild.nodeType===3,tbody:!c.getElementsByTagName("tbody").length,
htmlSerialize:!!c.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.55$/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:f.value==="on",optSelected:e.selected,getSetAttribute:c.className!=="t",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0};f.checked=!0;h.noCloneChecked=f.cloneNode(!0).checked;b.disabled=
!0;h.optDisabled=!e.disabled;try{delete c.test}catch(i){h.deleteExpando=!1}!c.addEventListener&&c.attachEvent&&c.fireEvent&&(c.attachEvent("onclick",function U(){h.noCloneEvent=!1;c.detachEvent("onclick",U)}),c.cloneNode(!0).fireEvent("onclick"));f=p.createElement("input");f.value="t";f.setAttribute("type","radio");h.radioValue=f.value==="t";f.setAttribute("checked","checked");c.appendChild(f);d=p.createDocumentFragment();d.appendChild(c.firstChild);h.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked;
c.innerHTML="";c.style.width=c.style.paddingLeft="1px";d=p.createElement("body");b={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};for(g in b)d.style[g]=b[g];d.appendChild(c);a.insertBefore(d,a.firstChild);h.appendChecked=f.checked;h.boxModel=c.offsetWidth===2;if("zoom"in c.style)c.style.display="inline",c.style.zoom=1,h.inlineBlockNeedsLayout=c.offsetWidth===2,c.style.display="",c.innerHTML="<div style='width:4px;'></div>",h.shrinkWrapBlocks=c.offsetWidth!==2;c.innerHTML=
"<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";b=c.getElementsByTagName("td");f=b[0].offsetHeight===0;b[0].style.display="";b[1].style.display="none";h.reliableHiddenOffsets=f&&b[0].offsetHeight===0;c.innerHTML="";if(p.defaultView&&p.defaultView.getComputedStyle)f=p.createElement("div"),f.style.width="0",f.style.marginRight="0",c.appendChild(f),h.reliableMarginRight=(parseInt((p.defaultView.getComputedStyle(f,null)||{marginRight:0}).marginRight,10)||0)===0;d.innerHTML=
"";a.removeChild(d);if(c.attachEvent)for(g in{submit:1,change:1,focusin:1})a="on"+g,(f=a in c)||(c.setAttribute(a,"return;"),f=typeof c[a]==="function"),h[g+"Bubbles"]=f;return h}();f.boxModel=f.support.boxModel;var Qa=/^(?:\{.*\}|\[.*\])$/,Pa=/([a-z])([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(c){c=c.nodeType?f.cache[c[f.expando]]:c[f.expando];return!!c&&
!j(c)},data:function(c,a,m,d){if(f.acceptData(c)){var b=f.expando,e=typeof a==="string",h=c.nodeType,g=h?f.cache:c,l=h?c[f.expando]:c[f.expando]&&f.expando;if(l&&(!d||!l||g[l][b])||!(e&&m===i)){if(!l)h?c[f.expando]=l=++f.uuid:l=f.expando;if(!g[l]&&(g[l]={},!h))g[l].toJSON=f.noop;if(typeof a==="object"||typeof a==="function")d?g[l][b]=f.extend(g[l][b],a):g[l]=f.extend(g[l],a);c=g[l];d&&(c[b]||(c[b]={}),c=c[b]);m!==i&&(c[f.camelCase(a)]=m);if(a==="events"&&!c[a])return c[b]&&c[b].events;return e?c[f.camelCase(a)]:
c}}},removeData:function(c,a,m){if(f.acceptData(c)){var d=f.expando,b=c.nodeType,h=b?f.cache:c,g=b?c[f.expando]:f.expando;if(h[g]){if(a){var l=m?h[g][d]:h[g];if(l&&(delete l[a],!j(l)))return}if(!m||!(delete h[g][d],!j(h[g])))if(a=h[g][d],f.support.deleteExpando||h!=e?delete h[g]:h[g]=null,a){h[g]={};if(!b)h[g].toJSON=f.noop;h[g][d]=a}else b&&(f.support.deleteExpando?delete c[f.expando]:c.removeAttribute?c.removeAttribute(f.expando):c[f.expando]=null)}}},_data:function(c,a,m){return f.data(c,a,m,!0)},
acceptData:function(c){if(c.nodeName){var a=f.noData[c.nodeName.toLowerCase()];if(a)return!(a===!0||c.getAttribute("classid")!==a)}return!0}});f.fn.extend({data:function(c,a){var m=null;if(typeof c==="undefined"){if(this.length&&(m=f.data(this[0]),this[0].nodeType===1))for(var d=this[0].attributes,e,h=0,g=d.length;h<g;h++)e=d[h].name,e.indexOf("data-")===0&&(e=f.camelCase(e.substring(5)),b(this[0],e,m[e]));return m}else if(typeof c==="object")return this.each(function(){f.data(this,c)});var l=c.split(".");
l[1]=l[1]?"."+l[1]:"";return a===i?(m=this.triggerHandler("getData"+l[1]+"!",[l[0]]),m===i&&this.length&&(m=f.data(this[0],c),m=b(this[0],c,m)),m===i&&l[1]?this.data(l[0]):m):this.each(function(){var m=f(this),d=[l[0],a];m.triggerHandler("setData"+l[1]+"!",d);f.data(this,c,a);m.triggerHandler("changeData"+l[1]+"!",d)})},removeData:function(c){return this.each(function(){f.removeData(this,c)})}});f.extend({_mark:function(c,a){c&&(a=(a||"fx")+"mark",f.data(c,a,(f.data(c,a,i,!0)||0)+1,!0))},_unmark:function(c,
a,m){c!==!0&&(m=a,a=c,c=!1);if(a){var m=m||"fx",d=m+"mark";(c=c?0:(f.data(a,d,i,!0)||1)-1)?f.data(a,d,c,!0):(f.removeData(a,d,!0),k(a,m,"mark"))}},queue:function(c,a,m){if(c){var a=(a||"fx")+"queue",d=f.data(c,a,i,!0);m&&(!d||f.isArray(m)?d=f.data(c,a,f.makeArray(m),!0):d.push(m));return d||[]}},dequeue:function(c,a){var a=a||"fx",d=f.queue(c,a),b=d.shift();b==="inprogress"&&(b=d.shift());b&&(a==="fx"&&d.unshift("inprogress"),b.call(c,function(){f.dequeue(c,a)}));d.length||(f.removeData(c,a+"queue",
!0),k(c,a,"queue"))}});f.fn.extend({queue:function(c,a){typeof c!=="string"&&(a=c,c="fx");if(a===i)return f.queue(this[0],c);return this.each(function(){var d=f.queue(this,c,a);c==="fx"&&d[0]!=="inprogress"&&f.dequeue(this,c)})},dequeue:function(c){return this.each(function(){f.dequeue(this,c)})},delay:function(c,a){c=f.fx?f.fx.speeds[c]||c:c;a=a||"fx";return this.queue(a,function(){var d=this;setTimeout(function(){f.dequeue(d,a)},c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c){function a(){--h||
d.resolveWith(b,[b])}typeof c!=="string"&&(c=i);var c=c||"fx",d=f.Deferred(),b=this,e=b.length,h=1,g=c+"defer",l=c+"queue";c+="mark";for(var k;e--;)if(k=f.data(b[e],g,i,!0)||(f.data(b[e],l,i,!0)||f.data(b[e],c,i,!0))&&f.data(b[e],g,f._Deferred(),!0))h++,k.done(a);a();return d.promise()}});var va=/[\n\t\r]/g,ma=/\s+/,Za=/\r/g,$a=/^(?:button|input)$/i,ab=/^(?:button|input|object|select|textarea)$/i,bb=/^a(?:rea)?$/i,wa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
cb=/\:/,L,xa;f.fn.extend({attr:function(c,a){return f.access(this,c,a,!0,f.attr)},removeAttr:function(c){return this.each(function(){f.removeAttr(this,c)})},prop:function(c,a){return f.access(this,c,a,!0,f.prop)},removeProp:function(c){c=f.propFix[c]||c;return this.each(function(){try{this[c]=i,delete this[c]}catch(a){}})},addClass:function(c){if(f.isFunction(c))return this.each(function(a){var d=f(this);d.addClass(c.call(this,a,d.attr("class")||""))});if(c&&typeof c==="string")for(var a=(c||"").split(ma),
d=0,b=this.length;d<b;d++){var e=this[d];if(e.nodeType===1)if(e.className){for(var h=" "+e.className+" ",g=e.className,l=0,i=a.length;l<i;l++)h.indexOf(" "+a[l]+" ")<0&&(g+=" "+a[l]);e.className=f.trim(g)}else e.className=c}return this},removeClass:function(c){if(f.isFunction(c))return this.each(function(a){var d=f(this);d.removeClass(c.call(this,a,d.attr("class")))});if(c&&typeof c==="string"||c===i)for(var a=(c||"").split(ma),d=0,b=this.length;d<b;d++){var e=this[d];if(e.nodeType===1&&e.className)if(c){for(var h=
(" "+e.className+" ").replace(va," "),g=0,l=a.length;g<l;g++)h=h.replace(" "+a[g]+" "," ");e.className=f.trim(h)}else e.className=""}return this},toggleClass:function(c,a){var d=typeof c,b=typeof a==="boolean";if(f.isFunction(c))return this.each(function(d){var m=f(this);m.toggleClass(c.call(this,d,m.attr("class"),a),a)});return this.each(function(){if(d==="string")for(var e,h=0,g=f(this),l=a,i=c.split(ma);e=i[h++];)l=b?l:!g.hasClass(e),g[l?"addClass":"removeClass"](e);else if(d==="undefined"||d===
"boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||c===!1?"":f._data(this,"__className__")||""})},hasClass:function(c){for(var c=" "+c+" ",a=0,f=this.length;a<f;a++)if((" "+this[a].className+" ").replace(va," ").indexOf(c)>-1)return!0;return!1},val:function(c){var a,d,b=this[0];if(!arguments.length){if(b){if((a=f.valHooks[b.nodeName.toLowerCase()]||f.valHooks[b.type])&&"get"in a&&(d=a.get(b,"value"))!==i)return d;return(b.value||"").replace(Za,"")}return i}var e=
f.isFunction(c);return this.each(function(d){var m=f(this);if(this.nodeType===1&&(d=e?c.call(this,d,m.val()):c,d==null?d="":typeof d==="number"?d+="":f.isArray(d)&&(d=f.map(d,function(c){return c==null?"":c+""})),a=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type],!a||!("set"in a)||a.set(this,d,"value")===i))this.value=d})}});f.extend({valHooks:{option:{get:function(c){var a=c.attributes.value;return!a||a.specified?c.value:c.text}},select:{get:function(c){var a,d=c.selectedIndex,b=[],
e=c.options,c=c.type==="select-one";if(d<0)return null;for(var h=c?d:0,g=c?d+1:e.length;h<g;h++)if(a=e[h],a.selected&&(f.support.optDisabled?!a.disabled:a.getAttribute("disabled")===null)&&(!a.parentNode.disabled||!f.nodeName(a.parentNode,"optgroup"))){a=f(a).val();if(c)return a;b.push(a)}if(c&&!b.length&&e.length)return f(e[d]).val();return b},set:function(c,a){var d=f.makeArray(a);f(c).find("option").each(function(){this.selected=f.inArray(f(this).val(),d)>=0});if(!d.length)c.selectedIndex=-1;return d}}},
attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attrFix:{tabindex:"tabIndex"},attr:function(c,a,d,b){var e=c.nodeType;if(!c||e===3||e===8||e===2)return i;if(b&&a in f.attrFn)return f(c)[a](d);if(!("getAttribute"in c))return f.prop(c,a,d);var h,a=(e=e!==1||!f.isXMLDoc(c))&&f.attrFix[a]||a,b=f.attrHooks[a];if(!b)if(wa.test(a)&&(typeof d==="boolean"||d===i||d.toLowerCase()===a.toLowerCase()))b=xa;else if(L&&(f.nodeName(c,"form")||cb.test(a)))b=L;return d!==i?d===null?(f.removeAttr(c,
a),i):b&&"set"in b&&e&&(h=b.set(c,d,a))!==i?h:(c.setAttribute(a,""+d),d):b&&"get"in b&&e?b.get(c,a):(h=c.getAttribute(a),h===null?i:h)},removeAttr:function(c,a){var d;if(c.nodeType===1&&(a=f.attrFix[a]||a,f.support.getSetAttribute?c.removeAttribute(a):(f.attr(c,a,""),c.removeAttributeNode(c.getAttributeNode(a))),wa.test(a)&&(d=f.propFix[a]||a)in c))c[d]=!1},attrHooks:{type:{set:function(c,a){if($a.test(c.nodeName)&&c.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&
a==="radio"&&f.nodeName(c,"input")){var d=c.value;c.setAttribute("type",a);if(d)c.value=d;return a}}},tabIndex:{get:function(c){var a=c.getAttributeNode("tabIndex");return a&&a.specified?parseInt(a.value,10):ab.test(c.nodeName)||bb.test(c.nodeName)&&c.href?0:i}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",
contenteditable:"contentEditable"},prop:function(c,a,d){var b=c.nodeType;if(!c||b===3||b===8||b===2)return i;var e,a=(b!==1||!f.isXMLDoc(c))&&f.propFix[a]||a,b=f.propHooks[a];return d!==i?b&&"set"in b&&(e=b.set(c,d,a))!==i?e:c[a]=d:b&&"get"in b&&(e=b.get(c,a))!==i?e:c[a]},propHooks:{}});xa={get:function(c,a){return c[f.propFix[a]||a]?a.toLowerCase():i},set:function(c,a,d){var b;a===!1?f.removeAttr(c,d):(b=f.propFix[d]||d,b in c&&(c[b]=a),c.setAttribute(d,d.toLowerCase()));return d}};f.attrHooks.value=
{get:function(c,a){if(L&&f.nodeName(c,"button"))return L.get(c,a);return c.value},set:function(c,a,d){if(L&&f.nodeName(c,"button"))return L.set(c,a,d);c.value=a}};if(!f.support.getSetAttribute)f.attrFix=f.propFix,L=f.attrHooks.name=f.valHooks.button={get:function(c,a){var f;return(f=c.getAttributeNode(a))&&f.nodeValue!==""?f.nodeValue:i},set:function(c,a,f){if(c=c.getAttributeNode(f))return c.nodeValue=a}},f.each(["width","height"],function(c,a){f.attrHooks[a]=f.extend(f.attrHooks[a],{set:function(c,
f){if(f==="")return c.setAttribute(a,"auto"),f}})});f.support.hrefNormalized||f.each(["href","src","width","height"],function(c,a){f.attrHooks[a]=f.extend(f.attrHooks[a],{get:function(c){c=c.getAttribute(a,2);return c===null?i:c}})});if(!f.support.style)f.attrHooks.style={get:function(c){return c.style.cssText.toLowerCase()||i},set:function(c,a){return c.style.cssText=""+a}};if(!f.support.optSelected)f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(){}});f.support.checkOn||f.each(["radio",
"checkbox"],function(){f.valHooks[this]={get:function(c){return c.getAttribute("value")===null?"on":c.value}}});f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(c,a){if(f.isArray(a))return c.checked=f.inArray(f(c).val(),a)>=0}})});var ha=/\.(.*)$/,na=/^(?:textarea|input|select)$/i,Ra=/\./g,Sa=/ /g,db=/[^\w\s.|`]/g,eb=function(c){return c.replace(db,"\\$&")};f.event={add:function(c,a,d,b){if(!(c.nodeType===3||c.nodeType===8)){if(d===!1)d=g;else if(!d)return;
var e,h;if(d.handler)e=d,d=e.handler;if(!d.guid)d.guid=f.guid++;if(h=f._data(c)){var l=h.events,k=h.handle;if(!l)h.events=l={};if(!k)h.handle=k=function(c){return typeof f!=="undefined"&&(!c||f.event.triggered!==c.type)?f.event.handle.apply(k.elem,arguments):i};k.elem=c;for(var a=a.split(" "),j,o=0,n;j=a[o++];){h=e?f.extend({},e):{handler:d,data:b};j.indexOf(".")>-1?(n=j.split("."),j=n.shift(),h.namespace=n.slice(0).sort().join(".")):(n=[],h.namespace="");h.type=j;if(!h.guid)h.guid=d.guid;var q=l[j],
z=f.event.special[j]||{};if(!q&&(q=l[j]=[],!z.setup||z.setup.call(c,b,n,k)===!1))c.addEventListener?c.addEventListener(j,k,!1):c.attachEvent&&c.attachEvent("on"+j,k);if(z.add&&(z.add.call(c,h),!h.handler.guid))h.handler.guid=d.guid;q.push(h);f.event.global[j]=!0}c=null}}},global:{},remove:function(c,a,d,b){if(!(c.nodeType===3||c.nodeType===8)){d===!1&&(d=g);var e,h,l=0,k,j,o,n,q,z,s=f.hasData(c)&&f._data(c),p=s&&s.events;if(s&&p){if(a&&a.type)d=a.handler,a=a.type;if(!a||typeof a==="string"&&a.charAt(0)===
".")for(e in a=a||"",p)f.event.remove(c,e+a);else{for(a=a.split(" ");e=a[l++];)if(n=e,k=e.indexOf(".")<0,j=[],k||(j=e.split("."),e=j.shift(),o=RegExp("(^|\\.)"+f.map(j.slice(0).sort(),eb).join("\\.(?:.*\\.)?")+"(\\.|$)")),q=p[e])if(d){n=f.event.special[e]||{};for(h=b||0;h<q.length;h++)if(z=q[h],d.guid===z.guid){if(k||o.test(z.namespace))b==null&&q.splice(h--,1),n.remove&&n.remove.call(c,z);if(b!=null)break}if(q.length===0||b!=null&&q.length===1)(!n.teardown||n.teardown.call(c,j)===!1)&&f.removeEvent(c,
e,s.handle),delete p[e]}else for(h=0;h<q.length;h++)if(z=q[h],k||o.test(z.namespace))f.event.remove(c,n,z.handler,h),q.splice(h--,1);if(f.isEmptyObject(p)){if(a=s.handle)a.elem=null;delete s.events;delete s.handle;f.isEmptyObject(s)&&f.removeData(c,i,!0)}}}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,a,d,b){var h=c.type||c,g=[],l;h.indexOf("!")>=0&&(h=h.slice(0,-1),l=!0);h.indexOf(".")>=0&&(g=h.split("."),h=g.shift(),g.sort());if(d&&!f.event.customEvent[h]||f.event.global[h]){c=
typeof c==="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h);c.type=h;c.exclusive=l;c.namespace=g.join(".");c.namespace_re=RegExp("(^|\\.)"+g.join("\\.(?:.*\\.)?")+"(\\.|$)");if(b||!d)c.preventDefault(),c.stopPropagation();if(d){if(!(d.nodeType===3||d.nodeType===8)){c.result=i;c.target=d;a=a?f.makeArray(a):[];a.unshift(c);g=d;b=h.indexOf(":")<0?"on"+h:"";do{l=f._data(g,"handle");c.currentTarget=g;l&&l.apply(g,a);if(b&&f.acceptData(g)&&g[b]&&g[b].apply(g,a)===!1)c.result=!1,c.preventDefault();
g=g.parentNode||g.ownerDocument||g===c.target.ownerDocument&&e}while(g&&!c.isPropagationStopped());if(!c.isDefaultPrevented()){var k,g=f.event.special[h]||{};if((!g._default||g._default.call(d.ownerDocument,c)===!1)&&!(h==="click"&&f.nodeName(d,"a"))&&f.acceptData(d)){try{if(b&&d[h])(k=d[b])&&(d[b]=null),f.event.triggered=h,d[h]()}catch(j){}k&&(d[b]=k);f.event.triggered=i}}return c.result}}else f.each(f.cache,function(){var d=this[f.expando];d&&d.events&&d.events[h]&&f.event.trigger(c,a,d.handle.elem)})}},
handle:function(c){var c=f.event.fix(c||e.event),a=((f._data(this,"events")||{})[c.type]||[]).slice(0),d=!c.exclusive&&!c.namespace,b=Array.prototype.slice.call(arguments,0);b[0]=c;c.currentTarget=this;for(var h=0,g=a.length;h<g;h++){var l=a[h];if(d||c.namespace_re.test(l.namespace)){c.handler=l.handler;c.data=l.data;c.handleObj=l;l=l.handler.apply(this,b);if(l!==i)c.result=l,l===!1&&(c.preventDefault(),c.stopPropagation());if(c.isImmediatePropagationStopped())break}}return c.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(c){if(c[f.expando])return c;for(var a=c,c=f.Event(a),d=this.props.length,b;d;)b=this.props[--d],c[b]=a[b];if(!c.target)c.target=c.srcElement||p;if(c.target.nodeType===3)c.target=c.target.parentNode;if(!c.relatedTarget&&c.fromElement)c.relatedTarget=c.fromElement===c.target?c.toElement:c.fromElement;if(c.pageX==null&&c.clientX!=null)d=c.target.ownerDocument||p,a=d.documentElement,d=d.body,c.pageX=c.clientX+(a&&a.scrollLeft||d&&d.scrollLeft||0)-(a&&a.clientLeft||d&&d.clientLeft||0),c.pageY=
c.clientY+(a&&a.scrollTop||d&&d.scrollTop||0)-(a&&a.clientTop||d&&d.clientTop||0);if(c.which==null&&(c.charCode!=null||c.keyCode!=null))c.which=c.charCode!=null?c.charCode:c.keyCode;if(!c.metaKey&&c.ctrlKey)c.metaKey=c.ctrlKey;if(!c.which&&c.button!==i)c.which=c.button&1?1:c.button&2?3:c.button&4?2:0;return c},guid:1E8,proxy:f.proxy,special:{ready:{setup:f.bindReady,teardown:f.noop},live:{add:function(c){f.event.add(this,l(c.origType,c.selector),f.extend({},c,{handler:h,guid:c.handler.guid}))},remove:function(c){f.event.remove(this,
l(c.origType,c.selector),c)}},beforeunload:{setup:function(c,a,d){if(f.isWindow(this))this.onbeforeunload=d},teardown:function(c,a){if(this.onbeforeunload===a)this.onbeforeunload=null}}}};f.removeEvent=p.removeEventListener?function(c,a,f){c.removeEventListener&&c.removeEventListener(a,f,!1)}:function(c,a,f){c.detachEvent&&c.detachEvent("on"+a,f)};f.Event=function(c,d){if(!this.preventDefault)return new f.Event(c,d);c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||
c.returnValue===!1||c.getPreventDefault&&c.getPreventDefault()?a:g):this.type=c;d&&f.extend(this,d);this.timeStamp=f.now();this[f.expando]=!0};f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var c=this.originalEvent;if(c)c.preventDefault?c.preventDefault():c.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=a;var c=this.originalEvent;if(c)c.stopPropagation&&c.stopPropagation(),c.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
a;this.stopPropagation()},isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g};var ya=function(c){var a=c.relatedTarget;c.type=c.data;try{if(!a||a===p||a.parentNode){for(;a&&a!==this;)a=a.parentNode;a!==this&&f.event.handle.apply(this,arguments)}}catch(d){}},za=function(c){c.type=c.data;f.event.handle.apply(this,arguments)};f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(c,a){f.event.special[c]={setup:function(d){f.event.add(this,a,d&&d.selector?za:ya,c)},teardown:function(c){f.event.remove(this,
a,c&&c.selector?za:ya)}}});if(!f.support.submitBubbles)f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;else f.event.add(this,"click.specialSubmit",function(c){var a=c.target,b=a.type;(b==="submit"||b==="image")&&f(a).closest("form").length&&d("submit",this,arguments)}),f.event.add(this,"keypress.specialSubmit",function(c){var a=c.target,b=a.type;(b==="text"||b==="password")&&f(a).closest("form").length&&c.keyCode===13&&d("submit",this,arguments)})},teardown:function(){f.event.remove(this,
".specialSubmit")}};if(!f.support.changeBubbles){var aa,Aa=function(c){var a=c.type,d=c.value;if(a==="radio"||a==="checkbox")d=c.checked;else if(a==="select-multiple")d=c.selectedIndex>-1?f.map(c.options,function(c){return c.selected}).join("-"):"";else if(f.nodeName(c,"select"))d=c.selectedIndex;return d},ea=function(c,a){var d=c.target,b,e;if(na.test(d.nodeName)&&!d.readOnly&&(b=f._data(d,"_change_data"),e=Aa(d),(c.type!=="focusout"||d.type!=="radio")&&f._data(d,"_change_data",e),!(b===i||e===b)))if(b!=
null||e)c.type="change",c.liveFired=i,f.event.trigger(c,a,d)};f.event.special.change={filters:{focusout:ea,beforedeactivate:ea,click:function(c){var a=c.target,d=f.nodeName(a,"input")?a.type:"";(d==="radio"||d==="checkbox"||f.nodeName(a,"select"))&&ea.call(this,c)},keydown:function(c){var a=c.target,d=f.nodeName(a,"input")?a.type:"";(c.keyCode===13&&!f.nodeName(a,"textarea")||c.keyCode===32&&(d==="checkbox"||d==="radio")||d==="select-multiple")&&ea.call(this,c)},beforeactivate:function(c){c=c.target;
f._data(c,"_change_data",Aa(c))}},setup:function(){if(this.type==="file")return!1;for(var c in aa)f.event.add(this,c+".specialChange",aa[c]);return na.test(this.nodeName)},teardown:function(){f.event.remove(this,".specialChange");return na.test(this.nodeName)}};aa=f.event.special.change.filters;aa.focus=aa.beforeactivate}f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(c,a){function d(c){var b=f.event.fix(c);b.type=a;b.originalEvent={};f.event.trigger(b,null,b.target);b.isDefaultPrevented()&&
c.preventDefault()}var b=0;f.event.special[a]={setup:function(){b++===0&&p.addEventListener(c,d,!0)},teardown:function(){--b===0&&p.removeEventListener(c,d,!0)}}});f.each(["bind","one"],function(c,a){f.fn[a]=function(c,d,b){var e;if(typeof c==="object"){for(var h in c)this[a](h,d,c[h],b);return this}if(arguments.length===2||d===!1)b=d,d=i;a==="one"?(e=function(c){f(this).unbind(c,e);return b.apply(this,arguments)},e.guid=b.guid||f.guid++):e=b;if(c==="unload"&&a!=="one")this.one(c,d,b);else{h=0;for(var g=
this.length;h<g;h++)f.event.add(this[h],c,e,d)}return this}});f.fn.extend({unbind:function(c,a){if(typeof c==="object"&&!c.preventDefault)for(var d in c)this.unbind(d,c[d]);else{d=0;for(var b=this.length;d<b;d++)f.event.remove(this[d],c,a)}return this},delegate:function(c,a,f,d){return this.live(a,f,d,c)},undelegate:function(c,a,f){return arguments.length===0?this.unbind("live"):this.die(a,null,f,c)},trigger:function(c,a){return this.each(function(){f.event.trigger(c,a,this)})},triggerHandler:function(c,
a){if(this[0])return f.event.trigger(c,a,this[0],!0)},toggle:function(c){var a=arguments,d=c.guid||f.guid++,b=0,e=function(d){var e=(f.data(this,"lastToggle"+c.guid)||0)%b;f.data(this,"lastToggle"+c.guid,e+1);d.preventDefault();return a[e].apply(this,arguments)||!1};for(e.guid=d;b<a.length;)a[b++].guid=d;return this.click(e)},hover:function(c,a){return this.mouseenter(c).mouseleave(a||c)}});var oa={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};f.each(["live","die"],
function(c,a){f.fn[a]=function(c,d,b,e){var h=0,k,j,o=e||this.selector,n=e?this:f(this.context);if(typeof c==="object"&&!c.preventDefault){for(k in c)n[a](k,d,c[k],o);return this}if(a==="die"&&!c&&e&&e.charAt(0)===".")return n.unbind(e),this;if(d===!1||f.isFunction(d))b=d||g,d=i;for(c=(c||"").split(" ");(e=c[h++])!=null;)if(k=ha.exec(e),j="",k&&(j=k[0],e=e.replace(ha,"")),e==="hover")c.push("mouseenter"+j,"mouseleave"+j);else if(k=e,oa[e]?(c.push(oa[e]+j),e+=j):e=(oa[e]||e)+j,a==="live"){j=0;for(var q=
n.length;j<q;j++)f.event.add(n[j],"live."+l(e,o),{data:d,selector:o,handler:b,origType:e,origHandler:b,preType:k})}else n.unbind("live."+l(e,o),b);return this}});f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(c,a){f.fn[a]=function(c,f){f==null&&(f=c,c=null);return arguments.length>0?this.bind(a,c,f):this.trigger(a)};f.attrFn&&(f.attrFn[a]=
!0)});(function(){function c(c,a,f,d,b,e){for(var b=0,h=d.length;b<h;b++){var m=d[b];if(m){for(var g=!1,m=m[c];m;){if(m.sizcache===f){g=d[m.sizset];break}if(m.nodeType===1&&!e)m.sizcache=f,m.sizset=b;if(m.nodeName.toLowerCase()===a){g=m;break}m=m[c]}d[b]=g}}}function a(c,f,d,b,e,h){for(var e=0,m=b.length;e<m;e++){var g=b[e];if(g){for(var l=!1,g=g[c];g;){if(g.sizcache===d){l=b[g.sizset];break}if(g.nodeType===1){if(!h)g.sizcache=d,g.sizset=e;if(typeof f!=="string"){if(g===f){l=!0;break}}else if(j.filter(f,
[g]).length>0){l=g;break}}g=g[c]}b[e]=l}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,b=0,e=Object.prototype.toString,h=!1,g=!0,l=/\\/g,k=/\W/;[0,0].sort(function(){g=!1;return 0});var j=function(c,a,f,b){var f=f||[],h=a=a||p;if(a.nodeType!==1&&a.nodeType!==9)return[];if(!c||typeof c!=="string")return f;var g,l,u,r,k,i=!0,q=j.isXML(a),A=[],z=c;do if(d.exec(""),g=d.exec(z))if(z=g[3],A.push(g[1]),g[2]){r=
g[3];break}while(g);if(A.length>1&&n.exec(c))if(A.length===2&&o.relative[A[0]])l=J(A[0]+A[1],a);else for(l=o.relative[A[0]]?[a]:j(A.shift(),a);A.length;)c=A.shift(),o.relative[c]&&(c+=A.shift()),l=J(c,l);else if(!b&&A.length>1&&a.nodeType===9&&!q&&o.match.ID.test(A[0])&&!o.match.ID.test(A[A.length-1])&&(g=j.find(A.shift(),a,q),a=g.expr?j.filter(g.expr,g.set)[0]:g.set[0]),a){g=b?{expr:A.pop(),set:s(b)}:j.find(A.pop(),A.length===1&&(A[0]==="~"||A[0]==="+")&&a.parentNode?a.parentNode:a,q);l=g.expr?j.filter(g.expr,
g.set):g.set;for(A.length>0?u=s(l):i=!1;A.length;)g=k=A.pop(),o.relative[k]?g=A.pop():k="",g==null&&(g=a),o.relative[k](u,g,q)}else u=[];u||(u=l);u||j.error(k||c);if(e.call(u)==="[object Array]")if(i)if(a&&a.nodeType===1)for(c=0;u[c]!=null;c++)u[c]&&(u[c]===!0||u[c].nodeType===1&&j.contains(a,u[c]))&&f.push(l[c]);else for(c=0;u[c]!=null;c++)u[c]&&u[c].nodeType===1&&f.push(l[c]);else f.push.apply(f,u);else s(u,f);r&&(j(r,h,f,b),j.uniqueSort(f));return f};j.uniqueSort=function(c){if(w&&(h=g,c.sort(w),
h))for(var a=1;a<c.length;a++)c[a]===c[a-1]&&c.splice(a--,1);return c};j.matches=function(c,a){return j(c,null,null,a)};j.matchesSelector=function(c,a){return j(a,null,null,[c]).length>0};j.find=function(c,a,f){var d;if(!c)return[];for(var b=0,e=o.order.length;b<e;b++){var h,g=o.order[b];if(h=o.leftMatch[g].exec(c)){var m=h[1];h.splice(1,1);if(m.substr(m.length-1)!=="\\"&&(h[1]=(h[1]||"").replace(l,""),d=o.find[g](h,a,f),d!=null)){c=c.replace(o.match[g],"");break}}}d||(d=typeof a.getElementsByTagName!==
"undefined"?a.getElementsByTagName("*"):[]);return{set:d,expr:c}};j.filter=function(c,a,f,d){for(var b,e,h=c,g=[],m=a,l=a&&a[0]&&j.isXML(a[0]);c&&a.length;){for(var u in o.filter)if((b=o.leftMatch[u].exec(c))!=null&&b[2]){var r,k,F=o.filter[u];k=b[1];e=!1;b.splice(1,1);if(k.substr(k.length-1)!=="\\"){m===g&&(g=[]);if(o.preFilter[u])if(b=o.preFilter[u](b,m,f,g,d,l)){if(b===!0)continue}else e=r=!0;if(b)for(var n=0;(k=m[n])!=null;n++)if(k){r=F(k,b,n,m);var A=d^!!r;f&&r!=null?A?e=!0:m[n]=!1:A&&(g.push(k),
e=!0)}if(r!==i){f||(m=g);c=c.replace(o.match[u],"");if(!e)return[];break}}}if(c===h)if(e==null)j.error(c);else break;h=c}return m};j.error=function(c){throw"Syntax error, unrecognized expression: "+c;};var o=j.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(c){return c.getAttribute("href")},type:function(c){return c.getAttribute("type")}},relative:{"+":function(c,a){var f=
typeof a==="string",d=f&&!k.test(a),f=f&&!d;d&&(a=a.toLowerCase());for(var d=0,b=c.length,e;d<b;d++)if(e=c[d]){for(;(e=e.previousSibling)&&e.nodeType!==1;);c[d]=f||e&&e.nodeName.toLowerCase()===a?e||!1:e===a}f&&j.filter(a,c,!0)},">":function(c,a){var f,d=typeof a==="string",b=0,e=c.length;if(d&&!k.test(a))for(a=a.toLowerCase();b<e;b++){if(f=c[b])f=f.parentNode,c[b]=f.nodeName.toLowerCase()===a?f:!1}else{for(;b<e;b++)(f=c[b])&&(c[b]=d?f.parentNode:f.parentNode===a);d&&j.filter(a,c,!0)}},"":function(f,
d,e){var h,g=b++,m=a;typeof d==="string"&&!k.test(d)&&(h=d=d.toLowerCase(),m=c);m("parentNode",d,g,f,h,e)},"~":function(f,d,e){var h,g=b++,m=a;typeof d==="string"&&!k.test(d)&&(h=d=d.toLowerCase(),m=c);m("previousSibling",d,g,f,h,e)}},find:{ID:function(c,a,f){if(typeof a.getElementById!=="undefined"&&!f)return(c=a.getElementById(c[1]))&&c.parentNode?[c]:[]},NAME:function(c,a){if(typeof a.getElementsByName!=="undefined"){for(var f=[],d=a.getElementsByName(c[1]),b=0,e=d.length;b<e;b++)d[b].getAttribute("name")===
c[1]&&f.push(d[b]);return f.length===0?null:f}},TAG:function(c,a){if(typeof a.getElementsByTagName!=="undefined")return a.getElementsByTagName(c[1])}},preFilter:{CLASS:function(c,a,f,d,b,e){c=" "+c[1].replace(l,"")+" ";if(e)return c;for(var e=0,h;(h=a[e])!=null;e++)h&&(b^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(c)>=0)?f||d.push(h):f&&(a[e]=!1));return!1},ID:function(c){return c[1].replace(l,"")},TAG:function(c){return c[1].replace(l,"").toLowerCase()},CHILD:function(c){if(c[1]===
"nth"){c[2]||j.error(c[0]);c[2]=c[2].replace(/^\+|\s*/g,"");var a=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(c[2]==="even"&&"2n"||c[2]==="odd"&&"2n+1"||!/\D/.test(c[2])&&"0n+"+c[2]||c[2]);c[2]=a[1]+(a[2]||1)-0;c[3]=a[3]-0}else c[2]&&j.error(c[0]);c[0]=b++;return c},ATTR:function(c,a,f,d,b,e){a=c[1]=c[1].replace(l,"");!e&&o.attrMap[a]&&(c[1]=o.attrMap[a]);c[4]=(c[4]||c[5]||"").replace(l,"");c[2]==="~="&&(c[4]=" "+c[4]+" ");return c},PSEUDO:function(c,a,f,b,e){if(c[1]==="not")if((d.exec(c[3])||"").length>1||
/^\w/.test(c[3]))c[3]=j(c[3],null,null,a);else return c=j.filter(c[3],a,f,1^e),f||b.push.apply(b,c),!1;else if(o.match.POS.test(c[0])||o.match.CHILD.test(c[0]))return!0;return c},POS:function(c){c.unshift(!0);return c}},filters:{enabled:function(c){return c.disabled===!1&&c.type!=="hidden"},disabled:function(c){return c.disabled===!0},checked:function(c){return c.checked===!0},selected:function(c){return c.selected===!0},parent:function(c){return!!c.firstChild},empty:function(c){return!c.firstChild},
has:function(c,a,f){return!!j(f[3],c).length},header:function(c){return/h\d/i.test(c.nodeName)},text:function(c){var a=c.getAttribute("type"),f=c.type;return c.nodeName.toLowerCase()==="input"&&"text"===f&&(a===f||a===null)},radio:function(c){return c.nodeName.toLowerCase()==="input"&&"radio"===c.type},checkbox:function(c){return c.nodeName.toLowerCase()==="input"&&"checkbox"===c.type},file:function(c){return c.nodeName.toLowerCase()==="input"&&"file"===c.type},password:function(c){return c.nodeName.toLowerCase()===
"input"&&"password"===c.type},submit:function(c){var a=c.nodeName.toLowerCase();return(a==="input"||a==="button")&&"submit"===c.type},image:function(c){return c.nodeName.toLowerCase()==="input"&&"image"===c.type},reset:function(c){var a=c.nodeName.toLowerCase();return(a==="input"||a==="button")&&"reset"===c.type},button:function(c){var a=c.nodeName.toLowerCase();return a==="input"&&"button"===c.type||a==="button"},input:function(c){return/input|select|textarea|button/i.test(c.nodeName)},focus:function(c){return c===
c.ownerDocument.activeElement}},setFilters:{first:function(c,a){return a===0},last:function(c,a,f,d){return a===d.length-1},even:function(c,a){return a%2===0},odd:function(c,a){return a%2===1},lt:function(c,a,f){return a<f[3]-0},gt:function(c,a,f){return a>f[3]-0},nth:function(c,a,f){return f[3]-0===a},eq:function(c,a,f){return f[3]-0===a}},filter:{PSEUDO:function(c,a,f,d){var b=a[1],e=o.filters[b];if(e)return e(c,f,a,d);else if(b==="contains")return(c.textContent||c.innerText||j.getText([c])||"").indexOf(a[3])>=
0;else if(b==="not"){a=a[3];f=0;for(d=a.length;f<d;f++)if(a[f]===c)return!1;return!0}else j.error(b)},CHILD:function(c,a){var f=a[1],d=c;switch(f){case "only":case "first":for(;d=d.previousSibling;)if(d.nodeType===1)return!1;if(f==="first")return!0;d=c;case "last":for(;d=d.nextSibling;)if(d.nodeType===1)return!1;return!0;case "nth":var f=a[2],b=a[3];if(f===1&&b===0)return!0;var e=a[0],h=c.parentNode;if(h&&(h.sizcache!==e||!c.nodeIndex)){for(var g=0,d=h.firstChild;d;d=d.nextSibling)if(d.nodeType===
1)d.nodeIndex=++g;h.sizcache=e}d=c.nodeIndex-b;return f===0?d===0:d%f===0&&d/f>=0}},ID:function(c,a){return c.nodeType===1&&c.getAttribute("id")===a},TAG:function(c,a){return a==="*"&&c.nodeType===1||c.nodeName.toLowerCase()===a},CLASS:function(c,a){return(" "+(c.className||c.getAttribute("class"))+" ").indexOf(a)>-1},ATTR:function(c,a){var f=a[1],f=o.attrHandle[f]?o.attrHandle[f](c):c[f]!=null?c[f]:c.getAttribute(f),d=f+"",b=a[2],e=a[4];return f==null?b==="!=":b==="="?d===e:b==="*="?d.indexOf(e)>=
0:b==="~="?(" "+d+" ").indexOf(e)>=0:!e?d&&f!==!1:b==="!="?d!==e:b==="^="?d.indexOf(e)===0:b==="$="?d.substr(d.length-e.length)===e:b==="|="?d===e||d.substr(0,e.length+1)===e+"-":!1},POS:function(c,a,f,d){var b=o.setFilters[a[2]];if(b)return b(c,f,a,d)}}},n=o.match.POS,q=function(c,a){return"\\"+(a-0+1)},z;for(z in o.match)o.match[z]=RegExp(o.match[z].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[z]=RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[z].source.replace(/\\(\d+)/g,q));var s=function(c,
a){c=Array.prototype.slice.call(c,0);if(a)return a.push.apply(a,c),a;return c};try{Array.prototype.slice.call(p.documentElement.childNodes,0)}catch(P){s=function(c,a){var f=0,d=a||[];if(e.call(c)==="[object Array]")Array.prototype.push.apply(d,c);else if(typeof c.length==="number")for(var b=c.length;f<b;f++)d.push(c[f]);else for(;c[f];f++)d.push(c[f]);return d}}var w,y;p.documentElement.compareDocumentPosition?w=function(c,a){if(c===a)return h=!0,0;if(!c.compareDocumentPosition||!a.compareDocumentPosition)return c.compareDocumentPosition?
-1:1;return c.compareDocumentPosition(a)&4?-1:1}:(w=function(c,a){if(c===a)return h=!0,0;else if(c.sourceIndex&&a.sourceIndex)return c.sourceIndex-a.sourceIndex;var f,d,b=[],e=[];f=c.parentNode;d=a.parentNode;var g=f;if(f===d)return y(c,a);else if(f){if(!d)return 1}else return-1;for(;g;)b.unshift(g),g=g.parentNode;for(g=d;g;)e.unshift(g),g=g.parentNode;f=b.length;d=e.length;for(g=0;g<f&&g<d;g++)if(b[g]!==e[g])return y(b[g],e[g]);return g===f?y(c,e[g],-1):y(b[g],a,1)},y=function(c,a,f){if(c===a)return f;
for(c=c.nextSibling;c;){if(c===a)return-1;c=c.nextSibling}return 1});j.getText=function(c){for(var a="",f,d=0;c[d];d++)f=c[d],f.nodeType===3||f.nodeType===4?a+=f.nodeValue:f.nodeType!==8&&(a+=j.getText(f.childNodes));return a};(function(){var c=p.createElement("div"),a="script"+(new Date).getTime(),f=p.documentElement;c.innerHTML="<a name='"+a+"'/>";f.insertBefore(c,f.firstChild);if(p.getElementById(a))o.find.ID=function(c,a,f){if(typeof a.getElementById!=="undefined"&&!f)return(a=a.getElementById(c[1]))?
a.id===c[1]||typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id").nodeValue===c[1]?[a]:i:[]},o.filter.ID=function(c,a){var f=typeof c.getAttributeNode!=="undefined"&&c.getAttributeNode("id");return c.nodeType===1&&f&&f.nodeValue===a};f.removeChild(c);f=c=null})();(function(){var c=p.createElement("div");c.appendChild(p.createComment(""));if(c.getElementsByTagName("*").length>0)o.find.TAG=function(c,a){var f=a.getElementsByTagName(c[1]);if(c[1]==="*"){for(var d=[],b=0;f[b];b++)f[b].nodeType===
1&&d.push(f[b]);f=d}return f};c.innerHTML="<a href='#'></a>";if(c.firstChild&&typeof c.firstChild.getAttribute!=="undefined"&&c.firstChild.getAttribute("href")!=="#")o.attrHandle.href=function(c){return c.getAttribute("href",2)};c=null})();p.querySelectorAll&&function(){var c=j,a=p.createElement("div");a.innerHTML="<p class='TEST'></p>";if(!(a.querySelectorAll&&a.querySelectorAll(".TEST").length===0)){j=function(a,f,d,b){f=f||p;if(!b&&!j.isXML(f)){var e=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(a);
if(e&&(f.nodeType===1||f.nodeType===9))if(e[1])return s(f.getElementsByTagName(a),d);else if(e[2]&&o.find.CLASS&&f.getElementsByClassName)return s(f.getElementsByClassName(e[2]),d);if(f.nodeType===9){if(a==="body"&&f.body)return s([f.body],d);else if(e&&e[3]){var h=f.getElementById(e[3]);if(h&&h.parentNode){if(h.id===e[3])return s([h],d)}else return s([],d)}try{return s(f.querySelectorAll(a),d)}catch(g){}}else if(f.nodeType===1&&f.nodeName.toLowerCase()!=="object"){var e=f,m=(h=f.getAttribute("id"))||
"__sizzle__",l=f.parentNode,u=/^\s*[+~]/.test(a);h?m=m.replace(/'/g,"\\$&"):f.setAttribute("id",m);if(u&&l)f=f.parentNode;try{if(!u||l)return s(f.querySelectorAll("[id='"+m+"'] "+a),d)}catch(r){}finally{h||e.removeAttribute("id")}}}return c(a,f,d,b)};for(var f in c)j[f]=c[f];a=null}}();(function(){var c=p.documentElement,a=c.matchesSelector||c.mozMatchesSelector||c.webkitMatchesSelector||c.msMatchesSelector;if(a){var f=!a.call(p.createElement("div"),"div"),d=!1;try{a.call(p.documentElement,"[test!='']:sizzle")}catch(b){d=
!0}j.matchesSelector=function(c,b){b=b.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!j.isXML(c))try{if(d||!o.match.PSEUDO.test(b)&&!/!=/.test(b)){var e=a.call(c,b);if(e||!f||c.document&&c.document.nodeType!==11)return e}}catch(h){}return j(b,null,null,[c]).length>0}}})();(function(){var c=p.createElement("div");c.innerHTML="<div class='test e'></div><div class='test'></div>";if(c.getElementsByClassName&&c.getElementsByClassName("e").length!==0&&(c.lastChild.className="e",c.getElementsByClassName("e").length!==
1))o.order.splice(1,0,"CLASS"),o.find.CLASS=function(c,a,f){if(typeof a.getElementsByClassName!=="undefined"&&!f)return a.getElementsByClassName(c[1])},c=null})();j.contains=p.documentElement.contains?function(c,a){return c!==a&&(c.contains?c.contains(a):!0)}:p.documentElement.compareDocumentPosition?function(c,a){return!!(c.compareDocumentPosition(a)&16)}:function(){return!1};j.isXML=function(c){return(c=(c?c.ownerDocument||c:0).documentElement)?c.nodeName!=="HTML":!1};var J=function(c,a){for(var f,
d=[],b="",e=a.nodeType?[a]:a;f=o.match.PSEUDO.exec(c);)b+=f[0],c=c.replace(o.match.PSEUDO,"");c=o.relative[c]?c+"*":c;f=0;for(var h=e.length;f<h;f++)j(c,e[f],d);return j.filter(b,d)};f.find=j;f.expr=j.selectors;f.expr[":"]=f.expr.filters;f.unique=j.uniqueSort;f.text=j.getText;f.isXMLDoc=j.isXML;f.contains=j.contains})();var fb=/Until$/,gb=/^(?:parents|prevUntil|prevAll)/,hb=/,/,Ta=/^.[^:#\[\.,]*$/,ib=Array.prototype.slice,Ba=f.expr.match.POS,jb={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(c){var a=
this,d,b;if(typeof c!=="string")return f(c).filter(function(){d=0;for(b=a.length;d<b;d++)if(f.contains(a[d],this))return!0});var e=this.pushStack("","find",c),h,g,l;d=0;for(b=this.length;d<b;d++)if(h=e.length,f.find(c,this[d],e),d>0)for(g=h;g<e.length;g++)for(l=0;l<h;l++)if(e[l]===e[g]){e.splice(g--,1);break}return e},has:function(c){var a=f(c);return this.filter(function(){for(var c=0,d=a.length;c<d;c++)if(f.contains(this,a[c]))return!0})},not:function(c){return this.pushStack(o(this,c,!1),"not",
c)},filter:function(c){return this.pushStack(o(this,c,!0),"filter",c)},is:function(c){return!!c&&(typeof c==="string"?f.filter(c,this).length>0:this.filter(c).length>0)},closest:function(c,a){var d=[],b,e,h=this[0];if(f.isArray(c)){var g,l={},j=1;if(h&&c.length){b=0;for(e=c.length;b<e;b++)g=c[b],l[g]||(l[g]=Ba.test(g)?f(g,a||this.context):g);for(;h&&h.ownerDocument&&h!==a;){for(g in l)b=l[g],(b.jquery?b.index(h)>-1:f(h).is(b))&&d.push({selector:g,elem:h,level:j});h=h.parentNode;j++}}return d}g=Ba.test(c)||
typeof c!=="string"?f(c,a||this.context):0;b=0;for(e=this.length;b<e;b++)for(h=this[b];h;)if(g?g.index(h)>-1:f.find.matchesSelector(h,c)){d.push(h);break}else if(h=h.parentNode,!h||!h.ownerDocument||h===a||h.nodeType===11)break;d=d.length>1?f.unique(d):d;return this.pushStack(d,"closest",c)},index:function(c){if(!c||typeof c==="string")return f.inArray(this[0],c?f(c):this.parent().children());return f.inArray(c.jquery?c[0]:c,this)},add:function(c,a){var d=typeof c==="string"?f(c,a):f.makeArray(c&&
c.nodeType?[c]:c),b=f.merge(this.get(),d);return this.pushStack(!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11||!b[0]||!b[0].parentNode||b[0].parentNode.nodeType===11?b:f.unique(b))},andSelf:function(){return this.add(this.prevObject)}});f.each({parent:function(c){return(c=c.parentNode)&&c.nodeType!==11?c:null},parents:function(c){return f.dir(c,"parentNode")},parentsUntil:function(c,a,d){return f.dir(c,"parentNode",d)},next:function(c){return f.nth(c,2,"nextSibling")},prev:function(c){return f.nth(c,
2,"previousSibling")},nextAll:function(c){return f.dir(c,"nextSibling")},prevAll:function(c){return f.dir(c,"previousSibling")},nextUntil:function(c,a,d){return f.dir(c,"nextSibling",d)},prevUntil:function(c,a,d){return f.dir(c,"previousSibling",d)},siblings:function(c){return f.sibling(c.parentNode.firstChild,c)},children:function(c){return f.sibling(c.firstChild)},contents:function(c){return f.nodeName(c,"iframe")?c.contentDocument||c.contentWindow.document:f.makeArray(c.childNodes)}},function(c,
a){f.fn[c]=function(d,b){var e=f.map(this,a,d),h=ib.call(arguments);fb.test(c)||(b=d);b&&typeof b==="string"&&(e=f.filter(b,e));e=this.length>1&&!jb[c]?f.unique(e):e;if((this.length>1||hb.test(b))&&gb.test(c))e=e.reverse();return this.pushStack(e,c,h.join(","))}});f.extend({filter:function(c,a,d){d&&(c=":not("+c+")");return a.length===1?f.find.matchesSelector(a[0],c)?[a[0]]:[]:f.find.matches(c,a)},dir:function(c,a,d){for(var b=[],c=c[a];c&&c.nodeType!==9&&(d===i||c.nodeType!==1||!f(c).is(d));)c.nodeType===
1&&b.push(c),c=c[a];return b},nth:function(c,a,f){for(var a=a||1,d=0;c;c=c[f])if(c.nodeType===1&&++d===a)break;return c},sibling:function(c,a){for(var f=[];c;c=c.nextSibling)c.nodeType===1&&c!==a&&f.push(c);return f}});var kb=/ jQuery\d+="(?:\d+|null)"/g,pa=/^\s+/,Ca=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Da=/<([\w:]+)/,lb=/<tbody/i,mb=/<|&#?\w+;/,Ea=/<(?:script|object|embed|option|style)/i,Fa=/checked\s*(?:[^=]|=\s*.checked.)/i,nb=/\/(java|ecma)script/i,Ua=/^\s*<!(?:\[CDATA\[|\-\-)/,
E={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};E.optgroup=E.option;E.tbody=E.tfoot=E.colgroup=E.caption=E.thead;E.th=E.td;if(!f.support.htmlSerialize)E._default=[1,"div<div>","</div>"];f.fn.extend({text:function(c){if(f.isFunction(c))return this.each(function(a){var d=
f(this);d.text(c.call(this,a,d.text()))});if(typeof c!=="object"&&c!==i)return this.empty().append((this[0]&&this[0].ownerDocument||p).createTextNode(c));return f.text(this)},wrapAll:function(c){if(f.isFunction(c))return this.each(function(a){f(this).wrapAll(c.call(this,a))});if(this[0]){var a=f(c,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&a.insertBefore(this[0]);a.map(function(){for(var c=this;c.firstChild&&c.firstChild.nodeType===1;)c=c.firstChild;return c}).append(this)}return this},
wrapInner:function(c){if(f.isFunction(c))return this.each(function(a){f(this).wrapInner(c.call(this,a))});return this.each(function(){var a=f(this),d=a.contents();d.length?d.wrapAll(c):a.append(c)})},wrap:function(c){return this.each(function(){f(this).wrapAll(c)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(c){this.nodeType===1&&this.appendChild(c)})},prepend:function(){return this.domManip(arguments,
!0,function(c){this.nodeType===1&&this.insertBefore(c,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(c){this.parentNode.insertBefore(c,this)});else if(arguments.length){var c=f(arguments[0]);c.push.apply(c,this.toArray());return this.pushStack(c,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(c){this.parentNode.insertBefore(c,this.nextSibling)});else if(arguments.length){var c=
this.pushStack(this,"after",arguments);c.push.apply(c,f(arguments[0]).toArray());return c}},remove:function(c,a){for(var d=0,b;(b=this[d])!=null;d++)if(!c||f.filter(c,[b]).length)!a&&b.nodeType===1&&(f.cleanData(b.getElementsByTagName("*")),f.cleanData([b])),b.parentNode&&b.parentNode.removeChild(b);return this},empty:function(){for(var c=0,a;(a=this[c])!=null;c++)for(a.nodeType===1&&f.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(c,a){c=
c==null?!1:c;a=a==null?c:a;return this.map(function(){return f.clone(this,c,a)})},html:function(c){if(c===i)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(kb,""):null;else if(typeof c==="string"&&!Ea.test(c)&&(f.support.leadingWhitespace||!pa.test(c))&&!E[(Da.exec(c)||["",""])[1].toLowerCase()]){c=c.replace(Ca,"<$1></$2>");try{for(var a=0,d=this.length;a<d;a++)if(this[a].nodeType===1)f.cleanData(this[a].getElementsByTagName("*")),this[a].innerHTML=c}catch(b){this.empty().append(c)}}else f.isFunction(c)?
this.each(function(a){var d=f(this);d.html(c.call(this,a,d.html()))}):this.empty().append(c);return this},replaceWith:function(c){if(this[0]&&this[0].parentNode){if(f.isFunction(c))return this.each(function(a){var d=f(this),b=d.html();d.replaceWith(c.call(this,a,b))});typeof c!=="string"&&(c=f(c).detach());return this.each(function(){var a=this.nextSibling,d=this.parentNode;f(this).remove();a?f(a).before(c):f(d).append(c)})}else return this.length?this.pushStack(f(f.isFunction(c)?c():c),"replaceWith",
c):this},detach:function(c){return this.remove(c,!0)},domManip:function(c,a,d){var b,e,h,g=c[0],l=[];if(!f.support.checkClone&&arguments.length===3&&typeof g==="string"&&Fa.test(g))return this.each(function(){f(this).domManip(c,a,d,!0)});if(f.isFunction(g))return this.each(function(b){var e=f(this);c[0]=g.call(this,b,a?e.html():i);e.domManip(c,a,d)});if(this[0]){b=g&&g.parentNode;b=f.support.parentNode&&b&&b.nodeType===11&&b.childNodes.length===this.length?{fragment:b}:f.buildFragment(c,this,l);h=
b.fragment;if(e=h.childNodes.length===1?h=h.firstChild:h.firstChild){a=a&&f.nodeName(e,"tr");e=0;for(var j=this.length,k=j-1;e<j;e++)d.call(a?f.nodeName(this[e],"table")?this[e].getElementsByTagName("tbody")[0]||this[e].appendChild(this[e].ownerDocument.createElement("tbody")):this[e]:this[e],b.cacheable||j>1&&e<k?f.clone(h,!0,!0):h)}l.length&&f.each(l,w)}return this}});f.buildFragment=function(c,a,d){var b,e,h,a=a&&a[0]?a[0].ownerDocument||a[0]:p;if(c.length===1&&typeof c[0]==="string"&&c[0].length<
512&&a===p&&c[0].charAt(0)==="<"&&!Ea.test(c[0])&&(f.support.checkClone||!Fa.test(c[0])))e=!0,(h=f.fragments[c[0]])&&h!==1&&(b=h);b||(b=a.createDocumentFragment(),f.clean(c,a,b,d));e&&(f.fragments[c[0]]=h?b:1);return{fragment:b,cacheable:e}};f.fragments={};f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,a){f.fn[c]=function(d){var b=[],d=f(d),e=this.length===1&&this[0].parentNode;if(e&&e.nodeType===11&&e.childNodes.length===
1&&d.length===1)return d[a](this[0]),this;else{for(var e=0,h=d.length;e<h;e++){var g=(e>0?this.clone(!0):this).get();f(d[e])[a](g);b=b.concat(g)}return this.pushStack(b,c,d.selector)}}});f.extend({clone:function(c,a,d){var b=c.cloneNode(!0),e,h,g;if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(c.nodeType===1||c.nodeType===11)&&!f.isXMLDoc(c)){s(c,b);e=n(c);h=n(b);for(g=0;e[g];++g)s(e[g],h[g])}if(a&&(q(c,b),d)){e=n(c);h=n(b);for(g=0;e[g];++g)q(e[g],h[g])}return b},clean:function(c,a,d,b){a=
a||p;typeof a.createElement==="undefined"&&(a=a.ownerDocument||a[0]&&a[0].ownerDocument||p);for(var e=[],h,g=0,l;(l=c[g])!=null;g++)if(typeof l==="number"&&(l+=""),l){if(typeof l==="string")if(mb.test(l)){l=l.replace(Ca,"<$1></$2>");h=(Da.exec(l)||["",""])[1].toLowerCase();var j=E[h]||E._default,k=j[0],i=a.createElement("div");for(i.innerHTML=j[1]+l+j[2];k--;)i=i.lastChild;if(!f.support.tbody){k=lb.test(l);j=h==="table"&&!k?i.firstChild&&i.firstChild.childNodes:j[1]==="<table>"&&!k?i.childNodes:[];
for(h=j.length-1;h>=0;--h)f.nodeName(j[h],"tbody")&&!j[h].childNodes.length&&j[h].parentNode.removeChild(j[h])}!f.support.leadingWhitespace&&pa.test(l)&&i.insertBefore(a.createTextNode(pa.exec(l)[0]),i.firstChild);l=i.childNodes}else l=a.createTextNode(l);var o;if(!f.support.appendChecked)if(l[0]&&typeof(o=l.length)==="number")for(h=0;h<o;h++)C(l[h]);else C(l);l.nodeType?e.push(l):e=f.merge(e,l)}if(d){c=function(c){return!c.type||nb.test(c.type)};for(g=0;e[g];g++)b&&f.nodeName(e[g],"script")&&(!e[g].type||
e[g].type.toLowerCase()==="text/javascript")?b.push(e[g].parentNode?e[g].parentNode.removeChild(e[g]):e[g]):(e[g].nodeType===1&&(a=f.grep(e[g].getElementsByTagName("script"),c),e.splice.apply(e,[g+1,0].concat(a))),d.appendChild(e[g]))}return e},cleanData:function(c){for(var a,d,b=f.cache,e=f.expando,h=f.event.special,g=f.support.deleteExpando,l=0,j;(j=c[l])!=null;l++)if(!j.nodeName||!f.noData[j.nodeName.toLowerCase()])if(d=j[f.expando]){if((a=b[d]&&b[d][e])&&a.events){for(var k in a.events)h[k]?f.event.remove(j,
k):f.removeEvent(j,k,a.handle);if(a.handle)a.handle.elem=null}g?delete j[f.expando]:j.removeAttribute&&j.removeAttribute(f.expando);delete b[d]}}});var Ga=/alpha\([^)]*\)/i,ob=/opacity=([^)]*)/,pb=/-([a-z])/ig,qb=/([A-Z]|^ms)/g,Ha=/^-?\d+(?:px)?$/i,rb=/^-?\d/,sb=/^[+\-]=/,tb=/[^+\-\.\de]+/g,ub={position:"absolute",visibility:"hidden",display:"block"},Va=["Left","Right"],Wa=["Top","Bottom"],R,Ia,fa,vb=function(c,a){return a.toUpperCase()};f.fn.css=function(c,a){if(arguments.length===2&&a===i)return this;
return f.access(this,c,a,!0,function(c,a,d){return d!==i?f.style(c,a,d):f.css(c,a)})};f.extend({cssHooks:{opacity:{get:function(c,a){if(a){var d=R(c,"opacity","opacity");return d===""?"1":d}else return c.style.opacity}}},cssNumber:{zIndex:!0,fontWeight:!0,opacity:!0,zoom:!0,lineHeight:!0,widows:!0,orphans:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(c,a,d,b){if(c&&!(c.nodeType===3||c.nodeType===8||!c.style)){var e,h=f.camelCase(a),g=c.style,l=f.cssHooks[h],a=f.cssProps[h]||
h;if(d!==i){if(b=typeof d,!(b==="number"&&isNaN(d)||d==null))if(b==="string"&&sb.test(d)&&(d=+d.replace(tb,"")+parseFloat(f.css(c,a))),b==="number"&&!f.cssNumber[h]&&(d+="px"),!l||!("set"in l)||(d=l.set(c,d))!==i)try{g[a]=d}catch(j){}}else{if(l&&"get"in l&&(e=l.get(c,!1,b))!==i)return e;return g[a]}}},css:function(c,a,d){var b,e,a=f.camelCase(a);e=f.cssHooks[a];a=f.cssProps[a]||a;a==="cssFloat"&&(a="float");if(e&&"get"in e&&(b=e.get(c,!0,d))!==i)return b;else if(R)return R(c,a)},swap:function(c,a,
d){var f={},b;for(b in a)f[b]=c.style[b],c.style[b]=a[b];d.call(c);for(b in a)c.style[b]=f[b]},camelCase:function(c){return c.replace(pb,vb)}});f.curCSS=f.css;f.each(["height","width"],function(c,a){f.cssHooks[a]={get:function(c,d,b){var e;if(d){c.offsetWidth!==0?e=t(c,a,b):f.swap(c,ub,function(){e=t(c,a,b)});if(e<=0&&(e=R(c,a,a),e==="0px"&&fa&&(e=fa(c,a,a)),e!=null))return e===""||e==="auto"?"0px":e;if(e<0||e==null)return e=c.style[a],e===""||e==="auto"?"0px":e;return typeof e==="string"?e:e+"px"}},
set:function(c,a){if(Ha.test(a)){if(a=parseFloat(a),a>=0)return a+"px"}else return a}}});if(!f.support.opacity)f.cssHooks.opacity={get:function(a,d){return ob.test((d&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":d?"1":""},set:function(a,d){var b=a.style,e=a.currentStyle;b.zoom=1;var h=f.isNaN(d)?"":"alpha(opacity="+d*100+")",e=e&&e.filter||b.filter||"";b.filter=Ga.test(e)?e.replace(Ga,h):e+" "+h}};f(function(){if(!f.support.reliableMarginRight)f.cssHooks.marginRight=
{get:function(a,d){var b;f.swap(a,{display:"inline-block"},function(){b=d?R(a,"margin-right","marginRight"):a.style.marginRight});return b}}});p.defaultView&&p.defaultView.getComputedStyle&&(Ia=function(a,d){var b,e,d=d.replace(qb,"-$1").toLowerCase();if(!(e=a.ownerDocument.defaultView))return i;if(e=e.getComputedStyle(a,null))b=e.getPropertyValue(d),b===""&&!f.contains(a.ownerDocument.documentElement,a)&&(b=f.style(a,d));return b});p.documentElement.currentStyle&&(fa=function(a,d){var f,b=a.currentStyle&&
a.currentStyle[d],e=a.runtimeStyle&&a.runtimeStyle[d],h=a.style;if(!Ha.test(b)&&rb.test(b)){f=h.left;if(e)a.runtimeStyle.left=a.currentStyle.left;h.left=d==="fontSize"?"1em":b||0;b=h.pixelLeft+"px";h.left=f;if(e)a.runtimeStyle.left=e}return b===""?"auto":b});R=Ia||fa;if(f.expr&&f.expr.filters)f.expr.filters.hidden=function(a){var d=a.offsetHeight;return a.offsetWidth===0&&d===0||!f.support.reliableHiddenOffsets&&(a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)};
var wb=/%20/g,Xa=/\[\]$/,Ja=/\r?\n/g,xb=/#.*$/,yb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,zb=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ab=/^(?:GET|HEAD)$/,Bb=/^\/\//,Ka=/\?/,Cb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Db=/^(?:select|textarea)/i,sa=/\s+/,Eb=/([?&])_=[^&]*/,La=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Ma=f.fn.load,ia={},Na={},M,O;try{M=W.href}catch(Kb){M=p.createElement("a"),M.href="",M=M.href}O=La.exec(M.toLowerCase())||
[];f.fn.extend({load:function(a,d,b){if(typeof a!=="string"&&Ma)return Ma.apply(this,arguments);else if(!this.length)return this;var e=a.indexOf(" ");if(e>=0)var h=a.slice(e,a.length),a=a.slice(0,e);e="GET";d&&(f.isFunction(d)?(b=d,d=i):typeof d==="object"&&(d=f.param(d,f.ajaxSettings.traditional),e="POST"));var g=this;f.ajax({url:a,type:e,dataType:"html",data:d,complete:function(a,c,d){d=a.responseText;a.isResolved()&&(a.done(function(a){d=a}),g.html(h?f("<div>").append(d.replace(Cb,"")).find(h):
d));b&&g.each(b,[d,c,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Db.test(this.nodeName)||zb.test(this.type))}).map(function(a,d){var b=f(this).val();return b==null?null:f.isArray(b)?f.map(b,function(a){return{name:d.name,value:a.replace(Ja,"\r\n")}}):{name:d.name,value:b.replace(Ja,"\r\n")}}).get()}});
f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,d){f.fn[d]=function(a){return this.bind(d,a)}});f.each(["get","post"],function(a,d){f[d]=function(a,c,b,e){f.isFunction(c)&&(e=e||b,b=c,c=i);return f.ajax({type:d,url:a,data:c,success:b,dataType:e})}});f.extend({getScript:function(a,d){return f.get(a,i,d,"script")},getJSON:function(a,d,b){return f.get(a,d,b,"json")},ajaxSetup:function(a,d){d?f.extend(!0,a,f.ajaxSettings,d):(d=a,a=f.extend(!0,f.ajaxSettings,
d));for(var b in{context:1,url:1})b in d?a[b]=d[b]:b in f.ajaxSettings&&(a[b]=f.ajaxSettings[b]);return a},ajaxSettings:{url:M,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(O[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",
text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML}},ajaxPrefilter:y(ia),ajaxTransport:y(Na),ajax:function(a,d){function b(a,c,d,m){if(y!==2){y=2;P&&clearTimeout(P);p=i;z=m||"";x.readyState=a?4:0;var u,n,q;if(d){var m=e,s=x,w=m.contents,v=m.dataTypes,G=m.responseFields,t,B,D,W;for(B in G)B in d&&(s[G[B]]=d[B]);for(;v[0]==="*";)v.shift(),t===i&&(t=m.mimeType||s.getResponseHeader("content-type"));if(t)for(B in w)if(w[B]&&w[B].test(t)){v.unshift(B);
break}if(v[0]in d)D=v[0];else{for(B in d){if(!v[0]||m.converters[B+" "+v[0]]){D=B;break}W||(W=B)}D=D||W}D?(D!==v[0]&&v.unshift(D),d=d[D]):d=void 0}else d=i;if(a>=200&&a<300||a===304){if(e.ifModified){if(t=x.getResponseHeader("Last-Modified"))f.lastModified[o]=t;if(t=x.getResponseHeader("Etag"))f.etag[o]=t}if(a===304)c="notmodified",u=!0;else try{t=e;t.dataFilter&&(d=t.dataFilter(d,t.dataType));var U=t.dataTypes;B={};var C,K,Z=U.length,ba,E=U[0],H,N,I,L,M;for(C=1;C<Z;C++){if(C===1)for(K in t.converters)typeof K===
"string"&&(B[K.toLowerCase()]=t.converters[K]);H=E;E=U[C];if(E==="*")E=H;else if(H!=="*"&&H!==E){N=H+" "+E;I=B[N]||B["* "+E];if(!I)for(L in M=i,B)if(ba=L.split(" "),ba[0]===H||ba[0]==="*")if(M=B[ba[1]+" "+E]){L=B[L];L===!0?I=M:M===!0&&(I=L);break}!I&&!M&&f.error("No conversion from "+N.replace(" "," to "));I!==!0&&(d=I?I(d):M(L(d)))}}n=d;c="success";u=!0}catch(O){c="parsererror",q=O}}else if(q=c,!c||a)c="error",a<0&&(a=0);x.status=a;x.statusText=c;u?l.resolveWith(h,[n,c,x]):l.rejectWith(h,[x,c,q]);
x.statusCode(k);k=i;J&&g.trigger("ajax"+(u?"Success":"Error"),[x,e,u?n:q]);j.resolveWith(h,[x,c]);J&&(g.trigger("ajaxComplete",[x,e]),--f.active||f.event.trigger("ajaxStop"))}}typeof a==="object"&&(d=a,a=i);var d=d||{},e=f.ajaxSetup({},d),h=e.context||e,g=h!==e&&(h.nodeType||h instanceof f)?f(h):f.event,l=f.Deferred(),j=f._Deferred(),k=e.statusCode||{},o,n={},q={},z,s,p,P,w,y=0,J,v,x={readyState:0,setRequestHeader:function(a,c){if(!y){var d=a.toLowerCase(),a=q[d]=q[d]||a;n[a]=c}return this},getAllResponseHeaders:function(){return y===
2?z:null},getResponseHeader:function(a){var c;if(y===2){if(!s)for(s={};c=yb.exec(z);)s[c[1].toLowerCase()]=c[2];c=s[a.toLowerCase()]}return c===i?null:c},overrideMimeType:function(a){if(!y)e.mimeType=a;return this},abort:function(a){a=a||"abort";p&&p.abort(a);b(0,a);return this}};l.promise(x);x.success=x.done;x.error=x.fail;x.complete=j.done;x.statusCode=function(a){if(a){var c;if(y<2)for(c in a)k[c]=[k[c],a[c]];else c=a[x.status],x.then(c,c)}return this};e.url=((a||e.url)+"").replace(xb,"").replace(Bb,
O[1]+"//");e.dataTypes=f.trim(e.dataType||"*").toLowerCase().split(sa);if(e.crossDomain==null)w=La.exec(e.url.toLowerCase()),e.crossDomain=!(!w||!(w[1]!=O[1]||w[2]!=O[2]||(w[3]||(w[1]==="http:"?80:443))!=(O[3]||(O[1]==="http:"?80:443))));if(e.data&&e.processData&&typeof e.data!=="string")e.data=f.param(e.data,e.traditional);G(ia,e,d,x);if(y===2)return!1;J=e.global;e.type=e.type.toUpperCase();e.hasContent=!Ab.test(e.type);J&&f.active++===0&&f.event.trigger("ajaxStart");if(!e.hasContent&&(e.data&&(e.url+=
(Ka.test(e.url)?"&":"?")+e.data),o=e.url,e.cache===!1)){w=f.now();var t=e.url.replace(Eb,"$1_="+w);e.url=t+(t===e.url?(Ka.test(e.url)?"&":"?")+"_="+w:"")}(e.data&&e.hasContent&&e.contentType!==!1||d.contentType)&&x.setRequestHeader("Content-Type",e.contentType);e.ifModified&&(o=o||e.url,f.lastModified[o]&&x.setRequestHeader("If-Modified-Since",f.lastModified[o]),f.etag[o]&&x.setRequestHeader("If-None-Match",f.etag[o]));x.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+
(e.dataTypes[0]!=="*"?", */*; q=0.01":""):e.accepts["*"]);for(v in e.headers)x.setRequestHeader(v,e.headers[v]);if(e.beforeSend&&(e.beforeSend.call(h,x,e)===!1||y===2))return x.abort(),!1;for(v in{success:1,error:1,complete:1})x[v](e[v]);if(p=G(Na,e,d,x)){x.readyState=1;J&&g.trigger("ajaxSend",[x,e]);e.async&&e.timeout>0&&(P=setTimeout(function(){x.abort("timeout")},e.timeout));try{y=1,p.send(n,b)}catch(B){status<2?b(-1,B):f.error(B)}}else b(-1,"No Transport");return x},param:function(a,d){var b=
[],e=function(a,c){c=f.isFunction(c)?c():c;b[b.length]=encodeURIComponent(a)+"="+encodeURIComponent(c)};if(d===i)d=f.ajaxSettings.traditional;if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var h in a)D(h,a[h],d,e);return b.join("&").replace(wb,"+")}});f.extend({active:0,lastModified:{},etag:{}});var Fb=f.now(),ga=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+Fb++}});f.ajaxPrefilter("json jsonp",
function(a,d,b){d=a.contentType==="application/x-www-form-urlencoded"&&typeof a.data==="string";if(a.dataTypes[0]==="jsonp"||a.jsonp!==!1&&(ga.test(a.url)||d&&ga.test(a.data))){var h,g=a.jsonpCallback=f.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,l=e[g],j=a.url,k=a.data,i="$1"+g+"$2";a.jsonp!==!1&&(j=j.replace(ga,i),a.url===j&&(d&&(k=k.replace(ga,i)),a.data===k&&(j+=(/\?/.test(j)?"&":"?")+a.jsonp+"="+g)));a.url=j;a.data=k;e[g]=function(a){h=[a]};b.always(function(){e[g]=l;if(h&&
f.isFunction(l))e[g](h[0])});a.converters["script json"]=function(){h||f.error(g+" was not called");return h[0]};a.dataTypes[0]="json";return"script"}});f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}});f.ajaxPrefilter("script",function(a){if(a.cache===i)a.cache=!1;if(a.crossDomain)a.type="GET",a.global=!1});f.ajaxTransport("script",
function(a){if(a.crossDomain){var d,f=p.head||p.getElementsByTagName("head")[0]||p.documentElement;return{send:function(b,e){d=p.createElement("script");d.async="async";if(a.scriptCharset)d.charset=a.scriptCharset;d.src=a.url;d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,f&&d.parentNode&&f.removeChild(d),d=i,c||e(200,"success")};f.insertBefore(d,f.firstChild)},abort:function(){if(d)d.onload(0,1)}}}});var qa=
e.ActiveXObject?function(){for(var a in S)S[a](0,1)}:!1,Gb=0,S;f.ajaxSettings.xhr=e.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&K()))a:{try{a=new e.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}a=void 0}return a}:K;(function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(f.ajaxSettings.xhr());f.support.ajax&&f.ajaxTransport(function(a){if(!a.crossDomain||f.support.cors){var d;return{send:function(b,h){var g=a.xhr(),l,j;a.username?g.open(a.type,a.url,a.async,a.username,
a.password):g.open(a.type,a.url,a.async);if(a.xhrFields)for(j in a.xhrFields)g[j]=a.xhrFields[j];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType);!a.crossDomain&&!b["X-Requested-With"]&&(b["X-Requested-With"]="XMLHttpRequest");try{for(j in b)g.setRequestHeader(j,b[j])}catch(k){}g.send(a.hasContent&&a.data||null);d=function(b,e){var j,k,o,m,n;try{if(d&&(e||g.readyState===4)){d=i;if(l)g.onreadystatechange=f.noop,qa&&delete S[l];if(e)g.readyState!==4&&g.abort();else{j=g.status;o=g.getAllResponseHeaders();
m={};if((n=g.responseXML)&&n.documentElement)m.xml=n;m.text=g.responseText;try{k=g.statusText}catch(q){k=""}!j&&a.isLocal&&!a.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(z){e||h(-1,z)}m&&h(j,k,m,o)};!a.async||g.readyState===4?d():(l=++Gb,qa&&(S||(S={},f(e).unload(qa)),S[l]=d),g.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ja={},I,V,Hb=/^(?:toggle|show|hide)$/,Ib=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,T,ta=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width",
"marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],ca,ra=e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame;f.fn.extend({show:function(a,d,b){if(a||a===0)return this.animate(z("show",3),a,d,b);else{for(var b=0,e=this.length;b<e;b++)if(a=this[b],a.style){d=a.style.display;if(!f._data(a,"olddisplay")&&d==="none")d=a.style.display="";d===""&&f.css(a,"display")==="none"&&f._data(a,"olddisplay",x(a.nodeName))}for(b=0;b<e;b++)if(a=this[b],a.style&&(d=
a.style.display,d===""||d==="none"))a.style.display=f._data(a,"olddisplay")||"";return this}},hide:function(a,d,b){if(a||a===0)return this.animate(z("hide",3),a,d,b);else{a=0;for(d=this.length;a<d;a++)this[a].style&&(b=f.css(this[a],"display"),b!=="none"&&!f._data(this[a],"olddisplay")&&f._data(this[a],"olddisplay",b));for(a=0;a<d;a++)if(this[a].style)this[a].style.display="none";return this}},_toggle:f.fn.toggle,toggle:function(a,d,b){var e=typeof a==="boolean";f.isFunction(a)&&f.isFunction(d)?this._toggle.apply(this,
arguments):a==null||e?this.each(function(){var d=e?a:f(this).is(":hidden");f(this)[d?"show":"hide"]()}):this.animate(z("toggle",3),a,d,b);return this},fadeTo:function(a,d,f,b){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:d},a,f,b)},animate:function(a,d,b,e){var h=f.speed(d,b,e);if(f.isEmptyObject(a))return this.each(h.complete,[!1]);a=f.extend({},a);return this[h.queue===!1?"each":"queue"](function(){var d;h.queue===!1&&f._mark(this);var b=f.extend({},h),e=this.nodeType===
1,g=e&&f(this).is(":hidden"),l,j,k,i;b.animatedProperties={};for(k in a){l=f.camelCase(k);k!==l&&(a[l]=a[k],delete a[k]);j=a[l];f.isArray(j)?(b.animatedProperties[l]=j[1],d=a[l]=j[0],j=d):b.animatedProperties[l]=b.specialEasing&&b.specialEasing[l]||b.easing||"swing";if(j==="hide"&&g||j==="show"&&!g)return b.complete.call(this);if(e&&(l==="height"||l==="width"))if(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none")f.support.inlineBlockNeedsLayout?
(j=x(this.nodeName),j==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)):this.style.display="inline-block"}if(b.overflow!=null)this.style.overflow="hidden";for(k in a)if(e=new f.fx(this,b,k),j=a[k],Hb.test(j))e[j==="toggle"?g?"show":"hide":j]();else l=Ib.exec(j),d=e.cur(),l?(j=parseFloat(l[2]),i=l[3]||(f.cssNumber[k]?"":"px"),i!=="px"&&(f.style(this,k,(j||1)+i),d*=(j||1)/e.cur(),f.style(this,k,d+i)),l[1]&&(j=(l[1]==="-="?-1:1)*j+d),e.custom(d,j,i)):e.custom(d,
j,"");return!0})},stop:function(a,d){a&&this.queue([]);this.each(function(){var a=f.timers,c=a.length;for(d||f._unmark(!0,this);c--;)if(a[c].elem===this){if(d)a[c](!0);a.splice(c,1)}});d||this.dequeue();return this}});f.each({slideDown:z("show",1),slideUp:z("hide",1),slideToggle:z("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,d){f.fn[a]=function(a,c,f){return this.animate(d,a,c,f)}});f.extend({speed:function(a,d,b){var e=a&&typeof a==="object"?
f.extend({},a):{complete:b||!b&&d||f.isFunction(a)&&a,duration:a,easing:b&&d||d&&!f.isFunction(d)&&d};e.duration=f.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in f.fx.speeds?f.fx.speeds[e.duration]:f.fx.speeds._default;e.old=e.complete;e.complete=function(a){e.queue!==!1?f.dequeue(this):a!==!1&&f._unmark(this);f.isFunction(e.old)&&e.old.call(this)};return e},easing:{linear:function(a,d,f,b){return f+b*a},swing:function(a,d,f,b){return(-Math.cos(a*Math.PI)/2+0.5)*b+f}},timers:[],fx:function(a,
d,f){this.options=d;this.elem=a;this.prop=f;d.orig=d.orig||{}}});f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,d=f.css(this.elem,this.prop);return isNaN(a=parseFloat(d))?!d||d==="auto"?0:d:a},custom:function(a,d,b){function e(a){return h.step(a)}var h=this,g=f.fx,
l;this.startTime=ca||N();this.start=a;this.end=d;this.unit=b||this.unit||(f.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;e.elem=this.elem;e()&&f.timers.push(e)&&!T&&(ra?(T=1,l=function(){T&&(ra(l),g.tick())},ra(l)):T=setInterval(g.tick,g.interval))},show:function(){this.options.orig[this.prop]=f.style(this.elem,this.prop);this.options.show=!0;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());f(this.elem).show()},hide:function(){this.options.orig[this.prop]=
f.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var d=ca||N(),b=!0,e=this.elem,h=this.options,g;if(a||d>=h.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();h.animatedProperties[this.prop]=!0;for(g in h.animatedProperties)h.animatedProperties[g]!==!0&&(b=!1);if(b){h.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,c){e.style["overflow"+c]=h.overflow[a]});h.hide&&f(e).hide();if(h.hide||h.show)for(var l in h.animatedProperties)f.style(e,
l,h.orig[l]);h.complete.call(e)}return!1}else h.duration==Infinity?this.now=d:(a=d-this.startTime,this.state=a/h.duration,this.pos=f.easing[h.animatedProperties[this.prop]](this.state,a,0,1,h.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}};f.extend(f.fx,{tick:function(){for(var a=f.timers,d=0;d<a.length;++d)a[d]()||a.splice(d--,1);a.length||f.fx.stop()},interval:13,stop:function(){clearInterval(T);T=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,
"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}});if(f.expr&&f.expr.filters)f.expr.filters.animated=function(a){return f.grep(f.timers,function(d){return a===d.elem}).length};var Jb=/^t(?:able|d|h)$/i,Oa=/^(?:body|html)$/i;f.fn.offset="getBoundingClientRect"in p.documentElement?function(a){var d=this[0],b;if(a)return this.each(function(d){f.offset.setOffset(this,
a,d)});if(!d||!d.ownerDocument)return null;if(d===d.ownerDocument.body)return f.offset.bodyOffset(d);try{b=d.getBoundingClientRect()}catch(e){}var h=d.ownerDocument,g=h.documentElement;if(!b||!f.contains(g,d))return b?{top:b.top,left:b.left}:{top:0,left:0};d=h.body;h=J(h);return{top:b.top+(h.pageYOffset||f.support.boxModel&&g.scrollTop||d.scrollTop)-(g.clientTop||d.clientTop||0),left:b.left+(h.pageXOffset||f.support.boxModel&&g.scrollLeft||d.scrollLeft)-(g.clientLeft||d.clientLeft||0)}}:function(a){var d=
this[0];if(a)return this.each(function(d){f.offset.setOffset(this,a,d)});if(!d||!d.ownerDocument)return null;if(d===d.ownerDocument.body)return f.offset.bodyOffset(d);f.offset.initialize();var b,e=d.offsetParent,h=d.ownerDocument,g=h.documentElement,l=h.body;b=(h=h.defaultView)?h.getComputedStyle(d,null):d.currentStyle;for(var j=d.offsetTop,k=d.offsetLeft;(d=d.parentNode)&&d!==l&&d!==g;){if(f.offset.supportsFixedPosition&&b.position==="fixed")break;b=h?h.getComputedStyle(d,null):d.currentStyle;j-=
d.scrollTop;k-=d.scrollLeft;if(d===e){j+=d.offsetTop;k+=d.offsetLeft;if(f.offset.doesNotAddBorder&&(!f.offset.doesAddBorderForTableAndCells||!Jb.test(d.nodeName)))j+=parseFloat(b.borderTopWidth)||0,k+=parseFloat(b.borderLeftWidth)||0;e=d.offsetParent}f.offset.subtractsBorderForOverflowNotVisible&&b.overflow!=="visible"&&(j+=parseFloat(b.borderTopWidth)||0,k+=parseFloat(b.borderLeftWidth)||0)}if(b.position==="relative"||b.position==="static")j+=l.offsetTop,k+=l.offsetLeft;f.offset.supportsFixedPosition&&
b.position==="fixed"&&(j+=Math.max(g.scrollTop,l.scrollTop),k+=Math.max(g.scrollLeft,l.scrollLeft));return{top:j,left:k}};f.offset={initialize:function(){var a=p.body,d=p.createElement("div"),b,e,h,g=parseFloat(f.css(a,"marginTop"))||0;f.extend(d.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});d.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
a.insertBefore(d,a.firstChild);b=d.firstChild;e=b.firstChild;h=b.nextSibling.firstChild.firstChild;this.doesNotAddBorder=e.offsetTop!==5;this.doesAddBorderForTableAndCells=h.offsetTop===5;e.style.position="fixed";e.style.top="20px";this.supportsFixedPosition=e.offsetTop===20||e.offsetTop===15;e.style.position=e.style.top="";b.style.overflow="hidden";b.style.position="relative";this.subtractsBorderForOverflowNotVisible=e.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==g;a.removeChild(d);
f.offset.initialize=f.noop},bodyOffset:function(a){var d=a.offsetTop,b=a.offsetLeft;f.offset.initialize();f.offset.doesNotIncludeMarginInBodyOffset&&(d+=parseFloat(f.css(a,"marginTop"))||0,b+=parseFloat(f.css(a,"marginLeft"))||0);return{top:d,left:b}},setOffset:function(a,d,b){var e=f.css(a,"position");if(e==="static")a.style.position="relative";var h=f(a),g=h.offset(),l=f.css(a,"top"),j=f.css(a,"left"),k={},i={};(e==="absolute"||e==="fixed")&&f.inArray("auto",[l,j])>-1?(i=h.position(),e=i.top,j=
i.left):(e=parseFloat(l)||0,j=parseFloat(j)||0);f.isFunction(d)&&(d=d.call(a,b,g));if(d.top!=null)k.top=d.top-g.top+e;if(d.left!=null)k.left=d.left-g.left+j;"using"in d?d.using.call(a,k):h.css(k)}};f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],d=this.offsetParent(),b=this.offset(),e=Oa.test(d[0].nodeName)?{top:0,left:0}:d.offset();b.top-=parseFloat(f.css(a,"marginTop"))||0;b.left-=parseFloat(f.css(a,"marginLeft"))||0;e.top+=parseFloat(f.css(d[0],"borderTopWidth"))||0;e.left+=
parseFloat(f.css(d[0],"borderLeftWidth"))||0;return{top:b.top-e.top,left:b.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||p.body;a&&!Oa.test(a.nodeName)&&f.css(a,"position")==="static";)a=a.offsetParent;return a})}});f.each(["Left","Top"],function(a,d){var b="scroll"+d;f.fn[b]=function(d){var e,h;if(d===i){e=this[0];if(!e)return null;return(h=J(e))?"pageXOffset"in h?h[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&h.document.documentElement[b]||h.document.body[b]:
e[b]}return this.each(function(){(h=J(this))?h.scrollTo(!a?d:f(h).scrollLeft(),a?d:f(h).scrollTop()):this[b]=d})}});f.each(["Height","Width"],function(a,d){var b=d.toLowerCase();f.fn["inner"+d]=function(){return this[0]?parseFloat(f.css(this[0],b,"padding")):null};f.fn["outer"+d]=function(a){return this[0]?parseFloat(f.css(this[0],b,a?"margin":"border")):null};f.fn[b]=function(a){var c=this[0];if(!c)return a==null?null:this;if(f.isFunction(a))return this.each(function(c){var d=f(this);d[b](a.call(this,
c,d[b]()))});if(f.isWindow(c)){var e=c.document.documentElement["client"+d];return c.document.compatMode==="CSS1Compat"&&e||c.document.body["client"+d]||e}else return c.nodeType===9?Math.max(c.documentElement["client"+d],c.body["scroll"+d],c.documentElement["scroll"+d],c.body["offset"+d],c.documentElement["offset"+d]):a===i?(c=f.css(c,b),e=parseFloat(c),f.isNaN(e)?c:e):this.css(b,typeof a==="string"?a:a+"px")}});e.jQuery=e.$=f})(window);
(function(e){e.extend({base64Encode:function(e){var b="",j,k,g,a,d,h,l=0,e=e.replace(/\x0d\x0a/g,"\n");k="";for(g=0;g<e.length;g++)a=e.charCodeAt(g),a<128?k+=String.fromCharCode(a):(a>127&&a<2048?k+=String.fromCharCode(a>>6|192):(k+=String.fromCharCode(a>>12|224),k+=String.fromCharCode(a>>6&63|128)),k+=String.fromCharCode(a&63|128));for(e=k;l<e.length;)j=e.charCodeAt(l++),k=e.charCodeAt(l++),g=e.charCodeAt(l++),a=j>>2,j=(j&3)<<4|k>>4,d=(k&15)<<2|g>>6,h=g&63,isNaN(k)?d=h=64:isNaN(g)&&(h=64),b=b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(j)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h);return b},base64Decode:function(e){for(var b="",j,k,g,a,d,h=0,e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<e.length;)j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(h++)),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(h++)),
a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(h++)),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(h++)),j=j<<2|k>>4,k=(k&15)<<4|a>>2,g=(a&3)<<6|d,b+=String.fromCharCode(j),a!=64&&(b+=String.fromCharCode(k)),d!=64&&(b+=String.fromCharCode(g));e=b;b="";for(c1=c2=a=0;a<e.length;)d=e.charCodeAt(a),d<128?(b+=String.fromCharCode(d),a++):d>191&&d<224?(c2=e.charCodeAt(a+1),b+=String.fromCharCode((d&31)<<6|c2&63),a+=2):(c2=e.charCodeAt(a+
1),c3=e.charCodeAt(a+2),b+=String.fromCharCode((d&15)<<12|(c2&63)<<6|c3&63),a+=3);return b}})})(jQuery);
(function(e){function i(b){var k=b||window.event,g=[].slice.call(arguments,1),a=0,d=0,h=0,b=e.event.fix(k);b.type="mousewheel";b.wheelDelta&&(a=b.wheelDelta/120);b.detail&&(a=-b.detail/3);h=a;k.axis!==void 0&&k.axis===k.HORIZONTAL_AXIS&&(h=0,d=-1*a);k.wheelDeltaY!==void 0&&(h=k.wheelDeltaY/120);k.wheelDeltaX!==void 0&&(d=-1*k.wheelDeltaX/120);g.unshift(b,a,d,h);return e.event.handle.apply(this,g)}var b=["DOMMouseScroll","mousewheel"];e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=
b.length;e;)this.addEventListener(b[--e],i,!1);else this.onmousewheel=i},teardown:function(){if(this.removeEventListener)for(var e=b.length;e;)this.removeEventListener(b[--e],i,!1);else this.onmousewheel=null}};e.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);
(function(e){function i(){this._settings=[];this._extensions=[];this.regional=[];this.regional[""]={errorLoadingText:"Error loading",notSupportedText:"This browser does not support SVG"};this.local=this.regional[""];this._uuid=(new Date).getTime();var a;try{a=!(!window.ActiveXObject||!new ActiveXObject("RenesisX.RenesisCtrl"))}catch(d){a=!1}this._renesis=a}function b(a,d){this._svg=a;this._container=d;for(var b=0;b<e.svg._extensions.length;b++){var g=e.svg._extensions[b];this[g[0]]=new g[1](this)}}
function j(){this._path=""}function k(){this._parts=[]}function g(a){return a&&a.constructor==Array}e.extend(i.prototype,{markerClassName:"hasSVG",svgNS:"http://www.w3.org/2000/svg",xlinkNS:"http://www.w3.org/1999/xlink",_wrapperClass:b,_attrNames:{class_:"class",in_:"in",alignmentBaseline:"alignment-baseline",baselineShift:"baseline-shift",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorRendering:"color-rendering",
dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",
imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",
strokeWidth:"stroke-width",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",underlinePosition:"underline-position",underlineThickness:"underline-thickness",vertAdvY:"vert-adv-y",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode"},_attachSVG:function(a,d){var b=a.namespaceURI==this.svgNS?a:null,a=b?null:a;if(!e(a||b).hasClass(this.markerClassName)){typeof d=="string"?d={loadURL:d}:typeof d=="function"&&(d={onLoad:d});e(a||b).addClass(this.markerClassName);
try{b||(b=document.createElementNS(this.svgNS,"svg"),b.setAttribute("version","1.1"),b.setAttribute("width",a.clientWidth),b.setAttribute("height",a.clientHeight),a.appendChild(b)),this._afterLoad(a,b,d||{})}catch(g){if(e.browser.msie){if(!a.id)a.id="svg"+this._uuid++;this._settings[a.id]=d;a.innerHTML='<embed type="image/svg+xml" width="100%" height="100%" src="'+(d.initPath||"")+'blank.svg"/>'}else a.innerHTML='<p class="svg_error">'+this.local.notSupportedText+"</p>"}}},_registerSVG:function(){for(var a=
0;a<document.embeds.length;a++){var d=document.embeds[a].parentNode;if(e(d).hasClass(e.svg.markerClassName)&&!e.data(d,"svgwrapper")){var b=null;try{b=document.embeds[a].getSVGDocument()}catch(g){setTimeout(e.svg._registerSVG,250);break}(b=b?b.documentElement:null)&&e.svg._afterLoad(d,b)}}},_afterLoad:function(a,d,b){b=b||this._settings[a.id];this._settings[a?a.id:""]=null;var g=new this._wrapperClass(d,a);e.data(a||d,"svgwrapper",g);try{b.loadURL&&g.load(b.loadURL,b),b.settings&&g.configure(b.settings),
b.onLoad&&!b.loadURL&&b.onLoad.apply(a||d,[g])}catch(j){alert(j)}},_getSVG:function(a){a=typeof a=="string"?e(a)[0]:a.jquery?a[0]:a;return e.data(a,"svgwrapper")},_destroySVG:function(a){var d=e(a);d.hasClass(this.markerClassName)&&(d.removeClass(this.markerClassName),a.namespaceURI!=this.svgNS&&d.empty(),e.removeData(a,"svgwrapper"))},addExtension:function(a,d){this._extensions.push([a,d])}});e.extend(b.prototype,{_width:function(){return this._container?this._container.clientWidth:this._svg.width},
_height:function(){return this._container?this._container.clientHeight:this._svg.height},root:function(){return this._svg},configure:function(a,d){if(d)for(var b=this._svg.attributes.length-1;b>=0;b--){var e=this._svg.attributes.item(b);e.nodeName=="onload"||e.nodeName=="version"||e.nodeName.substring(0,5)=="xmlns"||this._svg.attributes.removeNamedItem(e.nodeName)}for(var g in a)this._svg.setAttribute(g,a[g]);return this},getElementById:function(a){return this._svg.ownerDocument.getElementById(a)},
change:function(a,d){if(a)for(var b in d)d[b]==null?a.removeAttribute(b):a.setAttribute(b,d[b]);return this},_args:function(a,d,b){d.splice(0,0,"parent");d.splice(d.length,0,"settings");var g={},j=0;a[0]!=null&&a[0].jquery&&(a[0]=a[0][0]);if(a[0]!=null&&!(typeof a[0]=="object"&&a[0].nodeName))g.parent=null,j=1;for(var k=0;k<a.length;k++)g[d[k+j]]=a[k];b&&e.each(b,function(a,d){if(typeof g[d]=="object")g.settings=g[d],g[d]=null});return g},title:function(){var a=this._args(arguments,["text"]),d=this._makeNode(a.parent,
"title",a.settings||{});d.appendChild(this._svg.ownerDocument.createTextNode(a.text));return d},describe:function(){var a=this._args(arguments,["text"]),d=this._makeNode(a.parent,"desc",a.settings||{});d.appendChild(this._svg.ownerDocument.createTextNode(a.text));return d},defs:function(){var a=this._args(arguments,["id"],["id"]);return this._makeNode(a.parent,"defs",e.extend(a.id?{id:a.id}:{},a.settings||{}))},symbol:function(){var a=this._args(arguments,["id","x1","y1","width","height"]);return this._makeNode(a.parent,
"symbol",e.extend({id:a.id,viewBox:a.x1+" "+a.y1+" "+a.width+" "+a.height},a.settings||{}))},marker:function(){var a=this._args(arguments,["id","refX","refY","mWidth","mHeight","orient"],["orient"]);return this._makeNode(a.parent,"marker",e.extend({id:a.id,refX:a.refX,refY:a.refY,markerWidth:a.mWidth,markerHeight:a.mHeight,orient:a.orient||"auto"},a.settings||{}))},style:function(){var a=this._args(arguments,["styles"]),d=this._makeNode(a.parent,"style",e.extend({type:"text/css"},a.settings||{}));
d.appendChild(this._svg.ownerDocument.createTextNode(a.styles));e.browser.opera&&e("head").append('<style type="text/css">'+a.styles+"</style>");return d},script:function(){var a=this._args(arguments,["script","type"],["type"]),d=this._makeNode(a.parent,"script",e.extend({type:a.type||"text/javascript"},a.settings||{}));d.appendChild(this._svg.ownerDocument.createTextNode(this._escapeXML(a.script)));e.browser.mozilla||e.globalEval(a.script);return d},linearGradient:function(){var a=this._args(arguments,
["id","stops","x1","y1","x2","y2"],["x1"]),d=e.extend({id:a.id},a.x1!=null?{x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2}:{});return this._gradient(a.parent,"linearGradient",e.extend(d,a.settings||{}),a.stops)},radialGradient:function(){var a=this._args(arguments,["id","stops","cx","cy","r","fx","fy"],["cx"]),d=e.extend({id:a.id},a.cx!=null?{cx:a.cx,cy:a.cy,r:a.r,fx:a.fx,fy:a.fy}:{});return this._gradient(a.parent,"radialGradient",e.extend(d,a.settings||{}),a.stops)},_gradient:function(a,d,b,g){a=this._makeNode(a,
d,b);for(d=0;d<g.length;d++)b=g[d],this._makeNode(a,"stop",e.extend({offset:b[0],stopColor:b[1]},b[2]!=null?{stopOpacity:b[2]}:{}));return a},pattern:function(){var a=this._args(arguments,["id","x","y","width","height","vx","vy","vwidth","vheight"],["vx"]),d=e.extend({id:a.id,x:a.x,y:a.y,width:a.width,height:a.height},a.vx!=null?{viewBox:a.vx+" "+a.vy+" "+a.vwidth+" "+a.vheight}:{});return this._makeNode(a.parent,"pattern",e.extend(d,a.settings||{}))},mask:function(){var a=this._args(arguments,["id",
"x","y","width","height"]);return this._makeNode(a.parent,"mask",e.extend({id:a.id,x:a.x,y:a.y,width:a.width,height:a.height},a.settings||{}))},createPath:function(){return new j},createText:function(){return new k},svg:function(){var a=this._args(arguments,["x","y","width","height","vx","vy","vwidth","vheight"],["vx"]),d=e.extend({x:a.x,y:a.y,width:a.width,height:a.height},a.vx!=null?{viewBox:a.vx+" "+a.vy+" "+a.vwidth+" "+a.vheight}:{});return this._makeNode(a.parent,"svg",e.extend(d,a.settings||
{}))},group:function(){var a=this._args(arguments,["id"],["id"]);return this._makeNode(a.parent,"g",e.extend({id:a.id},a.settings||{}))},use:function(){var a=this._args(arguments,["x","y","width","height","ref"]);if(typeof a.x=="string")a.ref=a.x,a.settings=a.y,a.x=a.y=a.width=a.height=null;var d=this._makeNode(a.parent,"use",e.extend({x:a.x,y:a.y,width:a.width,height:a.height},a.settings||{}));d.setAttributeNS(e.svg.xlinkNS,"href",a.ref);return d},link:function(){var a=this._args(arguments,["ref"]),
d=this._makeNode(a.parent,"a",a.settings);d.setAttributeNS(e.svg.xlinkNS,"href",a.ref);return d},image:function(){var a=this._args(arguments,["x","y","width","height","ref"]),d=this._makeNode(a.parent,"image",e.extend({x:a.x,y:a.y,width:a.width,height:a.height},a.settings||{}));d.setAttributeNS(e.svg.xlinkNS,"xlink:href",a.ref);return d},path:function(){var a=this._args(arguments,["path"]);return this._makeNode(a.parent,"path",e.extend({d:a.path.path?a.path.path():a.path},a.settings||{}))},rect:function(){var a=
this._args(arguments,["x","y","width","height","rx","ry"],["rx"]);return this._makeNode(a.parent,"rect",e.extend({x:a.x,y:a.y,width:a.width,height:a.height},a.rx?{rx:a.rx,ry:a.ry}:{},a.settings||{}))},circle:function(){var a=this._args(arguments,["cx","cy","r"]);return this._makeNode(a.parent,"circle",e.extend({cx:a.cx,cy:a.cy,r:a.r},a.settings||{}))},ellipse:function(){var a=this._args(arguments,["cx","cy","rx","ry"]);return this._makeNode(a.parent,"ellipse",e.extend({cx:a.cx,cy:a.cy,rx:a.rx,ry:a.ry},
a.settings||{}))},line:function(){var a=this._args(arguments,["x1","y1","x2","y2"]);return this._makeNode(a.parent,"line",e.extend({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},a.settings||{}))},polyline:function(){var a=this._args(arguments,["points"]);return this._poly(a.parent,"polyline",a.points,a.settings)},polygon:function(){var a=this._args(arguments,["points"]);return this._poly(a.parent,"polygon",a.points,a.settings)},_poly:function(a,d,b,g){for(var j="",k=0;k<b.length;k++)j+=b[k].join()+" ";return this._makeNode(a,
d,e.extend({points:e.trim(j)},g||{}))},text:function(){var a=this._args(arguments,["x","y","value"]);if(typeof a.x=="string"&&arguments.length<4)a.value=a.x,a.settings=a.y,a.x=a.y=null;return this._text(a.parent,"text",a.value,e.extend({x:a.x&&g(a.x)?a.x.join(" "):a.x,y:a.y&&g(a.y)?a.y.join(" "):a.y},a.settings||{}))},textpath:function(){var a=this._args(arguments,["path","value"]),d=this._text(a.parent,"textPath",a.value,a.settings||{});d.setAttributeNS(e.svg.xlinkNS,"href",a.path);return d},_text:function(a,
d,b,g){a=this._makeNode(a,d,g);if(typeof b=="string")a.appendChild(a.ownerDocument.createTextNode(b));else for(d=0;d<b._parts.length;d++)if(g=b._parts[d],g[0]=="tspan"){var j=this._makeNode(a,g[0],g[2]);j.appendChild(a.ownerDocument.createTextNode(g[1]));a.appendChild(j)}else g[0]=="tref"?(j=this._makeNode(a,g[0],g[2]),j.setAttributeNS(e.svg.xlinkNS,"href",g[1]),a.appendChild(j)):g[0]=="textpath"?(j=e.extend({},g[2]),j.href=null,j=this._makeNode(a,g[0],j),j.setAttributeNS(e.svg.xlinkNS,"href",g[2].href),
j.appendChild(a.ownerDocument.createTextNode(g[1])),a.appendChild(j)):a.appendChild(a.ownerDocument.createTextNode(g[1]));return a},other:function(){var a=this._args(arguments,["name"]);return this._makeNode(a.parent,a.name,a.settings||{})},_makeNode:function(a,d,b){var a=a||this._svg,g=this._svg.ownerDocument.createElementNS(e.svg.svgNS,d);for(d in b){var j=b[d];if(j!=null&&j!=null&&(typeof j!="string"||j!=""))g.setAttribute(e.svg._attrNames[d]||d,j)}a.appendChild(g);return g},add:function(a){var d=
this._args(arguments.length==1?[null,a]:arguments,["node"]),b=this;d.parent=d.parent||this._svg;try{if(e.svg._renesis)throw"Force traversal";d.parent.appendChild(d.node.cloneNode(!0))}catch(g){d.node=d.node.jquery?d.node:e(d.node),d.node.each(function(){var a=b._cloneAsSVG(this);a&&d.parent.appendChild(a)})}return this},_cloneAsSVG:function(a){var d=null;if(a.nodeType==1){for(var d=this._svg.ownerDocument.createElementNS(e.svg.svgNS,this._checkName(a.nodeName)),b=0;b<a.attributes.length;b++){var g=
a.attributes.item(b);g.nodeName!="xmlns"&&g.nodeValue&&(g.prefix=="xlink"?d.setAttributeNS(e.svg.xlinkNS,g.localName,g.nodeValue):d.setAttribute(this._checkName(g.nodeName),g.nodeValue))}for(b=0;b<a.childNodes.length;b++)(g=this._cloneAsSVG(a.childNodes[b]))&&d.appendChild(g)}else if(a.nodeType==3)e.trim(a.nodeValue)&&(d=this._svg.ownerDocument.createTextNode(a.nodeValue));else if(a.nodeType==4&&e.trim(a.nodeValue))try{d=this._svg.ownerDocument.createCDATASection(a.nodeValue)}catch(j){d=this._svg.ownerDocument.createTextNode(a.nodeValue.replace(/&/g,
"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"))}return d},_checkName:function(a){a=a.substring(0,1)>="A"&&a.substring(0,1)<="Z"?a.toLowerCase():a;return a.substring(0,4)=="svg:"?a.substring(4):a},load:function(a,d){d=typeof d=="boolean"?{addTo:d}:typeof d=="function"?{onLoad:d}:d||{};d.addTo||this.clear(!1);var b=[this._svg.getAttribute("width"),this._svg.getAttribute("height")],g=this,j=function(a){a=e.svg.local.errorLoadingText+": "+a;d.onLoad?d.onLoad.apply(g._container||g._svg,[g,a]):g.text(null,
10,20,a)},k=function(a){var d=new ActiveXObject("Microsoft.XMLDOM");d.validateOnParse=!1;d.resolveExternals=!1;d.async=!1;d.loadXML(a);if(d.parseError.errorCode!=0)return j(d.parseError.reason),null;return d},i=function(a){if(a)if(a.documentElement.nodeName!="svg"){var k=a.getElementsByTagName("parsererror"),a=k.length?k[0].getElementsByTagName("div"):[];j(!k.length?"???":(a.length?a[0]:k[0]).firstChild.nodeValue)}else{for(var i={},k=0;k<a.documentElement.attributes.length;k++){var q=a.documentElement.attributes.item(k);
if(!(q.nodeName=="version"||q.nodeName.substring(0,5)=="xmlns"))i[q.nodeName]=q.nodeValue}g.configure(i,!0);a=a.documentElement.childNodes;for(k=0;k<a.length;k++)try{if(e.svg._renesis)throw"Force traversal";g._svg.appendChild(a[k].cloneNode(!0));a[k].nodeName=="script"&&e.globalEval(a[k].textContent)}catch(s){g.add(null,a[k])}d.changeSize||g.configure({width:b[0],height:b[1]});d.onLoad&&d.onLoad.apply(g._container||g._svg,[g])}};a.match("<svg")?i(e.browser.msie?k(a):(new DOMParser).parseFromString(a,
"text/xml")):e.ajax({url:a,dataType:e.browser.msie?"text":"xml",success:function(a){i(e.browser.msie?k(a):a)},error:function(a,d,b){j(d+(b?" "+b.message:""))}});return this},remove:function(a){a=a.jquery?a[0]:a;a.parentNode.removeChild(a);return this},clear:function(a){for(a&&this.configure({},!0);this._svg.firstChild;)this._svg.removeChild(this._svg.firstChild);return this},toSVG:function(a){a=a||this._svg;return typeof XMLSerializer==="undefined"?this._toSVG(a):(new XMLSerializer).serializeToString(a)},
_toSVG:function(a){var d="";if(!a)return d;if(a.nodeType==3)d=a.nodeValue;else if(a.nodeType==4)d="<![CDATA["+a.nodeValue+"]]\>";else{d="<"+a.nodeName;if(a.attributes)for(var b=0;b<a.attributes.length;b++){var g=a.attributes.item(b);e.trim(g.nodeValue)==""||g.nodeValue.match(/^\[object/)||g.nodeValue.match(/^function/)||(d+=" "+(g.namespaceURI==e.svg.xlinkNS?"xlink:":"")+g.nodeName+'="'+g.nodeValue+'"')}if(a.firstChild){d+=">";for(b=a.firstChild;b;)d+=this._toSVG(b),b=b.nextSibling;d+="</"+a.nodeName+
">"}else d+="/>"}return d},_escapeXML:function(a){a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");return a.replace(/>/g,"&gt;")}});e.extend(j.prototype,{reset:function(){this._path="";return this},move:function(a,d,b){b=g(a)?d:b;return this._coords(b?"m":"M",a,d)},line:function(a,d,b){b=g(a)?d:b;return this._coords(b?"l":"L",a,d)},horiz:function(a,d){this._path+=(d?"h":"H")+(g(a)?a.join(" "):a);return this},vert:function(a,d){this._path+=(d?"v":"V")+(g(a)?a.join(" "):a);return this},curveC:function(a,
d,b,e,j,k,i){i=g(a)?d:i;return this._coords(i?"c":"C",a,d,b,e,j,k)},smoothC:function(a,d,b,e,j){j=g(a)?d:j;return this._coords(j?"s":"S",a,d,b,e)},curveQ:function(a,d,b,e,j){j=g(a)?d:j;return this._coords(j?"q":"Q",a,d,b,e)},smoothQ:function(a,d,b){b=g(a)?d:b;return this._coords(b?"t":"T",a,d)},_coords:function(a,d,b,e,j,k,i){if(g(d))for(b=0;b<d.length;b++)e=d[b],this._path+=(b==0?a:" ")+e[0]+","+e[1]+(e.length<4?"":" "+e[2]+","+e[3]+(e.length<6?"":" "+e[4]+","+e[5]));else this._path+=a+d+","+b+(e==
null?"":" "+e+","+j+(k==null?"":" "+k+","+i));return this},arc:function(a,d,b,e,j,k,i,n){n=g(a)?d:n;this._path+=n?"a":"A";if(g(a))for(d=0;d<a.length;d++)b=a[d],this._path+=(d==0?"":" ")+b[0]+","+b[1]+" "+b[2]+" "+(b[3]?"1":"0")+","+(b[4]?"1":"0")+" "+b[5]+","+b[6];else this._path+=a+","+d+" "+b+" "+(e?"1":"0")+","+(j?"1":"0")+" "+k+","+i;return this},close:function(){this._path+="z";return this},path:function(){return this._path}});j.prototype.moveTo=j.prototype.move;j.prototype.lineTo=j.prototype.line;
j.prototype.horizTo=j.prototype.horiz;j.prototype.vertTo=j.prototype.vert;j.prototype.curveCTo=j.prototype.curveC;j.prototype.smoothCTo=j.prototype.smoothC;j.prototype.curveQTo=j.prototype.curveQ;j.prototype.smoothQTo=j.prototype.smoothQ;j.prototype.arcTo=j.prototype.arc;e.extend(k.prototype,{reset:function(){this._parts=[];return this},string:function(a){this._parts[this._parts.length]=["text",a];return this},span:function(a,d){this._parts[this._parts.length]=["tspan",a,d];return this},ref:function(a,
d){this._parts[this._parts.length]=["tref",a,d];return this},path:function(a,d,b){this._parts[this._parts.length]=["textpath",d,e.extend({href:a},b||{})];return this}});e.fn.svg=function(a){var d=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&a=="get")return e.svg["_"+a+"SVG"].apply(e.svg,[this[0]].concat(d));return this.each(function(){typeof a=="string"?e.svg["_"+a+"SVG"].apply(e.svg,[this].concat(d)):e.svg._attachSVG(this,a||{})})};e.svg=new i})(jQuery);
(function(e){function i(b){for(var g=0;g<b.length;g++)if(b[g].nodeType==1&&b[g].namespaceURI==e.svg.svgNS)return!0;return!1}function b(b){return b.nodeType==1&&b.namespaceURI==e.svg.svgNS}e.fn.addClass=function(j){return function(g){g=g||"";return this.each(function(){if(b(this)){var a=this;e.each(g.split(/\s+/),function(d,b){var g=a.className?a.className.baseVal:a.getAttribute("class");if(e.inArray(b,g.split(/\s+/))==-1)g+=(g?" ":"")+b,a.className?a.className.baseVal=g:a.setAttribute("class",g)})}else j.apply(e(this),
[g])})}}(e.fn.addClass);e.fn.removeClass=function(j){return function(g){g=g||"";return this.each(function(){if(b(this)){var a=this;e.each(g.split(/\s+/),function(d,b){var g=a.className?a.className.baseVal:a.getAttribute("class"),g=e.grep(g.split(/\s+/),function(a){return a!=b}).join(" ");a.className?a.className.baseVal=g:a.setAttribute("class",g)})}else j.apply(e(this),[g])})}}(e.fn.removeClass);e.fn.toggleClass=function(j){return function(g,a){return this.each(function(){b(this)?(typeof a!=="boolean"&&
(a=!e(this).hasClass(g)),e(this)[(a?"add":"remove")+"Class"](g)):j.apply(e(this),[g,a])})}}(e.fn.toggleClass);e.fn.hasClass=function(j){return function(g){var g=g||"",a=!1;this.each(function(){if(b(this)){var d=(this.className?this.className.baseVal:this.getAttribute("class")).split(/\s+/);a=e.inArray(g,d)>-1}else a=j.apply(e(this),[g]);return!a});return a}}(e.fn.hasClass);e.fn.attr=function(j){return function(g,a,d){if(typeof g==="string"&&a===void 0){var h=j.apply(this,[g,a,d]);if(h&&h.baseVal&&
h.baseVal.numberOfItems!=null){for(var a="",h=h.baseVal,l=0;l<h.numberOfItems;l++){var i=h.getItem(l);switch(i.type){case 1:a+=" matrix("+i.matrix.a+","+i.matrix.b+","+i.matrix.c+","+i.matrix.d+","+i.matrix.e+","+i.matrix.f+")";break;case 2:a+=" translate("+i.matrix.e+","+i.matrix.f+")";break;case 3:a+=" scale("+i.matrix.a+","+i.matrix.d+")";break;case 4:a+=" rotate("+i.angle+")";break;case 5:a+=" skewX("+i.angle+")";break;case 6:a+=" skewY("+i.angle+")"}}h=a.substring(1)}return h&&h.baseVal?h.baseVal.valueAsString:
h}var q=g;typeof g==="string"&&(q={},q[g]=a);return this.each(function(){if(b(this))for(var h in q){var l=e.isFunction(q[h])?q[h]():q[h];d?this.style[h]=l:this.setAttribute(h,l)}else j.apply(e(this),[g,a,d])})}}(e.fn.attr);e.fn.removeAttr=function(j){return function(g){return this.each(function(){b(this)?this[g]&&this[g].baseVal?this[g].baseVal.value="":this.setAttribute(g,""):j.apply(e(this),[g])})}}(e.fn.removeAttr);e.expr.relative["+"]=function(b){return function(e,a,d){b(e,a,d||i(e))}}(e.expr.relative["+"]);
e.expr.relative[">"]=function(b){return function(e,a,d){b(e,a,d||i(e))}}(e.expr.relative[">"]);e.expr.relative[""]=function(b){return function(e,a,d){b(e,a,d||i(e))}}(e.expr.relative[""]);e.expr.relative["~"]=function(b){return function(e,a,d){b(e,a,d||i(e))}}(e.expr.relative["~"]);e.expr.find.ID=function(e){return function(g,a,d){return b(a)?[a.ownerDocument.getElementById(g[1])]:e(g,a,d)}}(e.expr.find.ID);var j=document.createElement("div");j.appendChild(document.createComment(""));if(j.getElementsByTagName("*").length>
0)e.expr.find.TAG=function(b,e){var a=e.getElementsByTagName(b[1]);if(b[1]==="*"){for(var d=[],h=0;a[h]||a.item(h);h++)if((a[h]||a.item(h)).nodeType===1)d.push(a[h]||a.item(h));a=d}return a};e.expr.preFilter.CLASS=function(e,g,a,d,h,j){e=" "+e[1].replace(/\\/g,"")+" ";if(j)return e;for(var j=0,i={};i!=null;j++){i=g[j];if(!i)try{i=g.item(j)}catch(q){}if(i){var s=!b(i)?i.className:(i.className?i.className.baseVal:"")||i.getAttribute("class");h^(s&&(" "+s+" ").indexOf(e)>-1)?a||d.push(i):a&&(g[j]=!1)}}return!1};
e.expr.filter.CLASS=function(e,g){return(" "+(!b(e)?e.className:e.className?e.className.baseVal:e.getAttribute("class"))+" ").indexOf(g)>-1};e.expr.filter.ATTR=function(j){return function(g,a){var d=null;b(g)&&(d=a[1],e.expr.attrHandle[d]=function(a){return(a=a.getAttribute(d))&&a.baseVal||a});var h=j(g,a);d&&(e.expr.attrHandle[d]=null);return h}}(e.expr.filter.ATTR)})(jQuery);
(function(e){function i(a){for(var a=a.split(" "),d=0;d<a.length;d++)a[d]=parseFloat(a[d]),isNaN(a[d])&&(a[d]=0);for(;a.length<4;)a.push(0);return a}function b(a,d){a=a||"";if(typeof a=="object")a=a.nodeValue;var b=e.extend({translateX:0,translateY:0,scaleX:0,scaleY:0,rotateA:0,rotateX:0,rotateY:0,skewX:0,skewY:0,matrix:[0,0,0,0,0,0]},d||{});b.order="";for(var g=/([a-zA-Z]+)\(\s*([+-]?[\d\.]+)\s*(?:[\s,]\s*([+-]?[\d\.]+)\s*(?:[\s,]\s*([+-]?[\d\.]+)\s*(?:[\s,]\s*([+-]?[\d\.]+)\s*[\s,]\s*([+-]?[\d\.]+)\s*[\s,]\s*([+-]?[\d\.]+)\s*)?)?)?\)/g,
j=g.exec(a);j;){switch(j[1]){case "translate":b.order+="t";b.translateX=parseFloat(j[2]);b.translateY=j[3]?parseFloat(j[3]):0;break;case "scale":b.order+="s";b.scaleX=parseFloat(j[2]);b.scaleY=j[3]?parseFloat(j[3]):b.scaleX;break;case "rotate":b.order+="r";b.rotateA=parseFloat(j[2]);b.rotateX=j[3]?parseFloat(j[3]):0;b.rotateY=j[4]?parseFloat(j[4]):0;break;case "skewX":b.order+="x";b.skewX=parseFloat(j[2]);break;case "skewY":b.order+="y";b.skewY=parseFloat(j[2]);break;case "matrix":b.order+="m",b.matrix=
[parseFloat(j[2]),parseFloat(j[3]),parseFloat(j[4]),parseFloat(j[5]),parseFloat(j[6]),parseFloat(j[7])]}j=g.exec(a)}return b}function j(a,d){var b;do if(b=a.attributes&&a.attributes.getNamedItem(d)?a.attributes.getNamedItem(d).nodeValue:"",b!=""&&b!="none"||e(a).hasClass("hasSVG"))break;while(a=a.parentNode);return k(b)}function k(a){var d;if(a&&a.constructor==Array&&(a.length==3||a.length==4))return a;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))return[parseInt(d[1],
10),parseInt(d[2],10),parseInt(d[3],10)];if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))return[parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55];if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)];if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)];return g[e.trim(a).toLowerCase()]||
g.none}e.each(["x","y","width","height","rx","ry","cx","cy","r","x1","y1","x2","y2","stroke-width","strokeWidth","opacity","fill-opacity","fillOpacity","stroke-opacity","strokeOpacity","font-size","fontSize"],function(a,d){var b=d.charAt(0).toUpperCase()+d.substr(1);e.fx.step["svg"+b]=e.fx.step["svg-"+d]=function(a){var g=e.svg._attrNames[d]||d,j=a.elem.attributes.getNamedItem(g);if(!a.set){a.start=j?parseFloat(j.nodeValue):0;var k=a.options.curAnim["svg-"+d]||a.options.curAnim["svg"+b];if(/^[+-]=/.exec(k))a.end=
a.start+parseFloat(k.replace(/=/,""));e(a.elem).css(g,"");a.set=!0}k=a.pos*(a.end-a.start)+a.start+(a.unit=="%"?"%":"");j?j.nodeValue=k:a.elem.setAttribute(g,k)}});e.fx.step.svgViewBox=e.fx.step["svg-viewBox"]=function(a){var d=a.elem.attributes.getNamedItem("viewBox");if(!a.set){a.start=i(d?d.nodeValue:"");var b=a.options.curAnim["svg-viewBox"]||a.options.curAnim.svgViewBox;a.end=i(b);if(/^[+-]=/.exec(b)){for(b=b.split(" ");b.length<4;)b.push("0");for(var g=0;g<4;g++)/^[+-]=/.exec(b[g])&&(a.end[g]=
a.start[g]+parseFloat(b[g].replace(/=/,"")))}a.set=!0}b=e.map(a.start,function(d,b){return a.pos*(a.end[b]-d)+d}).join(" ");d?d.nodeValue=b:a.elem.setAttribute("viewBox",b)};e.fx.step.svgTransform=e.fx.step["svg-transform"]=function(a){var d=a.elem.attributes.getNamedItem("transform");if(!a.set)a.start=b(d?d.nodeValue:""),a.end=b(a.end,a.start),a.set=!0;for(var e="",g=0;g<a.end.order.length;g++)switch(a.end.order.charAt(g)){case "t":e+=a.start.translateX!=a.end.translateX||a.start.translateY!=a.end.translateY?
" translate("+(a.pos*(a.end.translateX-a.start.translateX)+a.start.translateX)+","+(a.pos*(a.end.translateY-a.start.translateY)+a.start.translateY)+")":"";break;case "s":e+=a.start.scaleX!=a.end.scaleX||a.start.scaleY!=a.end.scaleY?" scale("+(a.pos*(a.end.scaleX-a.start.scaleX)+a.start.scaleX)+","+(a.pos*(a.end.scaleY-a.start.scaleY)+a.start.scaleY)+")":"";break;case "r":e+=a.start.rotateA!=a.end.rotateA||a.start.rotateX!=a.end.rotateX||a.start.rotateY!=a.end.rotateY?" rotate("+(a.pos*(a.end.rotateA-
a.start.rotateA)+a.start.rotateA)+","+(a.pos*(a.end.rotateX-a.start.rotateX)+a.start.rotateX)+","+(a.pos*(a.end.rotateY-a.start.rotateY)+a.start.rotateY)+")":"";break;case "x":e+=a.start.skewX!=a.end.skewX?" skewX("+(a.pos*(a.end.skewX-a.start.skewX)+a.start.skewX)+")":"";case "y":e+=a.start.skewY!=a.end.skewY?" skewY("+(a.pos*(a.end.skewY-a.start.skewY)+a.start.skewY)+")":"";break;case "m":for(var j="",k=0;k<6;k++)j+=","+(a.pos*(a.end.matrix[k]-a.start.matrix[k])+a.start.matrix[k]);e+=" matrix("+
j.substr(1)+")"}d?d.nodeValue=e:a.elem.setAttribute("transform",e)};e.each(["fill","stroke"],function(a,d){var b=d.charAt(0).toUpperCase()+d.substr(1);e.fx.step["svg"+b]=e.fx.step["svg-"+d]=function(a){if(!a.set){a.start=j(a.elem,d);var b=a.end=="none";a.end=b?j(a.elem.parentNode,d):k(a.end);a.end[3]=b;e(a.elem).css(d,"");a.set=!0}var b=a.elem.attributes.getNamedItem(d),g="rgb("+[Math.min(Math.max(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),0),255),Math.min(Math.max(parseInt(a.pos*(a.end[1]-
a.start[1])+a.start[1],10),0),255),Math.min(Math.max(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),0),255)].join(",")+")",g=a.end[3]&&a.state==1?"none":g;b?b.nodeValue=g:a.elem.setAttribute(d,g)}});var g={"":[255,255,255,1],none:[255,255,255,1],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,
42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],
darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],
greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,
170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,
25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],
red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,
222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}})(jQuery);jQuery.fn.disableTextSelect=function(){return this.each(function(){$(this).css({MozUserSelect:"none"}).bind("selectstart select",function(){return!1}).mousedown(function(){return!1})})};jQuery.fn.enableTextSelect=function(){return this.each(function(){$(this).css({MozUserSelect:""}).unbind("selectstart select").mousedown(function(){return!0})})};define("libs/jquery.js",function(){});
(function(){if(!window.console){var e=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};for(var i=function(){},b=0;b<e.length;++b)window.console[e[b]]=i}SVGElement.prototype.getTransformToElement=SVGElement.prototype.getTransformToElement||function(b){return b.getScreenCTM().inverse().multiply(this.getScreenCTM())}})();define("libs/util.js",function(){});
var jscolor={dir:"",bindClass:"color",binding:!0,preloading:!0,install:function(){jscolor.addEvent(window,"load",jscolor.init)},init:function(){jscolor.binding&&jscolor.bind();jscolor.preloading&&jscolor.preload()},getDir:function(){if(!jscolor.dir){var e=jscolor.detectDir();jscolor.dir=e!==!1?e:"jscolor/"}return jscolor.dir},detectDir:function(){for(var e=location.href,i=document.getElementsByTagName("base"),b=0;b<i.length;b+=1)if(i[b].href)e=i[b].href;i=document.getElementsByTagName("script");for(b=
0;b<i.length;b+=1)if(i[b].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test(i[b].src))return e=(new jscolor.URI(i[b].src)).toAbsolute(e),e.path=e.path.replace(/[^\/]+$/,""),e.query=null,e.fragment=null,e.toString();return!1},bind:function(){for(var e=RegExp("(^|\\s)("+jscolor.bindClass+")\\s*(\\{[^}]*\\})?","i"),i=document.getElementsByTagName("input"),b=0;b<i.length;b+=1){var j;if(!i[b].color&&i[b].className&&(j=i[b].className.match(e))){if(j[3])try{eval("prop="+j[3])}catch(k){}i[b].color=new jscolor.color(i[b],
{})}}},preload:function(){for(var e in jscolor.imgRequire)jscolor.imgRequire.hasOwnProperty(e)&&jscolor.loadImage(e)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(e){jscolor.imgRequire[e]=!0},loadImage:function(e){if(!jscolor.imgLoaded[e])jscolor.imgLoaded[e]=new Image,jscolor.imgLoaded[e].src=jscolor.getDir()+e},fetchElement:function(e){return typeof e==="string"?document.getElementById(e):e},addEvent:function(e,i,b){e.addEventListener?
e.addEventListener(i,b,!1):e.attachEvent&&e.attachEvent("on"+i,b)},fireEvent:function(e,i){if(e)if(document.createEvent){var b=document.createEvent("HTMLEvents");b.initEvent(i,!0,!0);e.dispatchEvent(b)}else if(document.createEventObject)b=document.createEventObject(),e.fireEvent("on"+i,b);else if(e["on"+i])e["on"+i]()},getElementPos:function(e){var i=e,b=0,j=0;if(i.offsetParent){do b+=i.offsetLeft,j+=i.offsetTop;while(i=i.offsetParent)}for(;(e=e.parentNode)&&e.nodeName.toUpperCase()!=="BODY";)b-=
e.scrollLeft,j-=e.scrollTop;return[b,j]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getRelMousePos:function(e){var i=0,b=0;if(!e)e=window.event;if(typeof e.offsetX==="number")i=e.offsetX,b=e.offsetY;else if(typeof e.layerX==="number")i=e.layerX,b=e.layerY;return{x:i,y:b}},getViewPos:function(){return typeof window.pageYOffset==="number"?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:
document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return typeof window.innerWidth==="number"?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?
[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},URI:function(e){function i(b){for(var e="";b;)if(b.substr(0,3)==="../"||b.substr(0,2)==="./")b=b.replace(/^\.+/,"").substr(1);else if(b.substr(0,3)==="/./"||b==="/.")b="/"+b.substr(3);else if(b.substr(0,4)==="/../"||b==="/..")b="/"+b.substr(4),e=e.replace(/\/?[^\/]*$/,"");else if(b==="."||b==="..")b="";else{var k=b.match(/^\/?[^\/]*/)[0],b=b.substr(k.length);e+=k}return e}this.authority=this.scheme=null;this.path=
"";this.fragment=this.query=null;this.parse=function(b){b=b.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/);this.scheme=b[3]?b[2]:null;this.authority=b[5]?b[6]:null;this.path=b[7];this.query=b[9]?b[10]:null;this.fragment=b[12]?b[13]:null;return this};this.toString=function(){var b="";this.scheme!==null&&(b=b+this.scheme+":");this.authority!==null&&(b=b+"//"+this.authority);this.path!==null&&(b+=this.path);this.query!==null&&(b=b+"?"+this.query);this.fragment!==
null&&(b=b+"#"+this.fragment);return b};this.toAbsolute=function(b){var b=new jscolor.URI(b),e=new jscolor.URI;if(b.scheme===null)return!1;if(this.scheme!==null&&this.scheme.toLowerCase()===b.scheme.toLowerCase())this.scheme=null;this.scheme!==null?(e.scheme=this.scheme,e.authority=this.authority,e.path=i(this.path),e.query=this.query):(this.authority!==null?(e.authority=this.authority,e.path=i(this.path),e.query=this.query):(this.path===""?(e.path=b.path,e.query=this.query!==null?this.query:b.query):
(this.path.substr(0,1)==="/"?e.path=i(this.path):(e.path=b.authority!==null&&b.path===""?"/"+this.path:b.path.replace(/[^\/]+$/,"")+this.path,e.path=i(e.path)),e.query=this.query),e.authority=b.authority),e.scheme=b.scheme);e.fragment=this.fragment;return e};e&&this.parse(e)},color:function(e,i){function b(a,d,b){if(a===null)return[b,b,b];var e=Math.floor(a),g=b*(1-d),a=b*(1-d*(e%2?a-e:1-(a-e)));switch(e){case 6:case 0:return[b,a,g];case 1:return[a,b,g];case 2:return[g,b,a];case 3:return[g,a,b];case 4:return[a,
g,b];case 5:return[b,g,a]}}function j(d,b){if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(n.pickerCloseText)};for(var h=0;h<jscolor.images.sld[1];h+=
4){var j=document.createElement("div");j.style.height="4px";j.style.fontSize="1px";j.style.lineHeight="0";jscolor.picker.sld.appendChild(j)}jscolor.picker.sldB.appendChild(jscolor.picker.sld);jscolor.picker.box.appendChild(jscolor.picker.sldB);jscolor.picker.box.appendChild(jscolor.picker.sldM);jscolor.picker.padB.appendChild(jscolor.picker.pad);jscolor.picker.box.appendChild(jscolor.picker.padB);jscolor.picker.box.appendChild(jscolor.picker.padM);jscolor.picker.btnS.appendChild(jscolor.picker.btnT);
jscolor.picker.btn.appendChild(jscolor.picker.btnS);jscolor.picker.box.appendChild(jscolor.picker.btn);jscolor.picker.boxB.appendChild(jscolor.picker.box)}var i=jscolor.picker;i.box.onmouseup=i.box.onmouseout=function(){e.focus()};i.box.onmousedown=function(){C=!0};i.box.onmousemove=function(a){if(y||G)y&&l(a),G&&o(a),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),q()};i.padM.onmouseup=i.padM.onmouseout=function(){y&&(y=!1,jscolor.fireEvent(w,
"change"))};i.padM.onmousedown=function(a){y=!0;l(a);q()};i.sldM.onmouseup=i.sldM.onmouseout=function(){G&&(G=!1,jscolor.fireEvent(w,"change"))};i.sldM.onmousedown=function(a){G=!0;o(a);q()};h=k(n);i.box.style.width=h[0]+"px";i.box.style.height=h[1]+"px";i.boxB.style.position="absolute";i.boxB.style.clear="both";i.boxB.style.left=d+"px";i.boxB.style.top=b+"px";i.boxB.style.zIndex=n.pickerZIndex;i.boxB.style.border=n.pickerBorder+"px solid";i.boxB.style.borderColor=n.pickerBorderColor;i.boxB.style.background=
n.pickerFaceColor;i.pad.style.width=jscolor.images.pad[0]+"px";i.pad.style.height=jscolor.images.pad[1]+"px";i.padB.style.position="absolute";i.padB.style.left=n.pickerFace+"px";i.padB.style.top=n.pickerFace+"px";i.padB.style.border=n.pickerInset+"px solid";i.padB.style.borderColor=n.pickerInsetColor;i.padM.style.position="absolute";i.padM.style.left="0";i.padM.style.top="0";i.padM.style.width=n.pickerFace+2*n.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px";i.padM.style.height=i.box.style.height;
i.padM.style.cursor="crosshair";i.sld.style.overflow="hidden";i.sld.style.width=jscolor.images.sld[0]+"px";i.sld.style.height=jscolor.images.sld[1]+"px";i.sldB.style.display=n.slider?"block":"none";i.sldB.style.position="absolute";i.sldB.style.right=n.pickerFace+"px";i.sldB.style.top=n.pickerFace+"px";i.sldB.style.border=n.pickerInset+"px solid";i.sldB.style.borderColor=n.pickerInsetColor;i.sldM.style.display=n.slider?"block":"none";i.sldM.style.position="absolute";i.sldM.style.right="0";i.sldM.style.top=
"0";i.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+n.pickerFace+2*n.pickerInset+"px";i.sldM.style.height=i.box.style.height;try{i.sldM.style.cursor="pointer"}catch(s){i.sldM.style.cursor="hand"}i.btn.style.display=n.pickerClosable?"block":"none";i.btn.style.position="absolute";i.btn.style.left=n.pickerFace+"px";i.btn.style.bottom=n.pickerFace+"px";i.btn.style.padding="0 15px";i.btn.style.height="18px";i.btn.style.border=n.pickerInset+"px solid";(function(){var a=n.pickerInsetColor.split(/\s+/);
i.btn.style.borderColor=a.length<2?a[0]:a[1]+" "+a[0]+" "+a[0]+" "+a[1]})();i.btn.style.color=n.pickerButtonColor;i.btn.style.font="12px sans-serif";i.btn.style.textAlign="center";try{i.btn.style.cursor="pointer"}catch(f){i.btn.style.cursor="hand"}i.btn.onmousedown=function(){n.hidePicker()};i.btnS.style.lineHeight=i.btn.style.height;switch(v){case 0:var t="../../img/jscolor_hs.png";break;case 1:t="../../img/jscolor_hv.png"}i.padM.style.backgroundImage="url('"+jscolor.getDir()+"../../img/jscolor_cross.gif')";
i.padM.style.backgroundRepeat="no-repeat";i.sldM.style.backgroundImage="url('"+jscolor.getDir()+"../../img/jscolor_arrow.gif')";i.sldM.style.backgroundRepeat="no-repeat";i.pad.style.backgroundImage="url('"+jscolor.getDir()+t+"')";i.pad.style.backgroundRepeat="no-repeat";i.pad.style.backgroundPosition="0 0";g();a();jscolor.picker.owner=n;document.getElementsByTagName("body")[0].appendChild(i.boxB)}function k(a){return[2*a.pickerInset+2*a.pickerFace+jscolor.images.pad[0]+(a.slider?2*a.pickerInset+2*
jscolor.images.arrow[0]+jscolor.images.sld[0]:0),a.pickerClosable?4*a.pickerInset+3*a.pickerFace+jscolor.images.pad[1]+a.pickerButtonHeight:2*a.pickerInset+2*a.pickerFace+jscolor.images.pad[1]]}function g(){switch(v){case 0:var a=1;break;case 1:a=2}jscolor.picker.padM.style.backgroundPosition=n.pickerFace+n.pickerInset+Math.round(n.hsv[0]/6*(jscolor.images.pad[0]-1))-Math.floor(jscolor.images.cross[0]/2)+"px "+(n.pickerFace+n.pickerInset+Math.round((1-n.hsv[a])*(jscolor.images.pad[1]-1))-Math.floor(jscolor.images.cross[1]/
2))+"px";a=jscolor.picker.sld.childNodes;switch(v){case 0:for(var d=b(n.hsv[0],n.hsv[1],1),e=0;e<a.length;e+=1)a[e].style.backgroundColor="rgb("+d[0]*(1-e/a.length)*100+"%,"+d[1]*(1-e/a.length)*100+"%,"+d[2]*(1-e/a.length)*100+"%)";break;case 1:var g,h=[n.hsv[2],0,0],e=Math.floor(n.hsv[0]),j=e%2?n.hsv[0]-e:1-(n.hsv[0]-e);switch(e){case 6:case 0:d=[0,1,2];break;case 1:d=[1,0,2];break;case 2:d=[2,0,1];break;case 3:d=[2,1,0];break;case 4:d=[1,2,0];break;case 5:d=[0,2,1]}for(e=0;e<a.length;e+=1)g=1-1/
(a.length-1)*e,h[1]=h[0]*(1-g*j),h[2]=h[0]*(1-g),a[e].style.backgroundColor="rgb("+h[d[0]]*100+"%,"+h[d[1]]*100+"%,"+h[d[2]]*100+"%)"}}function a(){switch(v){case 0:var a=2;break;case 1:a=1}jscolor.picker.sldM.style.backgroundPosition="0 "+(n.pickerFace+n.pickerInset+Math.round((1-n.hsv[a])*(jscolor.images.sld[1]-1))-Math.floor(jscolor.images.arrow[1]/2))+"px"}function d(){return jscolor.picker&&jscolor.picker.owner===n}function h(){w!==e&&n.importColor()}function l(a){var d=jscolor.getRelMousePos(a),
a=d.x-n.pickerFace-n.pickerInset,d=d.y-n.pickerFace-n.pickerInset;switch(v){case 0:n.fromHSV(a*(6/(jscolor.images.pad[0]-1)),1-d/(jscolor.images.pad[1]-1),null,H);break;case 1:n.fromHSV(a*(6/(jscolor.images.pad[0]-1)),null,1-d/(jscolor.images.pad[1]-1),H)}}function o(a){a=jscolor.getRelMousePos(a).y-n.pickerFace-n.pickerInset;switch(v){case 0:n.fromHSV(null,null,1-a/(jscolor.images.sld[1]-1),N);break;case 1:n.fromHSV(null,1-a/(jscolor.images.sld[1]-1),null,N)}}function q(){if(n.onImmediateChange)if(typeof n.onImmediateChange===
"string")eval(n.onImmediateChange);else n.onImmediateChange(n)}this.adjust=this.required=!0;this.hash=!1;this.slider=this.caps=!0;this.styleElement=this.valueElement=e;this.onImmediateChange=null;this.hsv=[0,0,1];this.rgb=[1,1,1];this.pickerOnfocus=!0;this.pickerMode="HSV";this.pickerPosition="bottom";this.pickerSmartPosition=!0;this.pickerButtonHeight=20;this.pickerClosable=!1;this.pickerCloseText="Close";this.pickerButtonColor="ButtonText";this.pickerFace=10;this.pickerFaceColor="ThreeDFace";this.pickerBorder=
1;this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight";this.pickerInset=1;this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow";this.pickerZIndex=1E4;for(var s in i)i.hasOwnProperty(s)&&(this[s]=i[s]);this.hidePicker=function(){d()&&(delete jscolor.picker.owner,document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB))};this.showPicker=function(){if(!d()){var a=jscolor.getElementPos(e),b=jscolor.getElementSize(e),g=jscolor.getViewPos(),
h=jscolor.getViewSize(),i=k(this),l,f,o;switch(this.pickerPosition.toLowerCase()){case "left":l=1;f=0;o=-1;break;case "right":l=1;f=0;o=1;break;case "top":l=0;f=1;o=-1;break;default:l=0,o=f=1}var n=(b[f]+i[f])/2,a=this.pickerSmartPosition?[-g[l]+a[l]+i[l]>h[l]?-g[l]+a[l]+b[l]/2>h[l]/2&&a[l]+b[l]-i[l]>=0?a[l]+b[l]-i[l]:a[l]:a[l],-g[f]+a[f]+b[f]+i[f]-n+n*o>h[f]?-g[f]+a[f]+b[f]/2>h[f]/2&&a[f]+b[f]-n-n*o>=0?a[f]+b[f]-n-n*o:a[f]+b[f]-n+n*o:a[f]+b[f]-n+n*o>=0?a[f]+b[f]-n+n*o:a[f]+b[f]-n-n*o]:[a[l],a[f]+
b[f]-n+n*o];j(a[l],a[f])}};this.importColor=function(){if(w)if(this.adjust)!this.required&&/^\s*$/.test(w.value)?(w.value="",t.style.backgroundColor=t.jscStyle.backgroundColor,t.style.color=t.jscStyle.color,this.exportColor(D|K)):this.fromString(w.value)||this.exportColor();else{if(!this.fromString(w.value,D))t.style.backgroundColor=t.jscStyle.backgroundColor,t.style.color=t.jscStyle.color,this.exportColor(D|K)}else this.exportColor()};this.exportColor=function(b){if(!(b&D)&&w){var e=this.toString();
this.caps&&(e=e.toUpperCase());this.hash&&(e="#"+e);w.value=e}if(!(b&K)&&t)t.style.backgroundColor="#"+this.toString(),t.style.color=0.213*this.rgb[0]+0.715*this.rgb[1]+0.072*this.rgb[2]<0.5?"#FFF":"#000";!(b&N)&&d()&&g();!(b&H)&&d()&&a()};this.fromHSV=function(a,d,e,g){a<0&&(a=0)||a>6&&(a=6);d<0&&(d=0)||d>1&&(d=1);e<0&&(e=0)||e>1&&(e=1);this.rgb=b(a===null?this.hsv[0]:this.hsv[0]=a,d===null?this.hsv[1]:this.hsv[1]=d,e===null?this.hsv[2]:this.hsv[2]=e);this.exportColor(g)};this.fromRGB=function(a,
d,b,e){a<0&&(a=0)||a>1&&(a=1);d<0&&(d=0)||d>1&&(d=1);b<0&&(b=0)||b>1&&(b=1);var a=a===null?this.rgb[0]:this.rgb[0]=a,d=d===null?this.rgb[1]:this.rgb[1]=d,g=b===null?this.rgb[2]:this.rgb[2]=b,h=Math.min(Math.min(a,d),g),b=Math.max(Math.max(a,d),g),f=b-h;f===0?a=[null,0,b]:(a=a===h?3+(g-d)/f:d===h?5+(a-g)/f:1+(d-a)/f,a=[a===6?0:a,f/b,b]);a[0]!==null&&(this.hsv[0]=a[0]);a[2]!==0&&(this.hsv[1]=a[1]);this.hsv[2]=a[2];this.exportColor(e)};this.fromString=function(a,d){var b=a.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);
return b?(b[1].length===6?this.fromRGB(parseInt(b[1].substr(0,2),16)/255,parseInt(b[1].substr(2,2),16)/255,parseInt(b[1].substr(4,2),16)/255,d):this.fromRGB(parseInt(b[1].charAt(0)+b[1].charAt(0),16)/255,parseInt(b[1].charAt(1)+b[1].charAt(1),16)/255,parseInt(b[1].charAt(2)+b[1].charAt(2),16)/255,d),!0):!1};this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};
var n=this,v=this.pickerMode.toLowerCase()==="hvs"?1:0,C=!1,w=jscolor.fetchElement(this.valueElement),t=jscolor.fetchElement(this.styleElement),y=!1,G=!1,D=1,K=2,N=4,H=8;jscolor.addEvent(e,"focus",function(){n.pickerOnfocus&&n.showPicker()});jscolor.addEvent(e,"blur",function(){C?C=!1:window.setTimeout(function(){C||(w===e&&n.importColor(),n.pickerOnfocus&&n.hidePicker());C=!1},0)});w&&(s=function(){n.fromString(w.value,D);q()},jscolor.addEvent(w,"keyup",s),jscolor.addEvent(w,"input",s),jscolor.addEvent(w,
"blur",h),w.setAttribute("autocomplete","off"));if(t)t.jscStyle={backgroundColor:t.style.backgroundColor,color:t.style.color};switch(v){case 0:jscolor.requireImage("../../img/jscolor_hs.png");break;case 1:jscolor.requireImage("../../img/jscolor_hv.png")}jscolor.requireImage("../../img/jscolor_cross.gif");jscolor.requireImage("../../img/jscolor_arrow.gif");this.importColor()}};jscolor.install();define("libs/jscolor.js",function(){});
define("sandbox",[],function(){var e={handler:[],children:{}},i=function(){};i.prototype={subscribe:function(b,j){for(var i=e,g=b.split("."),a=0;a<g.length;++a){var d=g[a],i=i.children;i[d]===void 0&&(i[d]={handler:[],children:{}});i=i[g[a]]}i.handler.push(j)},publish:function(b,j){for(var j=j||{},i=e,g=b.split("."),a=[],d=a.push,h=0;h<g.length&&i.children[g[h]]!==void 0;++h)d.apply(a,i.handler),i=i.children[g[h]];d.apply(a,i.handler);for(i=0;i<a.length;++i)a[i].call(null,j,b)}};return new i});
define("application",["sandbox"],function(e){var i=function(){this.modules={};this.sandBox=e;this.allStarted=!1};i.prototype={registerModule:function(b,e){arguments.length===1&&(e=b,b=""+Math.random());b in this.modules||(this.modules[b]=[]);this.modules[b].push(typeof e==="function"?{builder:e}:{instance:e});this.allStarted&&this.start(b)},start:function(b){if(b in this.modules)for(var b=this.modules[b],e=0;e<b.length;++e)if(b[e].builder)b[e].instance=b[e].builder(this.sandBox)},initialize:function(b){if(b in
this.modules)for(var b=this.modules[b],e=0;e<b.length;++e)"init"in b[e].instance&&b[e].instance.init()},stop:function(b){if(b in this.modules)for(var b=this.modules[b],e=0;e<b.length;++e)if("destroy"in b[e].instance)b[e].instance.destroy(),b[e].instance=void 0},startAll:function(){this.allStarted=!0;for(var b in this.modules)this.start(b);for(b in this.modules)this.initialize(b)},stopAll:function(){this.allStarted=!1;for(var b in this.modules)this.stop(b)}};return new i});
define("dizzy/transformation",[],function(){var e=function(e){this.transformationMatrix=e};e.prototype={matrix:function(e){if(e!==void 0)this.transformationMatrix=e;else return this.transformationMatrix},rotate:function(e,b,j){arguments.length<3&&(j=b=0);this.matrix(this.matrix().translate(b,j).rotate(e).translate(-b,-j));return this},scale:function(e){this.matrix(this.matrix().scale(e));return this},translate:function(e,b){this.matrix(this.matrix().translate(e,b));return this},inverse:function(){this.matrix(this.matrix().inverse());
return this},multiply:function(e){e=e.transformationMatrix||e;this.matrix(this.matrix().multiply(e));return this},toString:function(){return"matrix("+this.toArray().join(", ")+")"},toArray:function(){var e=this.matrix();return[e.a,e.b,e.c,e.d,e.e,e.f]}};e.createTransform=function(i){i.dom&&i.transformation&&(i=i.transformation());if(i.transformationMatrix)i=i.transformationMatrix;i.getCTM&&(i=i.getCTM());if(i.toString().indexOf("SVGMatrix")>=0)return new e(i)};return e});
define("dizzy/group",["dizzy/transformation"],function(e){var i=/group_(\d+)/g,b=function(b,k){if(b.inverse&&b.multiply){this.transformation(b);if(k!==void 0)this.numbers=k;this.dom($('<g class="group" transform="'+this.transformation()+'" />'))}else{var g=b[0]||b,a=$(g);this.numbers=k||[];for(var a=a.attr("class"),d;(d=i.exec(a))!==null;)this.numbers.push(parseInt(d[1]));a=g.parentNode.getTransformToElement(g);this.dom(g);this.transform=new e(a);this.transform.inverse()}this.dom().attr("id")===void 0&&
this.dom().attr("id","g"+Math.random())};b.prototype={dom:function(b){return b===void 0?this.domContent:(this.domContent=$(b),this)},numbers:function(){return this.numbers},transformation:function(b){return b===void 0?this.transform:(this.transform=b,$(this.dom()).attr("transform",b.toString()),this)}};return b});
define("dizzy/canvas",["dizzy/group","dizzy/transformation","sandbox"],function(e,i,b){var j=function(b,e){this.container=$(b);this.groupList=[];this.activeGroupNumber=0;this.options=e||{transformDuration:1E3}};j.prototype={WIDTH:2E3,HEIGHT:1500,load:function(b,e){var a=this,e=e||{};this.container.children().disableTextSelect();this.container.empty().removeClass("hasSVG").svg({loadURL:b,onLoad:function(){a.svg=a.container.svg("get");a.canvas=$("g#canvas");a.canvas.find(".group").each(function(){a.getGroup($(this))});
typeof e.success==="function"&&e.success()}})},serialize:function(){$(this.svg.root()).attr("xmlns","http://www.w3.org/2000/svg");$(".group:empty",this.svg.root()).remove();return this.svg.toSVG()},createGroup:function(){var b=this.getGroup(0),g=$(this.svg.group(b.dom())),b=i.createTransform(b.transformation().matrix().inverse());g.addClass("group");g=new e(g);g.transformation(b);this.groupList.push(g);return g},removeGroup:function(e){for(var g=e.dom().attr("id"),a=0;a<this.groupList.length;a++)if(this.groupList[a].dom().attr("id")==
g){e.dom().remove();this.groupList.splice(a,1);console.log("Group "+g+" removed!");b.publish("dizzy.canvas.group.removed",{id:g});break}},findGroup:function(b){for(var g=0;g<this.groupList.length;++g)if(this.groupList[g]&&this.groupList[g].dom().attr("id")===$(b).attr("id"))return this.groupList[g];var a,b=jQuery(b);b.size()>0&&(a=new e(b[0]),this.groupList.push(a));return a},findGroupById:function(b){for(var e=0;e<this.groupList.length;++e)if(this.groupList[e]&&this.groupList[e].dom().attr("id")===
b)return this.groupList[e]},getGroup:function(b){if(b.dom&&b.transformation)return b;var e;if(b>0)e=this.canvas.find(".group_"+b);else if(b===0)e=this.canvas;return this.findGroup(e||b)},gotoGroup:function(b,e){typeof b!=="number"&&(b=this.getGroup(b));this.activeGroupNumber=b;try{this.current(e)}catch(a){}},centerGroup:function(b,e){typeof b!=="number"&&(b=this.getGroup(b));e=$.extend({scale:1,translate:!1},e);this.transformCanvasTo(b,e)},next:function(){return this.step(1)},previous:function(){if(this.activeGroupNumber!=
0)return this.step(-1)},step:function(b){this.activeGroupNumber+=b;try{this.current()}catch(e){this.activeGroupNumber-=b}return this.activeGroupNumber},visitGroup:function(b,e){for(var a,d=0;d<this.groupList.length;++d)if(this.groupList[d]&&this.groupList[d].dom().attr("id")===b){a=this.groupList[d];break}this.transformCanvasTo(a,e)},transformCanvasTo:function(e,g){var a=this.getGroup(0);if(e!==void 0){var d=e.transformation(),d=i.createTransform(d.matrix());d.inverse();if(e.dom().attr("id")!="canvas")try{var h=
e.dom().children().first(),j=h.prop("localName");if(j=="rect"||j=="image"||j=="ellipse"||j=="line"||j=="text"){var o,q,s,n;switch(j){case "rect":o=h.attr("x");q=h.attr("y");s=h.attr("width");n=h.attr("height");break;case "image":o=h.attr("x");q=h.attr("y");s=h.attr("width");n=h.attr("height");s=s.substring(0,s.length-2);n=n.substring(0,n.length-2);break;case "ellipse":o=h.attr("cx")-h.attr("rx");q=h.attr("cy")-h.attr("ry");s=h.attr("rx")*2;n=h.attr("ry")*2;break;case "line":o=h.attr("x1");q=h.attr("y1");
s=Math.abs(o-h.attr("x2"));n=Math.abs(q-h.attr("y2"));break;case "text":var v=h[0].getBBox();o=v.x;q=v.y;s=v.width;n=v.height}var C=$(document).width(),w=$(document).height(),t=$("svg").attr("viewBox").split(" ",4),y=t[2],G=t[3],D,K;C/w>=y/G?(K=G,D=G/w*C):(D=y,K=y/C*w);var N=h.parent().attr("zoom"),j=N?N:100;j/=100;var H=Math.min(D*j/s,K*j/n);g!=void 0&&g.scale!=void 0&&(H=H<g.scale?H-0.06:g.scale);var z=d.matrix();d.multiply(z.inverse()).translate(-o,-q).multiply(z);var x=d.matrix();d.multiply(x.inverse()).scale(H).multiply(x);
o=(D-s*H)/2;n=(K-n*H)/2;var J=d.matrix();d.multiply(J.inverse()).translate(o,n).multiply(J);var p=h.parent().attr("speed"),p=p?p:1,g=$.extend({duration:parseInt(p*1E3)},g);this.transform(a,d,g);b.publish("dizzy.canvas.group.visited")}}catch(P){alert("errore: "+P.message)}}else throw"Ops! This should not have happened! (o:";},current:function(b){this.getGroup(0);this.transformCanvasTo(this.getGroup(this.activeGroupNumber),b);return this.activeGroupNumber},transform:function(b,e,a){var a=$.extend({complete:function(){},
duration:this.options.transformDuration},a),d=a.duration===void 0?this.options.transformDuration:a.duration;b.transform=e;d<=10?$(b.dom(),this.svg.root()).attr("transform",e.toString()):$(b.dom(),this.svg.root()).animate({svgTransform:e.toString()},a)},transformSVGanimation:function(b,e,a){var a=$.extend({complete:function(){},duration:this.options.transformDuration},a),a=a.duration===void 0?this.options.transformDuration:a.duration,d=e.matrix(),h=b.transform.matrix(),j=document.getElementById("canvTranslate"),
i=document.getElementById("canvRotate"),q=document.getElementById("canvScale");j.setAttribute("dur",a/1E3+"s");i.setAttribute("dur",a/1E3+"s");q.setAttribute("dur",a/1E3+"s");console.log(h);var s=h.e,n=h.f,v=Math.sqrt(Math.pow(h.a,2)+Math.pow(h.b,2)),h=Math.atan(h.c/h.d);console.log("canv transX: "+s);console.log("canv transY: "+n);console.log("canv scale: "+v);console.log("canv rotate: "+h);j.setAttribute("from",s+","+n);i.setAttribute("from",-h*180/Math.PI);q.setAttribute("from",v);console.log(d);
s=d.e;n=d.f;v=Math.sqrt(Math.pow(d.a,2)+Math.pow(d.b,2));h=Math.atan(d.c/d.d);console.log("transX: "+s);console.log("transY: "+n);console.log("scale: "+v);console.log("rotate: "+h);j.setAttribute("to",s+","+n);i.setAttribute("to",-h*180/Math.PI);q.setAttribute("to",v);j.beginElement();i.beginElement();q.beginElement();b.transform=e;setTimeout(function(){$("#canvas").attr("transform","matrix("+d.a+","+d.b+","+d.c+","+d.d+","+d.e+","+d.f+")")},a+100)},toViewboxCoordinates:function(b,e){var a=this.svg.root().createSVGPoint();
a.x=b.x;a.y=b.y;var d=this.svg.root().getScreenCTM();e||(d=d.inverse());return a.matrixTransform(d)},toCanvasCoordinates:function(b,e){var a=this.svg.root().createSVGPoint();a.x=b.x;a.y=b.y;var d=this.svg.root().getScreenCTM(),h=this.getGroup(0).transformation().matrix(),d=d.multiply(h);e||(d=d.inverse());return a.matrixTransform(d)},vectorTranslate:function(b,e){var e=e||{},e=$.extend({ignoreCanvas:!1,targetNode:void 0,inverseMatrix:!1},e),a=this.svg.root().createSVGPoint();a.x=b.x;a.y=b.y;var d;
if(e.targetNode)d=e.targetNode.getCTM().inverse();else{d=this.svg.root().getScreenCTM();var h=this.getGroup(0).transformation().matrix();if(!e.ignoreCanvas)d=d.multiply(h),e.inverseMatrix=!0;e.inverseMatrix&&(d=d.inverse())}a=a.matrixTransform(d);return{x:a.x,y:a.y}},pathCounter:0,addPathNumber:function(b,e){e===void 0&&(e=++pathCounter);b.dom().addClass("group_"+e)},removePathNumber:function(b,e){e===void 0&&(e=[]);typeof e==="number"&&(e=[e]);for(var a=0;a<e.length;++a)b.dom().removeClass("group_"+
e[a])},getFillColor:function(){return $("#tool-input-color-fill").val()},getStrokeColor:function(){return $("#tool-input-color-stroke").val()}};return j});
define("modules/canvas",["sandbox","dizzy/canvas"],function(e,i){var b,j;e.subscribe("dizzy.presentation.load",function(i){b!==void 0&&j!==void 0&&(j.addClass("loading"),b.load(i.file,{success:function(){b.gotoGroup(0);e.publish("dizzy.presentation.loaded",{canvas:b});$(window).bind("resize",function(){var e=$(b.svg.root());e.width($(document).width());e.height($(document).height())});$(window).resize();$(b.svg.root()).attr("style",'width: "'+$(document).width()+'" height="'+$(document).width()+'"');
j.removeClass("loading")}}))});e.subscribe("dizzy.presentation.loadSVG",function(k){k=k.svgDoc;j.remove();var g=$("#container");j=$('<div id="dizzy" class="loading" />');g.append(j);j.disableTextSelect();b=new i("#dizzy");e.publish("dizzy.presentation.load",{file:k});j.bind("mousedown",function(a){e.publish("dizzy.canvas.io.mouse.down",a)});j.bind("mouseup",function(a){e.publish("dizzy.canvas.io.mouse.up",a)});j.bind("click",function(a){e.publish("dizzy.canvas.io.mouse.click",a)});e.publish("dizzy.ui.toolbar.clicked.mode.tool-default",
{button:"tool-default"})});return{init:function(){var k=$("#container");j=$('<div id="dizzy" class="loading" />');k.append(j);j.disableTextSelect();b=new i("#dizzy");e.publish("dizzy.presentation.load",{file:"./svg/blank.svg"});j.bind("mousedown",function(b){e.publish("dizzy.canvas.io.mouse.down",b)});j.bind("mouseup",function(b){e.publish("dizzy.canvas.io.mouse.up",b)});j.bind("click",function(b){e.publish("dizzy.canvas.io.mouse.click",b)})},destroy:function(){$("dizzy").remove()}}});
define("modules/modes",["sandbox"],function(e){function i(e){var k=b[e];if(k===void 0)console.log("Mode "+e+" called but not defined");else{console.log("Starting mode: "+e);for(var e=k.depends||[],g=0;g<e.length;++g)i(e[g]);k.start()}}var b={};e.subscribe("dizzy.ui.toolbar.clicked.mode",function(e){for(var k in b)b[k]&&typeof b[k].stop==="function"&&b[k].stop();i(e.button)});e.subscribe("dizzy.modes.register",function(e){b[e.name]===void 0?(console.log("Registering mode: "+e.name),b[e.name]=e.instance):
console.log("Mode "+e.name+" already defined")});return{init:function(){},destroy:function(){}}});define("modules/io/mouse",["sandbox"],function(e){return{init:function(){$(document).bind("mousewheel",function(i,b){e.publish("dizzy.io.mouse.wheel."+(b<0?"up":"down"),{delta:b,event:i})})},destroy:function(){$(document).unbind("mousewheel")}}});
define("modules/ui/dialog",["sandbox"],function(e){function i(){b.delegate(".dialog-cancel","click",function(){b.hide();j.hide();k.cancel()});b.delegate(".dialog-ok","click",function(){var e=b.find(".dialog-open-local-input")[0].files;if(e.length>0&&e[0].type.indexOf("image/")>=0){var a=new FileReader,e=e[0];a.onload=function(a){k.success("dataURL",a.target.result)};a.readAsDataURL(e)}else a=b.find(".dialog-open-link-input").val(),a!==void 0&&k.success("link",a);b.find("form")[0].reset();b.hide();
j.hide()})}var b,j;e.subscribe("ui.dialog.open",function(e){j.show();b.show();$.extend(k,e)});e.subscribe("ui.dialog.save",function(){});var k={success:function(){},cancel:function(){}};return{init:function(){var e=$("#container");j=$("#dialog-overlay");j.size()===0&&$.get("html/dialog-overlay.html").success(function(a){j=$(a);j.hide();j.removeClass("hidden");e.prepend(j)});b=$("#dialog-open");b.size()===0&&$.get("html/dialog-open.html").success(function(a){b=$(a);e.prepend(b);b.hide();b.removeClass("hidden");
i()})},destroy:function(){}}});
define("modules/ui/toolbar.menu",["sandbox"],function(e){var i;e.subscribe("dizzy.ui.toolbar.loaded",function(){var b=$("#menu"),j=b.find("#menu-right");b.disableTextSelect();e.subscribe("dizzy.ui.toolbar.clicked.menu-button",function(){b.toggleClass("hidden");e.publish("dizzy.ui.canvas.focus",{hasFocus:b.hasClass("hidden")})});b.delegate(".menu-option","click",function(){switch($(this).attr("id")){case "menu-save":var b=i.serialize(),b="data:image/svg+xml;charset=utf-8;base64,"+$.base64Encode(b);
window.open(b);break;case "menu-download":b=i.serialize();$.post("php/downloadSVG.php",{svg:b},function(b){window.open("php/"+b,"Download")});break;case "menu-about":$("#menu-bugs-extended").addClass("hidden");$("#menu-about-extended").toggleClass("hidden");break;case "menu-bugs":$("#menu-about-extended").addClass("hidden"),$("#menu-bugs-extended").toggleClass("hidden")}});b.delegate(".menu-option","hover",function(){var b=$(this).attr("data-description");b&&j.text(b)});b.delegate("#tool-input-color-background",
"change",function(){$("svg").first().css("background-color",$(this).val())});$("#menu-open-input").bind("change",function(b){var g=b.target.files;if(g.length>=1&&g[0].type==="image/svg+xml")b=new FileReader,g=g[0],b.onload=function(a){e.publish("dizzy.presentation.loadSVG",{svgDoc:a.target.result})},b.readAsText(g)})});e.subscribe("dizzy.presentation.loaded",function(b){i=b.canvas});return{init:function(){},destroy:function(){}}});
define("modules/ui/toolbar.control",["sandbox"],function(e){var i,b;e.subscribe("dizzy.ui.toolbar.loaded",function(e){b=e.toolbar});e.subscribe("dizzy.presentation.loaded",function(b){i=b.canvas});e.subscribe("dizzy.ui.toolbar.clicked.tool-next",function(){i.next()});e.subscribe("dizzy.ui.toolbar.clicked.tool-previous",function(){i.previous()});e.subscribe("dizzy.ui.toolbar.clicked.mode.present-toggle-button",function(){b.find("#present-toggle-button").removeClass("mode");b.find(".toolbutton").not(":first-child, :last-child").toggle()});
e.subscribe("dizzy.ui.toolbar.clicked.present-toggle-button",function(){b.find("#present-toggle-button").addClass("mode");b.find(".toolbutton").not(":first-child, :last-child").toggle();e.publish("dizzy.ui.toolbar.clicked.mode.tool-default",{button:"tool-default"})});e.subscribe("dizzy.canvas.group.visited",function(){b&&$("#tool-goto-inp").val(i.activeGroupNumber)});e.subscribe("dizzy.ui.toolbar.clicked.tool-goto-go",function(){var b=parseInt($("#tool-goto-inp").val());!isNaN(b)&&b>0?i.gotoGroup(b):
$("#tool-goto-inp").val(i.activeGroupNumber)});return{init:function(){},destroy:function(){}}});
define("modules/modes/canvas/pan",["sandbox"],function(e){var i,b=!1,j,k={start:function(){b=!0},stop:function(){b=!1}},g;e.subscribe("dizzy.canvas.io.mouse.down",function(a){g=!1;if(b){var d=$(document),h={x:a.pageX,y:a.pageY},h=i.vectorTranslate(h);e.publish("dizzy.presentation.transform.start");d.bind("mousemove.dizzy.canvas.pan",function(a){g=!0;a={x:a.pageX,y:a.pageY};a=i.vectorTranslate(a);a=j.transformation().translate(a.x-h.x,a.y-h.y);e.publish("dizzy.presentation.transform.do");i.transform(j,
a,{duration:0})})}});e.subscribe("dizzy.canvas.io.mouse.up",function(){$(document).unbind("mousemove.dizzy.canvas.pan");e.publish("dizzy.presentation.transform.end");return!g});e.subscribe("dizzy.presentation.loaded",function(a){i=a.canvas;j=i.getGroup(0)});return{init:function(){e.publish("dizzy.modes.register",{name:"pan",instance:k})},destroy:function(){}}});
define("modules/modes/canvas/zoom",["sandbox"],function(e){var i,b=!1,j={start:function(){b=!0},stop:function(){b=!1}};e.subscribe("dizzy.io.mouse.wheel",function(j){if(b){var g=Math.pow(1.2,j.delta),a=i.getGroup(0),d=a.transformation(),j=i.vectorTranslate({x:j.event.pageX,y:j.event.pageY});d.translate(-j.x*(g-1),-j.y*(g-1));d.scale(g);i.transform(a,d,{duration:70});e.publish("dizzy.presentation.transform.start");e.publish("dizzy.presentation.transform");e.publish("dizzy.presentation.transform.end")}});
e.subscribe("dizzy.presentation.loaded",function(b){i=b.canvas});return{init:function(){e.publish("dizzy.modes.register",{name:"zoom",instance:j})},destroy:function(){}}});
define("modules/modes/canvas/zebra",["sandbox"],function(e){function i(){b&&(b.hide(),b.find("#zebra-toolbar").addClass("hidden"),b.find("#zebra-expand-button").removeClass("mirrored"))}var b,j,k={start:function(){this.assignEventHandlers()},assignEventHandlers:function(){var a=this;if(j){b.children("div").not("div input").disableTextSelect();jQuery(j.svg.root()).delegate("g.group","mousedown.dizzy.zebra.scale",function(d){return a.translateStart(this,d)});var d=b.find("#zebra-rotate");d.bind("mousedown.dizzy.zebra.rotate",
function(b){return a.rotateStart(d,b)});var e=b.find("#zebra-scale");e.bind("mousedown.dizzy.zebra.scale",function(d){return a.scaleStart(e,d)});b.find("#zebra-translate").bind("mousedown.dizzy.zebra.translate",function(d){var b=g.dom();return a.translateStart(b,d)});b.find("#zebra-expand-button").bind("click.dizzy.zebra.expand",function(){$("#zebra-toolbar").toggleClass("hidden");$(this).toggleClass("mirrored")});b.find("#zebra-toolbar-up").bind("click.dizzy.zebra.toolbar.up",a.raiseLayer);b.find("#zebra-toolbar-down").bind("click.dizzy.zebra.toolbar.down",
a.lowerLayer);b.find("#zebra-toolbar-downest").bind("click.dizzy.zebra.toolbar.downest",a.lowerLayerMax);b.find("#zebra-toolbar-uppest").bind("click.dizzy.zebra.toolbar.uppest",a.raiseLayerMax);b.find("#zebra-toolbar-border-weight-up").bind("click.dizzy.zebra.toolbar.strokeWidth.up",a.raiseStrokeWidth);b.find("#zebra-toolbar-border-weight-down").bind("click.dizzy.zebra.toolbar.strokeWidth.down",a.lowerStrokeWidth);b.find("#zebra-toolbar-43").bind("click.dizzy.zebra.toolbar.43",function(){return a.fitRectTo(4,
3)});b.find("#zebra-toolbar-169").bind("click.dizzy.zebra.toolbar.169",function(){return a.fitRectTo(16,9)});b.find("#zebra-toolbar-1610").bind("click.dizzy.zebra.toolbar.1610",function(){return a.fitRectTo(16,10)});b.find("#zebra-toolbar-fill").bind("click.dizzy.zebra.toolbar.fill",function(){return a.raiseFillOpacity(0.2)});b.find("#zebra-toolbar-nofill").bind("click.dizzy.zebra.toolbar.nofill",function(){return a.raiseFillOpacity(-0.2)});b.find("#zebra-toolbar-border-round").bind("click.dizzy.zebra.toolbar.round",
a.roundCorners)}},removeEventHandlers:function(){j&&jQuery(j.svg.root()).undelegate("g.group","mousedown.dizzy.zebra.scale");b.find("#zebra-rotate").unbind("mousedown.dizzy.zebra.rotate");b.find("#zebra-scale").unbind("mousedown.dizzy.zebra.scale");b.find("#zebra-translate").unbind("mousedown.dizzy.zebra.translate");b.find("#zebra-expand-button").unbind("click.dizzy.zebra.expand");b.find("#zebra-toolbar-up").unbind("click.dizzy.zebra.toolbar.up");b.find("#zebra-toolbar-down").unbind("click.dizzy.zebra.toolbar.down");
b.find("#zebra-toolbar-uppest").unbind("click.dizzy.zebra.toolbar.uppest");b.find("#zebra-toolbar-downest").unbind("click.dizzy.zebra.toolbar.downest");b.find("#zebra-toolbar-border-weight-up").unbind("click.dizzy.zebra.toolbar.strokeWidth.up");b.find("#zebra-toolbar-border-weight-down").unbind("click.dizzy.zebra.toolbar.strokeWidth.down");b.find("#zebra-toolbar-43").unbind("click.dizzy.zebra.toolbar.43");b.find("#zebra-toolbar-169").unbind("click.dizzy.zebra.toolbar.169");b.find("#zebra-toolbar-1610").unbind("click.dizzy.zebra.toolbar.1610");
b.find("#zebra-toolbar-fill").unbind("click.dizzy.zebra.toolbar.fill");b.find("#zebra-toolbar-nofill").unbind("click.dizzy.zebra.toolbar.nofill");b.find("#zebra-toolbar-border-round").unbind("click.dizzy.zebra.toolbar.round")},rotateStart:function(a,d){d.preventDefault();if(g!==void 0){var h=b.offset(),h={x:h.left+b.outerWidth()/2,y:h.top+b.outerHeight()/2},i={origin:h,lastVector:{x:d.pageX-h.x,y:d.pageY-h.y}},k=i.lastRotationAngle,q=g.transformation();$(document).bind("mousemove.dizzy.zebra.rotate",
function(d){d.preventDefault();var b={x:d.pageX-i.origin.x,y:d.pageY-i.origin.y},d=180/Math.PI*(Math.atan2(b.y,b.x)-Math.atan2(i.lastVector.y,i.lastVector.x)),d=Math.floor(d*360)/360;i.lastVector=b;var b=j.toCanvasCoordinates(i.origin),h=q.matrix();q=q.multiply(h.inverse()).rotate(d,b.x,b.y).multiply(h);k=(d+k)%360;d=["","-o-","-webkit-","-moz-","-ms-"];for(b=0;b<d.length;++b)a.css(d[b]+"transform","rotate("+k+"deg)");j.transform(g,q,{duration:0});e.publish("dizzy.ui.zebra.start.rotate")});$(document).bind("mouseup.dizzy.zebra.rotate mouseleave.dizzy.zebra.rotate",
function(){$(document).unbind("mousemove.dizzy.zebra.rotate")})}return!1},scaleStart:function(a,d){d.preventDefault();d.stopPropagation();if(g!==void 0){var h=b.offset(),i={origin:{x:h.left+b.outerWidth()/2,y:h.top+b.outerHeight()/2}},k=g.transformation(),h={x:i.origin.x-d.pageX,y:i.origin.y-d.pageY},q=Math.sqrt(h.x*h.x+h.y*h.y),s=1;$(document).bind("mousemove.dizzy.zebra.scale",function(a){a.preventDefault();var a={x:i.origin.x-a.pageX,y:i.origin.y-a.pageY},d=Math.sqrt(a.x*a.x+a.y*a.y)/q,a=d-s;s=
d;var d=j.toCanvasCoordinates(i.origin),b=k.matrix();k=k.multiply(b.inverse()).translate(-d.x*a,-d.y*a).scale(a+1).multiply(b);j.transform(g,k,{duration:0});e.publish("dizzy.ui.zebra.start.scale")});$(document).bind("mouseup.dizzy.zebra.scale mouseleave.dizzy.zebra.scale",function(){$(document).unbind("mousemove.dizzy.zebra.scale");$(document).unbind("mouseup.dizzy.zebra.scale mouseleave.dizzy.zebra.scale")})}return!1},translateStart:function(a,d){a.jquery&&a.size()>0&&(a=a[0]);d.preventDefault();
var g=j.findGroup(a);e.publish("dizzy.presentation.group.selected",{event:d,group:g});var i=function(d){return j.vectorTranslate(d,{ignoreCanvas:!1,targetNode:a})},k={x:d.pageX,y:d.pageY},k=i(k),q=g.transformation();$(document).bind("mousemove.dizzy.zebra.translate",function(a){a.preventDefault();var d={x:a.pageX,y:a.pageY},d=i(d);q=q.translate(d.x-k.x,d.y-k.y);j.transform(g,q,{duration:0});b.css({top:a.pageY-b.height()/2,left:a.pageX-b.width()/2});e.publish("dizzy.ui.zebra.start.translate")});$(document).bind("mouseup.dizzy.zebra.translate mouseleave.dizzy.zebra.translate",
function(){$(document).unbind("mousemove.dizzy.zebra.translate");$(document).unbind("mouseup.dizzy.zebra.translate mouseleave.dizzy.zebra.translate")});return!1},stop:function(){this.removeEventHandlers();b.hide()},lowerLayer:function(){var a=$(".selected",j.svg.root());a.hasClass("group")||(a=a.parents("g.group").first());a.insertBefore(a.prev("g.group"))},raiseLayer:function(){var a=$(".selected",j.svg.root());a.hasClass("group")||(a=a.parents("g.group").first());a.insertAfter(a.next("g.group"))},
lowerLayerMax:function(){var a=$(".selected",j.svg.root());a.hasClass("group")||(a=a.parents("g.group").first());a.prependTo("#canvas")},raiseLayerMax:function(){var a=$(".selected",j.svg.root());a.hasClass("group")||(a=a.parents("g.group").first());a.appendTo("#canvas")},lowerStrokeWidth:function(){var a=$(".selected",j.svg.root());$children=a.children();$children.length==1&&(a=$children.first());var d=a.attr("stroke-width"),d=isNaN(d)?3:parseFloat(d);d>0&&(d>1?a.attr("stroke-width",d-2):a.attr("stroke-width",
Math.round(d*10-1)/10))},raiseStrokeWidth:function(){var a=$(".selected",j.svg.root());$children=a.children();$children.length==1&&(a=$children.first());var d=a.attr("stroke-width"),d=isNaN(d)?3:parseFloat(d);d>=1?a.attr("stroke-width",d+2):a.attr("stroke-width",Math.round(d*10+1)/10)},fitRectTo:function(a,d){var b=$(".selected",j.svg.root());$children=b.children();$children.length==1&&(b=$children.first());var e=b.attr("width"),g=b.attr("height"),i=e/g,k=a/d;i>k?(e=e/a*d,b.attr("height",e),i=b.attr("y"),
b.attr("y",i-(e-g)/2)):i<k&&(g=g/d*a,b.attr("width",g),i=b.attr("x"),b.attr("x",i-(g-e)/2))},raiseFillOpacity:function(a){var d=$(".selected",j.svg.root());$children=d.children();$children.length==1&&(d=$children.first());var b=parseFloat(d.attr("fill-opacity"));isNaN(b)&&(b=1);b+=a;b<0?b=0:b>1&&(b=1);d.attr("fill-opacity",Math.round(b*10)/10)},roundCorners:function(){var a=$(".selected",j.svg.root());$children=a.children();$children.length==1&&(a=$children.first());var d=a.attr("rx"),b=Math.round(Math.min(a.attr("width"),
a.attr("height"))/10),d=!d||isNaN(d)||d==0?b:d==b?Math.round(Math.min(a.attr("width"),a.attr("height"))/4):0;a.attr("rx",d)}};e.subscribe("dizzy.presentation.loaded",function(a){j=a.canvas});e.subscribe("dizzy.presentation.transform",i);e.subscribe("dizzy.ui.resizer.start",i);var g;e.subscribe("dizzy.presentation.group.selected",function(a){if(b){var d=a.event;g=a.group;b.css({top:d.pageY-b.height()/2,left:d.pageX-b.width()/2});b.hide();b.show();b.find(".toolbutton").removeClass("hidden");a=g.dom().children().first();
if((d=a.prop("localName"))&&d!="rect"){if(b.find("#zebra-toolbar-43").addClass("hidden"),b.find("#zebra-toolbar-169").addClass("hidden"),b.find("#zebra-toolbar-1610").addClass("hidden"),b.find("#zebra-toolbar-border-round").addClass("hidden"),d=="image"||d=="line")d=="image"&&(b.find("#zebra-toolbar-border-weight-up").addClass("hidden"),b.find("#zebra-toolbar-border-weight-down").addClass("hidden")),b.find("#zebra-toolbar-fill").addClass("hidden"),b.find("#zebra-toolbar-nofill").addClass("hidden")}else a.hasClass("invisibleRect")&&
(b.find("#zebra-toolbar-border-round").addClass("hidden"),b.find("#zebra-toolbar-border-weight-up").addClass("hidden"),b.find("#zebra-toolbar-border-weight-down").addClass("hidden"),b.find("#zebra-toolbar-fill").addClass("hidden"),b.find("#zebra-toolbar-nofill").addClass("hidden"))}});return{init:function(){var a=$("#container");$.get("html/zebra.html").success(function(d){b=$(d);a.prepend(b);b.hide();e.publish("dizzy.ui.zebra.loaded")}).error(function(a){console.error("Could not load zebra control: "+
a)}).complete(function(){e.publish("dizzy.modes.register",{name:"zebra",instance:k})})},destroy:function(){b&&b.remove()}}});
define("modules/modes/canvas/rightClick",["sandbox"],function(e){var i={start:function(){$(document).bind("contextmenu",function(b){b.preventDefault();b.stopPropagation();e.publish("dizzy.ui.toolbar.clicked.mode.tool-default",{button:"tool-default"})})},stop:function(){$(document).unbind("contextmenu")}};return{init:function(){e.publish("dizzy.modes.register",{name:"rightClick",instance:i})},destroy:function(){}}});
define("modules/modes/tool/default",["sandbox"],function(e){var i,b=!1,j={depends:["zoom","pan","zebra","resizer"],start:function(){b&&($(i.svg.root()).addClass("editing default"),this.bindMouselistener(),this.bindKeyboardlistener())},stop:function(){b&&($(i.svg.root()).removeClass("editing default"),this.unbindMouselistener(),this.unbindKeyboardlistener())},bindMouselistener:function(){var b=i.svg.root();$(b).delegate("g.group","click.dizzy.default touchstart.dizzy.default",function(a){a.preventDefault();
a.stopPropagation();var b=i.findGroup(this);e.publish("dizzy.presentation.group.selected",{group:b,event:a});return!1});$(document).bind("contextmenu",function(a){a.preventDefault();a.stopPropagation();return!1})},unbindMouselistener:function(){var b=i.svg.root();$(b).undelegate("g.group","click.dizzy.default  touchstart.dizzy.default");$(document).unbind("contextmenu")},bindKeyboardlistener:function(){$(document).bind("keydown.dizzy.default",function(b){if((b.keyCode?b.keyCode:b.which)==46)if(b=
i.findGroup("g.selected"))i.removeGroup(b),e.publish("dizzy.presentation.transform")})},unbindKeyboardlistener:function(){$(document).unbind("keydown.dizzy.default")}};e.subscribe("dizzy.presentation.loaded",function(e){i=e.canvas;b=!0});e.subscribe("dizzy.ui.toolbar.color.fill.changed",function(b){var a=i.findGroup("g.selected");a&&a.dom().children().first().attr("fill",b.color)});e.subscribe("dizzy.ui.toolbar.color.stroke.changed",function(b){var a=i.findGroup("g.selected");a&&a.dom().children().first().attr("stroke",
b.color)});var k;e.subscribe("dizzy.presentation.group.selected",function(b){k!==void 0&&$(k).removeClass("selected");k=$(b.group.dom());k.addClass("selected")});e.subscribe("dizzy.presentation.transform",function(){k!==void 0&&(k.removeClass("selected"),e.publish("dizzy.presentation.group.unselected"))});return{init:function(){e.publish("dizzy.modes.register",{name:"tool-default",instance:j})},destroy:function(){}}});
define("modules/modes/tool/image",["sandbox"],function(e){var i,b={depends:[],start:function(){e.publish("ui.dialog.open",{filetypes:[],readAs:{link:!0,file:"dataUrl"},success:function(b,i){e.publish("dizzy.presentation.insertImage",{ref:i});e.publish("dizzy.ui.toolbar.clicked.mode.tool-default",{button:"tool-default"})},cancel:function(){e.publish("dizzy.ui.toolbar.clicked.mode.tool-default",{button:"tool-default"})}});$(document).bind("contextmenu",function(b){b.preventDefault();b.stopPropagation();
return!1})},stop:function(){$(document).unbind("contextmenu")}};e.subscribe("dizzy.presentation.loaded",function(b){i=b.canvas});e.subscribe("dizzy.presentation.insertImage",function(b){i.getGroup(0);var k=i.createGroup(),g=new Image;g.onload=function(){var a=i.vectorTranslate({x:g.width,y:g.height},{ignoreCanvas:!0});$(i.svg.image(k.dom(),((i.WIDTH-a.x)/2).toString(),((i.HEIGHT-a.y)/2).toString(),Math.max(g.width,600)+"px",Math.max(g.height,600)+"px",b.ref));g.src="";e.publish("dizzy.canvas.group.created.image",
{group:k})};g.src=b.ref});return{init:function(){e.publish("dizzy.modes.register",{name:"tool-image",instance:b})},destroy:function(){}}});
define("modules/modes/tool/line",["sandbox"],function(e){function i(g){g.stopPropagation();g.preventDefault();if(g.which!=1)return!1;$(b.svg.root()).bind("mousemove.dizzy.mode.line",function(a){a.stopPropagation();a.preventDefault();a=b.toViewboxCoordinates({x:a.pageX,y:a.pageY});j.attr({y2:a.y,x2:a.x})});var g=b.toViewboxCoordinates({x:g.pageX,y:g.pageY}),a=b.createGroup(),d=a.dom();b.getStrokeColor();j=$(b.svg.line(g.x,g.y,g.x,g.y,{stroke:b.getStrokeColor(),strokeWidth:5}));d.append(j);e.publish("dizzy.canvas.group.created.line",
{group:a})}var b,j,k={depends:["zoom","rightClick"],start:function(){b&&($(b.svg.root()).bind("mousedown.dizzy.mode.line",function(b){return i(b)}),$(b.svg.root()).bind("mouseup.dizzy.mode.line",function(){$(b.svg.root()).unbind("mousemove.dizzy.mode.line")}),$(b.svg.root()).addClass("editing drawing"))},stop:function(){b&&($(b.svg.root()).unbind("mousedown.dizzy.mode.line"),$(b.svg.root()).unbind("mouseup.dizzy.mode.line"),$(b.svg.root()).removeClass("editing drawing"))}};e.subscribe("dizzy.presentation.loaded",
function(e){b=e.canvas});return{init:function(){e.publish("dizzy.modes.register",{name:"tool-line",instance:k})},destroy:function(){}}});
define("modules/modes/tool/rect",["sandbox"],function(e){function i(a){a.stopPropagation();a.preventDefault();if(a.which!=1)return!1;$(b.svg.root()).bind("mousemove.dizzy.mode.line",function(a){a.stopPropagation();a.preventDefault();var a=b.toViewboxCoordinates({x:a.pageX,y:a.pageY}),d=Math.max(20,Math.abs(a.x-k)),e=Math.max(20,Math.abs(a.y-g));a.x-k<0&&j.attr({x:k-d});j.attr({width:d});a.y-g<0&&j.attr({y:g-e});j.attr({height:e})});var a=b.toViewboxCoordinates({x:a.pageX,y:a.pageY}),h=b.createGroup(),
i=h.dom();b.getStrokeColor();j=$(b.svg.rect(a.x,a.y,0,0,{width:20,height:20,stroke:b.getStrokeColor(),fill:b.getFillColor(),strokeWidth:5,fillOpacity:0}));k=a.x;g=a.y;i.append(j);e.publish("dizzy.canvas.group.created.rect",{group:h})}var b,j,k,g,a={depends:["zoom","rightClick"],start:function(){b&&($(b.svg.root()).bind("mousedown.dizzy.mode.line",function(a){return i(a)}),$(b.svg.root()).bind("mouseup.dizzy.mode.line",function(){$(b.svg.root()).unbind("mousemove.dizzy.mode.line")}),$(b.svg.root()).addClass("editing drawing"))},
stop:function(){b&&($(b.svg.root()).unbind("mousedown.dizzy.mode.line"),$(b.svg.root()).unbind("mouseup.dizzy.mode.line"),$(b.svg.root()).removeClass("editing drawing"))}};e.subscribe("dizzy.presentation.loaded",function(a){b=a.canvas});return{init:function(){e.publish("dizzy.modes.register",{name:"tool-rect",instance:a})},destroy:function(){}}});
define("modules/modes/tool/text",["sandbox"],function(e){function i(){$(d.svg.root()).delegate(".group","click.dizzy.mode.text.edit",function(e){e.stopImmediatePropagation();var h=$(this).children("text");if(h.size()>0)if(e.stopPropagation(),o){var i=d.getGroup(this);d.centerGroup(i,{duration:100,complete:function(){var a=j(h);q=i;g(i,a)}})}else a();else b(e);return!1});$(d.svg.root()).bind("click.dizzy.mode.text.new",function(a){a.which==1&&b(a)})}function b(b){if(o){b.stopPropagation();var h={x:b.pageX,
y:b.pageY},i=d.createGroup(),j=i.dom(),k=$(d.svg.other(j,"text")),l=$(d.svg.other(k,"tspan")),h=d.toViewboxCoordinates(h);k.attr({"font-family":n?n:"serif","font-size":(v?v:200)+"px",x:h.x,y:h.y,stroke:d.getStrokeColor(),fill:d.getFillColor()});k.append(l);j.append(k);q=i;g(i,{x:b.pageX,y:b.pageY-45});e.publish("dizzy.canvas.group.created.text",{group:i})}else a()}function j(a){if(a!=void 0){var b=a[0],a={},d=b.getScreenCTM(),e=document.getElementsByTagName("svg")[0].createSVGPoint();bbox=b.getBBox();
e.x=bbox.x;e.y=bbox.y;a.nw=e.matrixTransform(d);e.x+=bbox.width;a.ne=e.matrixTransform(d);e.y+=bbox.height;a.se=e.matrixTransform(d);e.x-=bbox.width;a.sw=e.matrixTransform(d);b={x:a.nw.x,y:a.nw.y};if(b.x||b.y)d=a.sw.y-a.nw.y,h.width(a.ne.x-a.nw.x),h.height(d),l.css({top:b.y,left:b.x});return b}}function k(a,b){if(b.size()!==0){var e=b.children("tspan").last();if(a.which===13){var g=!0,h=/^[\s]+$/;b.children("tspan").each(function(){$(this).text()!=""&&!h.test($(this).text())&&(g=!1)});if(g)return!1;
e=b.children("tspan").last();e.text()==""&&e.text(" ");var e=$(d.svg.other(b,"tspan")),i=s?s:b.attr("x");e.attr("x",i).attr("dy",window.getComputedStyle(e[0],null).getPropertyValue("font-size"));return!1}else if(a.which===46||a.which===0&&a.keyCode===46)return!1;else if(a.which===8)return i=e.text(),i.length!==0&&(e.text(i.substr(0,i.length-1)),j(b)),i.length===0&&b.children("tspan").length>1&&e.remove(),!1}return!0}function g(a,b){var d=a.dom().find("text");d.children("tspan");l.bind("contextmenu",
function(a){a.preventDefault();return!1});$(document).bind("keypress.dizzy.editor",function(a){var b=d;a.preventDefault();if(a.which!=13){var e=b,b=b.children().last(),g=b.text();a.which!==0&&a.which!==8&&b.text(g+String.fromCharCode(a.which));j(e)}return!0});$(document).bind("keydown.dizzy.editor",function(a){return k(a,d)});$("#tool-textMode-bigger").bind("click",function(){var a=d.attr("font-size"),a=parseFloat(a.substring(0,a.length-2));a+=a>100?a/20:a>30?3:1;d.attr("font-size",a+"px");d.children("tspan").not(":first-child").attr("dy",
a+"px");v=a;j(d)});$("#tool-textMode-smaller").bind("click",function(){var a=d.attr("font-size"),a=parseFloat(a.substring(0,a.length-2));a-=a>100?a/20:a>30?3:1;d.attr("font-size",a+"px");d.children("tspan").not(":first-child").attr("dy",a+"px");v=a;j(d)});$("#tool-textMode-family").bind("change",function(){var a=$("#tool-textMode-family option:selected").val();d.attr("font-family",a);n=a;j(d)});$("#tool-textMode-italic").bind("click",function(){d.attr("font-style")=="italic"?d.removeAttr("font-style"):
d.attr("font-style","italic");j(d)});$("#tool-textMode-bold").bind("click",function(){d.attr("font-weight")=="bold"?d.removeAttr("font-weight"):d.attr("font-weight","bold");j(d)});$("#tool-textMode-underline").bind("click",function(){d.attr("text-decoration")=="underline"?d.removeAttr("text-decoration"):d.attr("text-decoration","underline");j(d)});$("#tool-textMode-center").bind("click",function(){var a=d.attr("text-anchor"),b=parseInt(d.attr("x")),e=d.children().first()[0].getComputedTextLength();
a=="middle"?(d.removeAttr("text-anchor"),d.children().attr("x",b),s=b):(d.attr("text-anchor","middle"),s=b+e/2,d.children().attr("x",s));j(d)});l.show();l.css({top:b.y,left:b.x});o=!1}function a(){if(q){var a=q.dom().children().first().children("tspan");if(a.length==0)d.removeGroup(q);else if(a.length==1){var a=a.text(),b=/^[\s]+$/;a==""||b.test(a)?d.removeGroup(q):e.publish("dizzy.canvas.group.text.edited",{textGroup:q})}else e.publish("dizzy.canvas.group.text.edited",{textGroup:q});s=q=void 0}$(document).unbind("keypress.dizzy.editor");
$(document).unbind("keydown.dizzy.editor");$(".invisible").removeClass("invisible");l.hide();l.unbind("contextmenu");$("#tool-textMode-bigger").unbind();$("#tool-textMode-smaller").unbind();$("#tool-textMode-family").unbind();$("#tool-textMode-italic").unbind();$("#tool-textMode-bold").unbind();$("#tool-textMode-underline").unbind();$("#tool-textMode-center").unbind();h.width(271);h.height(65.43600463867188);o=!0}var d,h,l,o=!1,q,s=void 0,n,v;e.subscribe("dizzy.presentation.loaded",function(a){d=
a.canvas});e.subscribe("dizzy.presentation.transform.do",function(){o=!1});e.subscribe("dizzy.io.mouse.wheel",a);e.subscribe("dizzy.presentation.transform.tracker.go",a);e.subscribe("dizzy.ui.toolbar.color.fill.changed",function(a){q&&q.dom().children().first().attr("fill",a.color)});e.subscribe("dizzy.ui.toolbar.color.stroke.changed",function(a){q&&q.dom().children().first().attr("stroke",a.color)});var C={depends:["zoom","pan","rightClick"],start:function(){d&&(o=!0,i(),$(d.svg.root()).addClass("editing textmode"))},
stop:function(){d&&($(d.svg.root()).unbind(),$(d.svg.root()).undelegate("g.group"),a(),$(d.svg.root()).removeClass("editing textmode"))}};return{init:function(){$.get("html/textBBox.html").success(function(a){l=$(a);l.css({MozUserSelect:"none"}).bind("selectstart select",function(){return!1});h=l.find("#text-wrapper");l.hide();$("#container").append(l);e.publish("dizzy.ui.textbox.loaded")}).error(function(a){console.error("Could not load textbox: "+a)}).complete(function(){e.publish("dizzy.modes.register",
{name:"tool-text",instance:C})})},destroy:function(){l&&l.remove()}}});
define("modules/ui/tracker",["sandbox"],function(e){var i,b,j,k=0,g=[];e.subscribe("dizzy.presentation.loaded",function(e){i=e.canvas;if(b==void 0)d();else{k=0;for(j.html("<tr><th>Type</th><th>Name</th><th>Path Num</th><th>Zoom</th><th>Speed</th><th>Go</th></tr>");0<g.length;)g.pop();a()}});e.subscribe("dizzy.canvas.group.created",function(a){var b="",d=a.group.dom(),a=d.attr("id"),d=d.children().prop("localName"),e="img/"+d+".png";g.push({type:d,id:a});if(d=="line"||d=="g"||d==void 0)b='class="hidden"',
e="";j.append("<tr "+b+'><td><img src="'+e+'" /></td><td><input class="tracker-name" type="text" size="7" value="'+ ++k+'"/></td><td><input class="tracker-path-numbers" type="text" size="7"/></td><td><input class="tracker-zoom" type="text" size="2" value="100"/></td><td><input class="tracker-speed" type="text" size="1" value="1"/></td><td class="tracker-go"><img src="./img/tracker_go.png"/></td></tr>')});e.subscribe("dizzy.canvas.group.removed",function(a){for(var a=a.id,b=0;b<g.length;b++)if(a==
g[b].id){j.find("tr:nth-child("+(b+2)+")").remove();g.splice(b,1);break}});e.subscribe("dizzy.canvas.group.text.edited",function(a){var b=a.textGroup.dom(),a=b.children().first().children("tspan").first().text().replace(/ /g,"").substring(0,6);b.attr("name",a);for(var b=b.attr("id"),d=0;d<g.length;d++)if(b==g[d].id){j.find("tr:nth-child("+(d+2)+")").find(".tracker-name").val(a);break}});var a=function(){if(i)for(var a=0;a<i.groupList.length;a++){var b=i.groupList[a].dom(),d=b.attr("id"),e="",h=b.attr("name")?
b.attr("name"):++k,v=b.children().prop("localName"),C="img/"+v+".png";if(v=="line"||v=="g"||v==void 0)e='class="hidden"',C="";else{var w=/group_(\d+)/gi,t=b.attr("class");t!=void 0&&(t=t.match(w));w="";if(t!=null)for(var y=0;y<t.length;y++)w+=t[y].substring(6)+" ";t=(t=b.attr("zoom"))?t:100;y=(y=b.attr("speed"))?y:1}g.push({type:v,id:d});j.append("<tr "+e+'><td><img src="'+C+'" /></td><td><input class="tracker-name" type="text" size="7" value="'+h+'"/></td></td><td><input class="tracker-path-numbers" type="text" size="7" value="'+
w+'"/></td><td><input class="tracker-zoom" type="text" size="2" value="'+t+'"/></td><td><input class="tracker-speed" type="text" size="1" value="'+y+'"/></td><td class="tracker-go"><img src="./img/tracker_go.png"/></td></tr>')}},d=function(){var d=$("#container");$.get("html/tracker.html").success(function(a){d.prepend(a);b=d.find("#tracker");e.publish("dizzy.ui.tracker.loaded",{tracker:b})}).error(function(){}).complete(function(){h();a()})},h=function(){var a=b.find("#tracker-expand");j=b.find("#tracker-list");
a.toggle(function(){j.show();e.publish("dizzy.presentation.transform.tracker.open")},function(){j.hide();e.publish("dizzy.presentation.transform.tracker.open")});b.bind("mousewheel",function(a){a.stopPropagation()});j.delegate(".tracker-go","click",function(){e.publish("dizzy.presentation.transform.tracker.go");var a=$(this).parent("tr").prop("rowIndex");i.visitGroup(g[a-1].id)});j.delegate(".tracker-name","change",function(){var a=$(this).parents("tr").prop("rowIndex"),a=i.groupList[a-1];$(this).val();
a.dom().attr("name",$(this).val())});j.delegate(".tracker-zoom","change",function(){var a=$(this).parents("tr").prop("rowIndex"),a=i.groupList[a-1],b=$(this).val();!isNaN(b)&&b<=100&&b>0?a.dom().attr("zoom",$(this).val()):$(this).val(a.dom().attr("zoom")?a.dom().attr("zoom"):"")});j.delegate(".tracker-speed","change",function(){var a=$(this).parents("tr").prop("rowIndex"),a=i.groupList[a-1],b=$(this).val();!isNaN(b)&&b<=10&&b>=0?a.dom().attr("speed",$(this).val()):$(this).val(a.dom().attr("speed")?
a.dom().attr("speed"):"1")});j.delegate(".tracker-path-numbers","change",function(){var a=$(this).parents("tr").prop("rowIndex"),a=i.groupList[a-1],b=$(this).val().split(/[ -.,;:+]/),d=a.dom().attr("class").match(/group_(\d+)/gi);if(d!=null)for(var e=0;e<d.length;e++)i.removePathNumber(a,parseInt(d[e].substring(6)));for(e=0;e<b.length;e++)b[e]!=""&&i.addPathNumber(a,b[e])});j.delegate("tr","hover",function(){var a=$(this).prop("rowIndex");a&&i.groupList[a-1].dom().children().toggleClass("hoveringElem")})};
return{init:function(){},destroy:function(){$("#tracker").remove()}}});
define("modules/modes/tool/presentation",["sandbox"],function(e){var i,b,j={depends:["zoom","pan"],start:function(){$(document).bind("keydown.dizzy.presentation",function(b){b=b.keyCode?b.keyCode:b.which;b==39||b==38?e.publish("dizzy.ui.toolbar.clicked.tool-next"):(b==37||b==40)&&e.publish("dizzy.ui.toolbar.clicked.tool-previous")});$(i.svg.root()).removeClass("editing");i.activeGroupNumber=0;$("#toolbar, #tracker").addClass("invisible");$(document).bind("mousemove.dizzy.presentation",function(){b&&
clearTimeout(b);$("#toolbar, #tracker").removeClass("invisible");b=setTimeout(function(){$("#toolbar, #tracker").addClass("invisible")},1E3)});$(document).bind("contextmenu",function(b){b.preventDefault();b.stopPropagation();return!1})},stop:function(){b&&clearTimeout(b);$(document).unbind("keydown.dizzy.presentation");$(document).unbind("mousemove.dizzy.presentation");$(document).unbind("contextmenu")}};e.subscribe("dizzy.presentation.loaded",function(b){i=b.canvas});return{init:function(){e.publish("dizzy.modes.register",
{name:"present-toggle-button",instance:j})},destroy:function(){}}});
define("modules/modes/tool/invrect",["sandbox"],function(e){function i(a){a.stopPropagation();a.preventDefault();if(a.which!=1)return!1;$(b.svg.root()).bind("mousemove.dizzy.mode.line",function(a){a.stopPropagation();a.preventDefault();var a=b.toViewboxCoordinates({x:a.pageX,y:a.pageY}),d=Math.max(20,Math.abs(a.x-k)),e=Math.max(20,Math.abs(a.y-g));a.x-k<0&&j.attr({x:k-d});j.attr({width:d});a.y-g<0&&j.attr({y:g-e});j.attr({height:e})});var a=b.toViewboxCoordinates({x:a.pageX,y:a.pageY}),h=b.createGroup(),
i=h.dom();b.getStrokeColor();j=$(b.svg.rect(a.x,a.y,0,0,{width:20,height:20,strokeWidth:3,stroke:"black","fill-opacity":0,"stroke-opacity":0}));j.addClass("invisibleRect");k=a.x;g=a.y;i.append(j);e.publish("dizzy.canvas.group.created.invrect",{group:h})}var b,j,k,g,a={depends:["zoom","rightClick"],start:function(){b&&($(b.svg.root()).bind("mousedown.dizzy.mode.line",function(a){return i(a)}),$(b.svg.root()).bind("mouseup.dizzy.mode.line",function(){$(b.svg.root()).unbind("mousemove.dizzy.mode.line")}),
$(b.svg.root()).addClass("editing drawing"))},stop:function(){b&&($(b.svg.root()).unbind("mousedown.dizzy.mode.line"),$(b.svg.root()).unbind("mouseup.dizzy.mode.line"),$(b.svg.root()).removeClass("editing drawing"))}};e.subscribe("dizzy.presentation.loaded",function(a){b=a.canvas});return{init:function(){e.publish("dizzy.modes.register",{name:"tool-invrect",instance:a})},destroy:function(){}}});
define("modules/modes/tool/ellipse",["sandbox"],function(e){function i(a){a.stopPropagation();a.preventDefault();if(a.which!=1)return!1;$(b.svg.root()).bind("mousemove.dizzy.mode.ellipse",function(a){a.stopPropagation();a.preventDefault();var d=b.toViewboxCoordinates({x:a.pageX,y:a.pageY}),a=Math.abs(d.x-k),d=Math.abs(d.y-g);a>10&&j.attr("rx",a);d>10&&j.attr("ry",d)});var a=b.toViewboxCoordinates({x:a.pageX,y:a.pageY}),h=b.createGroup(),i=h.dom();j=$(b.svg.ellipse(a.x,a.y,10,10,{stroke:b.getStrokeColor(),
fill:b.getFillColor(),strokeWidth:3,fillOpacity:0}));k=a.x;g=a.y;i.append(j);e.publish("dizzy.canvas.group.created.ellipse",{group:h})}var b,j,k,g;e.subscribe("dizzy.presentation.loaded",function(a){b=a.canvas});var a={depends:["zoom","rightClick"],start:function(){b&&($(b.svg.root()).bind("mousedown.dizzy.mode.ellipse",function(a){return i(a)}),$(b.svg.root()).bind("mouseup.dizzy.mode.ellipse",function(){$(b.svg.root()).unbind("mousemove.dizzy.mode.ellipse")}),$(b.svg.root()).addClass("editing drawing"))},
stop:function(){b&&($(b.svg.root()).unbind("mousedown.dizzy.mode.ellipse"),$(b.svg.root()).unbind("mouseup.dizzy.mode.ellipse"),$(b.svg.root()).removeClass("editing drawing"))}};return{init:function(){e.publish("dizzy.modes.register",{name:"tool-circle",instance:a})},destroy:function(){}}});
define("modules/modes/tool/captureview",["sandbox"],function(e){var i,b,j={depends:["zoom"],start:function(){if(i){var j=i.createGroup(),g=j.dom();g.prependTo(g.parent());$(document).width();$(document).height();var a=$(document).width(),d=$(document).height(),h=$("svg").attr("viewBox").split(" ",4),l=h[2],h=h[3];a/d>=4/3?(l=h,h=h/d*a):(h=l,l=l/a*d);b=$(i.svg.rect("0","0",h,l,{strokeWidth:3,stroke:"black","fill-opacity":0,"stroke-opacity":0}));b.addClass("invisibleRect");g.append(b);g.prependTo(g.parent());
e.publish("dizzy.canvas.group.created.invrect",{group:j});e.publish("dizzy.ui.toolbar.clicked.mode.tool-default",{button:"tool-default"})}},stop:function(){}};e.subscribe("dizzy.presentation.loaded",function(b){i=b.canvas});return{init:function(){e.publish("dizzy.modes.register",{name:"tool-captview",instance:j})},destroy:function(){}}});
define("modules/modes/canvas/resizer",["sandbox"],function(e){function i(){g&&$(g).hide()}var b,j,k,g,a,d={start:function(){$(g).bind("mousedown.dizzy.resizer",function(a){h(a)})},stop:function(){$(g).unbind("mousedown.dizzy.resizer");$(document).unbind("mouseup.dizzy.resizer mouseleave.dizzy.resizer")}};e.subscribe("dizzy.ui.zebra.start",i);e.subscribe("dizzy.ui.toolbar.clicked",i);e.subscribe("dizzy.ui.zebra.stop",function(){var a=document.getElementsByClassName("selected")[0];a&&(a=a.children[0],
a.localName=="rect"&&(l(a),g&&$(g).show()))});e.subscribe("dizzy.presentation.transform",i);var h=function(b){b.stopPropagation();b.preventDefault();e.publish("dizzy.ui.resizer.start");var d=a;if(d){var g={x:b.pageX,y:b.pageY};$(document).bind("mousemove.dizzy.resizer",function(a){a.preventDefault();var b={x:a.pageX,y:a.pageY};parseFloat(b.x-g.x);parseFloat(b.y-g.y);var a=b.x,b=b.y,e=d.getScreenCTM();k.x=a;k.y=b;a=k.matrixTransform(e.inverse());b=Math.max(a.y-d.y.animVal.value,20);d.setAttribute("width",
Math.max(a.x-d.x.animVal.value,20));d.setAttribute("height",b);l(d)});$(document).bind("mouseup.dizzy.resizer mouseleave.dizzy.resizer",function(){$(document).unbind("mousemove.dizzy.resizer");e.publish("dizzy.ui.resizer.stop")})}};e.subscribe("dizzy.presentation.loaded",function(){j=document.getElementsByTagName("svg")[0];k=j.createSVGPoint()});e.subscribe("dizzy.presentation.group.selected",function(b){b=b.group.dom().children().first();b[0].localName=="rect"?(a=b[0],l(b[0]),g&&$(g).show()):i()});
var l=function(a){var b=a.getScreenCTM();k.x=a.x.animVal.value;k.y=a.y.animVal.value;k.x+=a.width.animVal.value;k.y+=a.height.animVal.value;a=k.matrixTransform(b);g.style.left=a.x-20+"px";g.style.top=a.y-20+"px"};return{init:function(){var a=$("#container");b=$('<div id="resizer"></div>');a.prepend(b);g=document.getElementById("resizer");i();e.publish("dizzy.modes.register",{name:"resizer",instance:d})},destroy:function(){}}});
define("modules/ui/image_drop",["sandbox"],function(e){e.subscribe("dizzy.presentation.loaded",function(){i("Text");console.log("Canvas made droppable");b("Text")});var i=function(b){$("#dizzy").bind("dragenter",function(){return!1}).bind("dragleave",function(){$(this).css("background-color","white");return!1}).bind("dragover",function(){$(this).css("background-color","#CCFFFF");return!1}).bind("drop",function(i){$(this).css("background-color","white");i.preventDefault&&i.preventDefault();i=i.originalEvent.dataTransfer.getData(b);
e.publish("dizzy.presentation.insertImage",{ref:i});return!1})},b=function(b){$(document).delegate("img","dragstart",function(e){e.originalEvent.dataTransfer.setData(b,$(this).attr("src"));return!0})};return{init:function(){},destroy:function(){}}});
define("modules/ui/toolbar",["sandbox"],function(e){var i;e.subscribe("dizzy.ui.toolbar.clicked",function(b){b.button!="menu-button"&&b.button!="tool-color"&&b.button!="present-toggle-button"&&(b=i.find("#"+b.button),b.siblings().removeClass("pressed"),b.addClass("pressed"))});return{init:function(){var b=this,j=$("#container");$.get("html/toolbar.html").success(function(b){j.prepend(b);i=j.find("#toolbar");e.publish("dizzy.ui.toolbar.loaded",{toolbar:i})}).error(function(){}).complete(function(){b.assignEventHandlers();
b.setColorPickers();setTimeout(function(){e.publish("dizzy.ui.toolbar.clicked.mode.tool-default",{button:"tool-default"})},1E3)})},setColorPickers:function(){function b(a,b){this.selector=new jscolor.color(a,{});this.selector.pickerOnfocus=!1;this.selector.pickerFace=2;this.selector.hash=!0;this.selector.fromString(b);this.opened=!1;this.open=function(){this.opened=!0;this.selector.showPicker()};this.close=function(){this.opened=!1;this.selector.hidePicker()}}var j=document.getElementById("tool-input-color-fill"),
k=new b(j,"#000000"),g=document.getElementById("tool-input-color-stroke"),a=new b(g,"#000000"),d=document.getElementById("tool-input-color-background"),h=new b(d,"#FFFFFF");i.find(".color").css({"font-size":"0"});e.subscribe("dizzy.presentation.transform",function(){k.close();a.close();h.close()});e.subscribe("dizzy.ui.toolbar.clicked",function(b){b.button!="tool-color"&&(k.close(),a.close(),h.close())});$(d).click(function(a){a.stopPropagation();h.opened?h.close():h.open()});$(j).click(function(){k.opened?
k.close():(a.close(),k.open())});$(g).click(function(){a.opened?a.close():(k.close(),a.open())})},assignEventHandlers:function(){i.css({MozUserSelect:"none"}).bind("selectstart select",function(){return!1}).mousedown(function(b){b.stoppropagation();return!1});i.children(":not(#tool-goto-input)").disableTextSelect();i.delegate(".toolbutton","click",function(){var b=$(this),i=b.attr("id");console.log("toolbar button "+i+" pressed.");var k="";b.hasClass("mode")&&(k+="mode.");e.publish("dizzy.ui.toolbar.clicked."+
k+i,{button:i})});i.delegate("#tool-input-color-fill","change",function(){e.publish("dizzy.ui.toolbar.color.fill.changed",{color:$(this).val()})});i.delegate("#tool-input-color-stroke","change",function(){e.publish("dizzy.ui.toolbar.color.stroke.changed",{color:$(this).val()})})},destroy:function(){$("#toolbar, #menu").remove()}}});
define("modules",["modules/canvas","modules/modes","modules/io/mouse","modules/ui/dialog","modules/ui/toolbar.menu","modules/ui/toolbar.control","modules/modes/canvas/pan","modules/modes/canvas/zoom","modules/modes/canvas/zebra","modules/modes/canvas/rightClick","modules/modes/tool/default","modules/modes/tool/image","modules/modes/tool/line","modules/modes/tool/rect","modules/modes/tool/text","modules/ui/tracker","modules/modes/tool/presentation","modules/modes/tool/invrect","modules/modes/tool/ellipse",
"modules/modes/tool/captureview","modules/modes/canvas/resizer","modules/ui/image_drop","modules/ui/toolbar"],function(){return arguments});require(["application","modules"],function(e,i){for(var b=0;b<i.length;b++)i[b]&&e.registerModule(i[b])});define("moduleLoader",function(){});define("main",["./libs/jquery.js","./libs/util.js","./libs/jscolor.js","application","moduleLoader"],function(e,i,b,j){$(function(){j.startAll()})});
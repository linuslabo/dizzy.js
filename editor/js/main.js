/*
 http://www.gnu.org/licenses/gpl.html [GNU General Public License]
 @param {jQuery} {base64Encode:function(input))
 @param {jQuery} {base64Decode:function(input))
 @return string
 GNU Lesser General Public License, http://www.gnu.org/copyleft/lesser.html
 @author  Jan Odvarko, http://odvarko.cz
 @created 2008-06-15
 @updated 2011-11-07
 @link    http://jscolor.com
*/
(function(d,i){function c(e,a,m){if(m===i&&e.nodeType===1)if(m="data-"+a.replace(Pa,"$1-$2").toLowerCase(),m=e.getAttribute(m),typeof m==="string"){try{m=m==="true"?!0:m==="false"?!1:m==="null"?null:!f.isNaN(m)?parseFloat(m):Qa.test(m)?f.parseJSON(m):m}catch(s){}f.data(e,a,m)}else m=i;return m}function k(e){for(var a in e)if(a!=="toJSON")return!1;return!0}function j(e,a,m){var s=a+"defer",b=a+"queue",c=a+"mark",d=f.data(e,s,i,!0);d&&(m==="queue"||!f.data(e,b,i,!0))&&(m==="mark"||!f.data(e,c,i,!0))&&
setTimeout(function(){!f.data(e,b,i,!0)&&!f.data(e,c,i,!0)&&(f.removeData(e,s,!0),d.resolve())},0)}function g(){return!1}function a(){return!0}function b(e,a,m){var s=f.extend({},m[0]);s.type=e;s.originalEvent={};s.liveFired=i;f.event.handle.call(a,s);s.isDefaultPrevented()&&m[0].preventDefault()}function h(e){var a,m,s,b,c,d,h,g,i,j,l,k=[];b=[];c=f._data(this,"events");if(!(e.liveFired===this||!c||!c.live||e.target.disabled||e.button&&e.type==="click")){e.namespace&&(l=RegExp("(^|\\.)"+e.namespace.split(".").join("\\.(?:.*\\.)?")+
"(\\.|$)"));e.liveFired=this;var o=c.live.slice(0);for(h=0;h<o.length;h++)c=o[h],c.origType.replace(ha,"")===e.type?b.push(c.selector):o.splice(h--,1);b=f(e.target).closest(b,e.currentTarget);g=0;for(i=b.length;g<i;g++){j=b[g];for(h=0;h<o.length;h++)if(c=o[h],j.selector===c.selector&&(!l||l.test(c.namespace))&&!j.elem.disabled){d=j.elem;s=null;if(c.preType==="mouseenter"||c.preType==="mouseleave")e.type=c.preType,(s=f(e.relatedTarget).closest(c.selector)[0])&&f.contains(d,s)&&(s=d);(!s||s!==d)&&k.push({elem:d,
handleObj:c,level:j.level})}}g=0;for(i=k.length;g<i;g++){b=k[g];if(m&&b.level>m)break;e.currentTarget=b.elem;e.data=b.handleObj.data;e.handleObj=b.handleObj;l=b.handleObj.origHandler.apply(b.elem,arguments);if(l===!1||e.isPropagationStopped())if(m=b.level,l===!1&&(a=!1),e.isImmediatePropagationStopped())break}return a}}function l(e,a){return(e&&e!=="*"?e+".":"")+a.replace(Ra,"`").replace(Sa,"&")}function o(e,a,m){a=a||0;if(f.isFunction(a))return f.grep(e,function(e,f){return!!a.call(e,f,e)===m});
else if(a.nodeType)return f.grep(e,function(e){return e===a===m});else if(typeof a==="string"){var b=f.grep(e,function(e){return e.nodeType===1});if(Ta.test(a))return f.filter(a,b,!m);else a=f.filter(a,b)}return f.grep(e,function(e){return f.inArray(e,a)>=0===m})}function q(e,a){if(a.nodeType===1&&f.hasData(e)){var m=f.expando,b=f.data(e),c=f.data(a,b);if(b=b[m]){var d=b.events,c=c[m]=f.extend({},b);if(d)for(var h in delete c.handle,c.events={},d){m=0;for(b=d[h].length;m<b;m++)f.event.add(a,h+(d[h][m].namespace?
".":"")+d[h][m].namespace,d[h][m],d[h][m].data)}}}}function r(e,a){var m;if(a.nodeType===1){a.clearAttributes&&a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(e);m=a.nodeName.toLowerCase();if(m==="object")a.outerHTML=e.outerHTML;else if(m==="input"&&(e.type==="checkbox"||e.type==="radio")){if(e.checked)a.defaultChecked=a.checked=e.checked;if(a.value!==e.value)a.value=e.value}else if(m==="option")a.selected=e.defaultSelected;else if(m==="input"||m==="textarea")a.defaultValue=e.defaultValue;
a.removeAttribute(f.expando)}}function n(e){return"getElementsByTagName"in e?e.getElementsByTagName("*"):"querySelectorAll"in e?e.querySelectorAll("*"):[]}function t(e){if(e.type==="checkbox"||e.type==="radio")e.defaultChecked=e.checked}function D(e){f.nodeName(e,"input")?t(e):e.getElementsByTagName&&f.grep(e.getElementsByTagName("input"),t)}function w(e,a){a.src?f.ajax({url:a.src,async:!1,dataType:"script"}):f.globalEval((a.text||a.textContent||a.innerHTML||"").replace(Ua,"/*$0*/"));a.parentNode&&
a.parentNode.removeChild(a)}function u(e,a,m){var b=a==="width"?e.offsetWidth:e.offsetHeight;if(m==="border")return b;f.each(a==="width"?Va:Wa,function(){m||(b-=parseFloat(f.css(e,"padding"+this))||0);m==="margin"?b+=parseFloat(f.css(e,"margin"+this))||0:b-=parseFloat(f.css(e,"border"+this+"Width"))||0});return b}function y(e){return function(a,m){var s;typeof a!=="string"&&(m=a,a="*");if(f.isFunction(m))for(var b=a.toLowerCase().split(sa),c=0,d=b.length,h,g;c<d;c++)h=b[c],(g=/^\+/.test(h))&&(h=h.substr(1)||
"*"),s=e[h]=e[h]||[],h=s,h[g?"unshift":"push"](m)}}function G(e,a,f,b,c,d){c=c||a.dataTypes[0];d=d||{};d[c]=!0;for(var c=e[c],h=0,g=c?c.length:0,j=e===ia,l;h<g&&(j||!l);h++)l=c[h](a,f,b),typeof l==="string"&&(!j||d[l]?l=i:(a.dataTypes.unshift(l),l=G(e,a,f,b,l,d)));if((j||!l)&&!d["*"])l=G(e,a,f,b,"*",d);return l}function C(e,a,m,b){if(f.isArray(a))f.each(a,function(a,v){m||Xa.test(e)?b(e,v):C(e+"["+(typeof v==="object"||f.isArray(v)?a:"")+"]",v,m,b)});else if(!m&&a!=null&&typeof a==="object")for(var c in a)C(e+
"["+c+"]",a[c],m,b);else b(e,a)}function K(){try{return new d.XMLHttpRequest}catch(e){}}function L(){setTimeout(E,0);return ba=f.now()}function E(){ba=i}function z(e,a){var m={};f.each(ta.concat.apply([],ta.slice(0,a)),function(){m[this]=e});return m}function x(e){if(!ja[e]){var a=f("<"+e+">").appendTo("body"),m=a.css("display");a.remove();if(m==="none"||m===""){if(!I)I=p.createElement("iframe"),I.frameBorder=I.width=I.height=0;p.body.appendChild(I);if(!V||!I.createElement)V=(I.contentWindow||I.contentDocument).document,
V.write("<!doctype><html><body></body></html>");a=V.createElement(e);V.body.appendChild(a);m=f.css(a,"display");p.body.removeChild(I)}ja[e]=m}return ja[e]}function H(e){return f.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var p=d.document,F=d.navigator,W=d.location,f=function(){function e(){if(!a.isReady){try{p.documentElement.doScroll("left")}catch(f){setTimeout(e,1);return}a.ready()}}var a=function(e,f){return new a.fn.init(e,f,c)},f=d.jQuery,b=d.$,c,h=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
g=/\S/,l=/^\s+/,j=/\s+$/,k=/\d/,o=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,q=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,z=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,r=/(?:^|:|,)(?:\s*\[)+/g,w=/(webkit)[ \/]([\w.]+)/,y=/(opera)(?:.*version)?[ \/]([\w.]+)/,H=/(msie) ([\w.]+)/,t=/(mozilla)(?:.*? rv:([\w.]+))?/,X=F.userAgent,ca,R,Ya=Object.prototype.toString,ka=Object.prototype.hasOwnProperty,la=Array.prototype.push,Y=Array.prototype.slice,ua=String.prototype.trim,x=Array.prototype.indexOf,
G={};a.fn=a.prototype={constructor:a,init:function(e,f,m){var b;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(e==="body"&&!f&&p.body)return this.context=p,this[0]=p.body,this.selector=e,this.length=1,this;if(typeof e==="string")if((b=e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?[null,e,null]:h.exec(e))&&(b[1]||!f))if(b[1])return m=(f=f instanceof a?f[0]:f)?f.ownerDocument||f:p,(e=o.exec(e))?a.isPlainObject(f)?(e=[p.createElement(e[1])],a.fn.attr.call(e,
f,!0)):e=[m.createElement(e[1])]:(e=a.buildFragment([b[1]],[m]),e=(e.cacheable?a.clone(e.fragment):e.fragment).childNodes),a.merge(this,e);else{if((f=p.getElementById(b[2]))&&f.parentNode){if(f.id!==b[2])return m.find(e);this.length=1;this[0]=f}this.context=p;this.selector=e;return this}else return!f||f.jquery?(f||m).find(e):this.constructor(f).find(e);else if(a.isFunction(e))return m.ready(e);if(e.selector!==i)this.selector=e.selector,this.context=e.context;return a.makeArray(e,this)},selector:"",
jquery:"1.6.1",length:0,size:function(){return this.length},toArray:function(){return Y.call(this,0)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,f,m){var b=this.constructor();a.isArray(e)?la.apply(b,e):a.merge(b,e);b.prevObject=this;b.context=this.context;if(f==="find")b.selector=this.selector+(this.selector?" ":"")+m;else if(f)b.selector=this.selector+"."+f+"("+m+")";return b},each:function(e,f){return a.each(this,e,f)},ready:function(e){a.bindReady();
ca.done(e);return this},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Y.apply(this,arguments),"slice",Y.call(arguments).join(","))},map:function(e){return this.pushStack(a.map(this,function(a,f){return e.call(a,f,a)}))},end:function(){return this.prevObject||this.constructor(null)},push:la,sort:[].sort,splice:[].splice};a.fn.init.prototype=a.fn;a.extend=a.fn.extend=function(){var e,
f,m,b,c,s=arguments[0]||{},d=1,h=arguments.length,P=!1;typeof s==="boolean"&&(P=s,s=arguments[1]||{},d=2);typeof s!=="object"&&!a.isFunction(s)&&(s={});h===d&&(s=this,--d);for(;d<h;d++)if((e=arguments[d])!=null)for(f in e)m=s[f],b=e[f],s!==b&&(P&&b&&(a.isPlainObject(b)||(c=a.isArray(b)))?(c?(c=!1,m=m&&a.isArray(m)?m:[]):m=m&&a.isPlainObject(m)?m:{},s[f]=a.extend(P,m,b)):b!==i&&(s[f]=b));return s};a.extend({noConflict:function(e){if(d.$===a)d.$=b;if(e&&d.jQuery===a)d.jQuery=f;return a},isReady:!1,
readyWait:1,holdReady:function(e){e?a.readyWait++:a.ready(!0)},ready:function(e){if(e===!0&&!--a.readyWait||e!==!0&&!a.isReady){if(!p.body)return setTimeout(a.ready,1);a.isReady=!0;e!==!0&&--a.readyWait>0||(ca.resolveWith(p,[a]),a.fn.trigger&&a(p).trigger("ready").unbind("ready"))}},bindReady:function(){if(!ca){ca=a._Deferred();if(p.readyState==="complete")return setTimeout(a.ready,1);if(p.addEventListener)p.addEventListener("DOMContentLoaded",R,!1),d.addEventListener("load",a.ready,!1);else if(p.attachEvent){p.attachEvent("onreadystatechange",
R);d.attachEvent("onload",a.ready);var f=!1;try{f=d.frameElement==null}catch(m){}p.documentElement.doScroll&&f&&e()}}},isFunction:function(e){return a.type(e)==="function"},isArray:Array.isArray||function(e){return a.type(e)==="array"},isWindow:function(e){return e&&typeof e==="object"&&"setInterval"in e},isNaN:function(e){return e==null||!k.test(e)||isNaN(e)},type:function(e){return e==null?String(e):G[Ya.call(e)]||"object"},isPlainObject:function(e){if(!e||a.type(e)!=="object"||e.nodeType||a.isWindow(e))return!1;
if(e.constructor&&!ka.call(e,"constructor")&&!ka.call(e.constructor.prototype,"isPrototypeOf"))return!1;for(var f in e);return f===i||ka.call(e,f)},isEmptyObject:function(e){for(var a in e)return!1;return!0},error:function(e){throw e;},parseJSON:function(e){if(typeof e!=="string"||!e)return null;e=a.trim(e);if(d.JSON&&d.JSON.parse)return d.JSON.parse(e);if(n.test(e.replace(q,"@").replace(z,"]").replace(r,"")))return(new Function("return "+e))();a.error("Invalid JSON: "+e)},parseXML:function(e,f,m){d.DOMParser?
(m=new DOMParser,f=m.parseFromString(e,"text/xml")):(f=new ActiveXObject("Microsoft.XMLDOM"),f.async="false",f.loadXML(e));m=f.documentElement;(!m||!m.nodeName||m.nodeName==="parsererror")&&a.error("Invalid XML: "+e);return f},noop:function(){},globalEval:function(e){e&&g.test(e)&&(d.execScript||function(e){d.eval.call(d,e)})(e)},nodeName:function(e,a){return e.nodeName&&e.nodeName.toUpperCase()===a.toUpperCase()},each:function(e,f,m){var b,s=0,c=e.length,d=c===i||a.isFunction(e);if(m)if(d)for(b in e){if(f.apply(e[b],
m)===!1)break}else for(;s<c;){if(f.apply(e[s++],m)===!1)break}else if(d)for(b in e){if(f.call(e[b],b,e[b])===!1)break}else for(;s<c;)if(f.call(e[s],s,e[s++])===!1)break;return e},trim:ua?function(e){return e==null?"":ua.call(e)}:function(e){return e==null?"":e.toString().replace(l,"").replace(j,"")},makeArray:function(e,f){var m=f||[];if(e!=null){var b=a.type(e);e.length==null||b==="string"||b==="function"||b==="regexp"||a.isWindow(e)?la.call(m,e):a.merge(m,e)}return m},inArray:function(e,a){if(x)return x.call(a,
e);for(var f=0,v=a.length;f<v;f++)if(a[f]===e)return f;return-1},merge:function(e,a){var f=e.length,v=0;if(typeof a.length==="number")for(var m=a.length;v<m;v++)e[f++]=a[v];else for(;a[v]!==i;)e[f++]=a[v++];e.length=f;return e},grep:function(e,a,f){for(var v=[],m,f=!!f,b=0,s=e.length;b<s;b++)m=!!a(e[b],b),f!==m&&v.push(e[b]);return v},map:function(e,f,m){var b,s,c=[],d=0,h=e.length;if(e instanceof a||h!==i&&typeof h==="number"&&(h>0&&e[0]&&e[h-1]||h===0||a.isArray(e)))for(;d<h;d++)b=f(e[d],d,m),b!=
null&&(c[c.length]=b);else for(s in e)b=f(e[s],s,m),b!=null&&(c[c.length]=b);return c.concat.apply([],c)},guid:1,proxy:function(e,f){if(typeof f==="string")var m=e[f],f=e,e=m;if(!a.isFunction(e))return i;var b=Y.call(arguments,2),m=function(){return e.apply(f,b.concat(Y.call(arguments)))};m.guid=e.guid=e.guid||m.guid||a.guid++;return m},access:function(e,f,m,b,s,c){var d=e.length;if(typeof f==="object"){for(var h in f)a.access(e,h,f[h],b,s,m);return e}if(m!==i){b=!c&&b&&a.isFunction(m);for(h=0;h<
d;h++)s(e[h],f,b?m.call(e[h],h,s(e[h],f)):m,c);return e}return d?s(e[0],f):i},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();e=w.exec(e)||y.exec(e)||H.exec(e)||e.indexOf("compatible")<0&&t.exec(e)||[];return{browser:e[1]||"",version:e[2]||"0"}},sub:function(){function e(a,f){return new e.fn.init(a,f)}a.extend(!0,e,this);e.superclass=this;e.fn=e.prototype=this();e.fn.constructor=e;e.sub=this.sub;e.fn.init=function(m,b){b&&b instanceof a&&!(b instanceof e)&&(b=e(b));
return a.fn.init.call(this,m,b,f)};e.fn.init.prototype=e.fn;var f=e(p);return e},browser:{}});a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,a){G["[object "+a+"]"]=a.toLowerCase()});X=a.uaMatch(X);if(X.browser)a.browser[X.browser]=!0,a.browser.version=X.version;if(a.browser.webkit)a.browser.safari=!0;g.test("\u00a0")&&(l=/^[\s\xA0]+/,j=/[\s\xA0]+$/);c=a(p);p.addEventListener?R=function(){p.removeEventListener("DOMContentLoaded",R,!1);a.ready()}:p.attachEvent&&
(R=function(){p.readyState==="complete"&&(p.detachEvent("onreadystatechange",R),a.ready())});return a}(),Z="done fail isResolved isRejected promise then always pipe".split(" "),B=[].slice;f.extend({_Deferred:function(){var e=[],a,m,b,c={done:function(){if(!b){var m=arguments,d,h,g,i,l;a&&(l=a,a=0);d=0;for(h=m.length;d<h;d++)g=m[d],i=f.type(g),i==="array"?c.done.apply(c,g):i==="function"&&e.push(g);l&&c.resolveWith(l[0],l[1])}return this},resolveWith:function(f,c){if(!b&&!a&&!m){c=c||[];m=1;try{for(;e[0];)e.shift().apply(f,
c)}finally{a=[f,c],m=0}}return this},resolve:function(){c.resolveWith(this,arguments);return this},isResolved:function(){return!(!m&&!a)},cancel:function(){b=1;e=[];return this}};return c},Deferred:function(e){var a=f._Deferred(),m=f._Deferred(),b;f.extend(a,{then:function(e,f){a.done(e).fail(f);return this},always:function(){return a.done.apply(a,arguments).fail.apply(this,arguments)},fail:m.done,rejectWith:m.resolveWith,reject:m.resolve,isRejected:m.isResolved,pipe:function(e,m){return f.Deferred(function(b){f.each({done:[e,
"resolve"],fail:[m,"reject"]},function(e,m){var c=m[0],s=m[1],d;if(f.isFunction(c))a[e](function(){if((d=c.apply(this,arguments))&&f.isFunction(d.promise))d.promise().then(b.resolve,b.reject);else b[s](d)});else a[e](b[s])})}).promise()},promise:function(e){if(e==null){if(b)return b;b=e={}}for(var f=Z.length;f--;)e[Z[f]]=a[Z[f]];return e}});a.done(m.cancel).fail(a.cancel);delete a.cancel;e&&e.call(a,a);return a},when:function(e){function a(e){return function(a){m[e]=arguments.length>1?B.call(arguments,
0):a;--d||h.resolveWith(h,B.call(m,0))}}var m=arguments,b=0,c=m.length,d=c,h=c<=1&&e&&f.isFunction(e.promise)?e:f.Deferred();if(c>1){for(;b<c;b++)m[b]&&f.isFunction(m[b].promise)?m[b].promise().then(a(b),h.reject):--d;d||h.resolveWith(h,m)}else h!==e&&h.resolveWith(h,c?[e]:[]);return h.promise()}});f.support=function(){var e=p.createElement("div"),a=p.documentElement,f,b,c,d,h,g;e.setAttribute("className","t");e.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
f=e.getElementsByTagName("*");b=e.getElementsByTagName("a")[0];if(!f||!f.length||!b)return{};c=p.createElement("select");d=c.appendChild(p.createElement("option"));f=e.getElementsByTagName("input")[0];h={leadingWhitespace:e.firstChild.nodeType===3,tbody:!e.getElementsByTagName("tbody").length,htmlSerialize:!!e.getElementsByTagName("link").length,style:/top/.test(b.getAttribute("style")),hrefNormalized:b.getAttribute("href")==="/a",opacity:/^0.55$/.test(b.style.opacity),cssFloat:!!b.style.cssFloat,
checkOn:f.value==="on",optSelected:d.selected,getSetAttribute:e.className!=="t",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0};f.checked=!0;h.noCloneChecked=f.cloneNode(!0).checked;c.disabled=!0;h.optDisabled=!d.disabled;try{delete e.test}catch(i){h.deleteExpando=!1}!e.addEventListener&&e.attachEvent&&e.fireEvent&&(e.attachEvent("onclick",function Q(){h.noCloneEvent=!1;e.detachEvent("onclick",
Q)}),e.cloneNode(!0).fireEvent("onclick"));f=p.createElement("input");f.value="t";f.setAttribute("type","radio");h.radioValue=f.value==="t";f.setAttribute("checked","checked");e.appendChild(f);b=p.createDocumentFragment();b.appendChild(e.firstChild);h.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked;e.innerHTML="";e.style.width=e.style.paddingLeft="1px";b=p.createElement("body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};for(g in c)b.style[g]=c[g];b.appendChild(e);
a.insertBefore(b,a.firstChild);h.appendChecked=f.checked;h.boxModel=e.offsetWidth===2;if("zoom"in e.style)e.style.display="inline",e.style.zoom=1,h.inlineBlockNeedsLayout=e.offsetWidth===2,e.style.display="",e.innerHTML="<div style='width:4px;'></div>",h.shrinkWrapBlocks=e.offsetWidth!==2;e.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";c=e.getElementsByTagName("td");f=c[0].offsetHeight===0;c[0].style.display="";c[1].style.display="none";h.reliableHiddenOffsets=
f&&c[0].offsetHeight===0;e.innerHTML="";if(p.defaultView&&p.defaultView.getComputedStyle)f=p.createElement("div"),f.style.width="0",f.style.marginRight="0",e.appendChild(f),h.reliableMarginRight=(parseInt((p.defaultView.getComputedStyle(f,null)||{marginRight:0}).marginRight,10)||0)===0;b.innerHTML="";a.removeChild(b);if(e.attachEvent)for(g in{submit:1,change:1,focusin:1})a="on"+g,f=a in e,f||(e.setAttribute(a,"return;"),f=typeof e[a]==="function"),h[g+"Bubbles"]=f;return h}();f.boxModel=f.support.boxModel;
var Qa=/^(?:\{.*\}|\[.*\])$/,Pa=/([a-z])([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){e=e.nodeType?f.cache[e[f.expando]]:e[f.expando];return!!e&&!k(e)},data:function(e,a,m,b){if(f.acceptData(e)){var c=f.expando,d=typeof a==="string",h=e.nodeType,g=h?f.cache:e,l=h?e[f.expando]:e[f.expando]&&f.expando;if(l&&(!b||!l||g[l][c])||!(d&&m===i)){if(!l)h?e[f.expando]=
l=++f.uuid:l=f.expando;if(!g[l]&&(g[l]={},!h))g[l].toJSON=f.noop;if(typeof a==="object"||typeof a==="function")b?g[l][c]=f.extend(g[l][c],a):g[l]=f.extend(g[l],a);e=g[l];b&&(e[c]||(e[c]={}),e=e[c]);m!==i&&(e[f.camelCase(a)]=m);if(a==="events"&&!e[a])return e[c]&&e[c].events;return d?e[f.camelCase(a)]:e}}},removeData:function(e,a,m){if(f.acceptData(e)){var b=f.expando,c=e.nodeType,h=c?f.cache:e,g=c?e[f.expando]:f.expando;if(h[g]){if(a){var l=m?h[g][b]:h[g];if(l&&(delete l[a],!k(l)))return}if(m&&(delete h[g][b],
!k(h[g])))return;a=h[g][b];f.support.deleteExpando||h!=d?delete h[g]:h[g]=null;if(a){h[g]={};if(!c)h[g].toJSON=f.noop;h[g][b]=a}else c&&(f.support.deleteExpando?delete e[f.expando]:e.removeAttribute?e.removeAttribute(f.expando):e[f.expando]=null)}}},_data:function(e,a,m){return f.data(e,a,m,!0)},acceptData:function(e){if(e.nodeName){var a=f.noData[e.nodeName.toLowerCase()];if(a)return!(a===!0||e.getAttribute("classid")!==a)}return!0}});f.fn.extend({data:function(e,a){var m=null;if(typeof e==="undefined"){if(this.length&&
(m=f.data(this[0]),this[0].nodeType===1))for(var b=this[0].attributes,d,h=0,g=b.length;h<g;h++)d=b[h].name,d.indexOf("data-")===0&&(d=f.camelCase(d.substring(5)),c(this[0],d,m[d]));return m}else if(typeof e==="object")return this.each(function(){f.data(this,e)});var l=e.split(".");l[1]=l[1]?"."+l[1]:"";return a===i?(m=this.triggerHandler("getData"+l[1]+"!",[l[0]]),m===i&&this.length&&(m=f.data(this[0],e),m=c(this[0],e,m)),m===i&&l[1]?this.data(l[0]):m):this.each(function(){var m=f(this),b=[l[0],a];
m.triggerHandler("setData"+l[1]+"!",b);f.data(this,e,a);m.triggerHandler("changeData"+l[1]+"!",b)})},removeData:function(e){return this.each(function(){f.removeData(this,e)})}});f.extend({_mark:function(e,a){e&&(a=(a||"fx")+"mark",f.data(e,a,(f.data(e,a,i,!0)||0)+1,!0))},_unmark:function(e,a,m){e!==!0&&(m=a,a=e,e=!1);if(a){var m=m||"fx",b=m+"mark";(e=e?0:(f.data(a,b,i,!0)||1)-1)?f.data(a,b,e,!0):(f.removeData(a,b,!0),j(a,m,"mark"))}},queue:function(e,a,m){if(e){var a=(a||"fx")+"queue",b=f.data(e,
a,i,!0);m&&(!b||f.isArray(m)?b=f.data(e,a,f.makeArray(m),!0):b.push(m));return b||[]}},dequeue:function(e,a){var a=a||"fx",b=f.queue(e,a),c=b.shift();c==="inprogress"&&(c=b.shift());c&&(a==="fx"&&b.unshift("inprogress"),c.call(e,function(){f.dequeue(e,a)}));b.length||(f.removeData(e,a+"queue",!0),j(e,a,"queue"))}});f.fn.extend({queue:function(e,a){typeof e!=="string"&&(a=e,e="fx");if(a===i)return f.queue(this[0],e);return this.each(function(){var b=f.queue(this,e,a);e==="fx"&&b[0]!=="inprogress"&&
f.dequeue(this,e)})},dequeue:function(e){return this.each(function(){f.dequeue(this,e)})},delay:function(e,a){e=f.fx?f.fx.speeds[e]||e:e;a=a||"fx";return this.queue(a,function(){var b=this;setTimeout(function(){f.dequeue(b,a)},e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e){function a(){--h||b.resolveWith(c,[c])}typeof e!=="string"&&(e=i);var e=e||"fx",b=f.Deferred(),c=this,d=c.length,h=1,g=e+"defer",l=e+"queue";e+="mark";for(var j;d--;)if(j=f.data(c[d],g,i,!0)||(f.data(c[d],
l,i,!0)||f.data(c[d],e,i,!0))&&f.data(c[d],g,f._Deferred(),!0))h++,j.done(a);a();return b.promise()}});var va=/[\n\t\r]/g,ma=/\s+/,Za=/\r/g,$a=/^(?:button|input)$/i,ab=/^(?:button|input|object|select|textarea)$/i,bb=/^a(?:rea)?$/i,wa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,cb=/\:/,M,xa;f.fn.extend({attr:function(e,a){return f.access(this,e,a,!0,f.attr)},removeAttr:function(e){return this.each(function(){f.removeAttr(this,
e)})},prop:function(e,a){return f.access(this,e,a,!0,f.prop)},removeProp:function(e){e=f.propFix[e]||e;return this.each(function(){try{this[e]=i,delete this[e]}catch(a){}})},addClass:function(e){if(f.isFunction(e))return this.each(function(a){var b=f(this);b.addClass(e.call(this,a,b.attr("class")||""))});if(e&&typeof e==="string")for(var a=(e||"").split(ma),b=0,c=this.length;b<c;b++){var d=this[b];if(d.nodeType===1)if(d.className){for(var h=" "+d.className+" ",g=d.className,l=0,i=a.length;l<i;l++)h.indexOf(" "+
a[l]+" ")<0&&(g+=" "+a[l]);d.className=f.trim(g)}else d.className=e}return this},removeClass:function(e){if(f.isFunction(e))return this.each(function(a){var b=f(this);b.removeClass(e.call(this,a,b.attr("class")))});if(e&&typeof e==="string"||e===i)for(var a=(e||"").split(ma),b=0,c=this.length;b<c;b++){var d=this[b];if(d.nodeType===1&&d.className)if(e){for(var h=(" "+d.className+" ").replace(va," "),g=0,l=a.length;g<l;g++)h=h.replace(" "+a[g]+" "," ");d.className=f.trim(h)}else d.className=""}return this},
toggleClass:function(e,a){var b=typeof e,c=typeof a==="boolean";if(f.isFunction(e))return this.each(function(b){var m=f(this);m.toggleClass(e.call(this,b,m.attr("class"),a),a)});return this.each(function(){if(b==="string")for(var d,h=0,g=f(this),l=a,i=e.split(ma);d=i[h++];)l=c?l:!g.hasClass(d),g[l?"addClass":"removeClass"](d);else if(b==="undefined"||b==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||e===!1?"":f._data(this,"__className__")||""})},
hasClass:function(e){for(var e=" "+e+" ",a=0,f=this.length;a<f;a++)if((" "+this[a].className+" ").replace(va," ").indexOf(e)>-1)return!0;return!1},val:function(e){var a,b,c=this[0];if(!arguments.length){if(c){if((a=f.valHooks[c.nodeName.toLowerCase()]||f.valHooks[c.type])&&"get"in a&&(b=a.get(c,"value"))!==i)return b;return(c.value||"").replace(Za,"")}return i}var d=f.isFunction(e);return this.each(function(b){var m=f(this);if(this.nodeType===1&&(b=d?e.call(this,b,m.val()):e,b==null?b="":typeof b===
"number"?b+="":f.isArray(b)&&(b=f.map(b,function(e){return e==null?"":e+""})),a=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type],!a||!("set"in a)||a.set(this,b,"value")===i))this.value=b})}});f.extend({valHooks:{option:{get:function(e){var a=e.attributes.value;return!a||a.specified?e.value:e.text}},select:{get:function(e){var a,b=e.selectedIndex,c=[],d=e.options,e=e.type==="select-one";if(b<0)return null;for(var h=e?b:0,g=e?b+1:d.length;h<g;h++)if(a=d[h],a.selected&&(f.support.optDisabled?
!a.disabled:a.getAttribute("disabled")===null)&&(!a.parentNode.disabled||!f.nodeName(a.parentNode,"optgroup"))){a=f(a).val();if(e)return a;c.push(a)}if(e&&!c.length&&d.length)return f(d[b]).val();return c},set:function(e,a){var b=f.makeArray(a);f(e).find("option").each(function(){this.selected=f.inArray(f(this).val(),b)>=0});if(!b.length)e.selectedIndex=-1;return b}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attrFix:{tabindex:"tabIndex"},attr:function(e,a,b,c){var d=
e.nodeType;if(!e||d===3||d===8||d===2)return i;if(c&&a in f.attrFn)return f(e)[a](b);if(!("getAttribute"in e))return f.prop(e,a,b);var h,a=(d=d!==1||!f.isXMLDoc(e))&&f.attrFix[a]||a,c=f.attrHooks[a];if(!c)if(wa.test(a)&&(typeof b==="boolean"||b===i||b.toLowerCase()===a.toLowerCase()))c=xa;else if(M&&(f.nodeName(e,"form")||cb.test(a)))c=M;return b!==i?b===null?(f.removeAttr(e,a),i):c&&"set"in c&&d&&(h=c.set(e,b,a))!==i?h:(e.setAttribute(a,""+b),b):c&&"get"in c&&d?c.get(e,a):(h=e.getAttribute(a),h===
null?i:h)},removeAttr:function(e,a){var b;if(e.nodeType===1&&(a=f.attrFix[a]||a,f.support.getSetAttribute?e.removeAttribute(a):(f.attr(e,a,""),e.removeAttributeNode(e.getAttributeNode(a))),wa.test(a)&&(b=f.propFix[a]||a)in e))e[b]=!1},attrHooks:{type:{set:function(e,a){if($a.test(e.nodeName)&&e.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&a==="radio"&&f.nodeName(e,"input")){var b=e.value;e.setAttribute("type",a);if(b)e.value=b;return a}}},tabIndex:{get:function(e){var a=
e.getAttributeNode("tabIndex");return a&&a.specified?parseInt(a.value,10):ab.test(e.nodeName)||bb.test(e.nodeName)&&e.href?0:i}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,a,b){var c=e.nodeType;if(!e||c===3||c===8||c===2)return i;var d,a=(c!==1||!f.isXMLDoc(e))&&
f.propFix[a]||a,c=f.propHooks[a];return b!==i?c&&"set"in c&&(d=c.set(e,b,a))!==i?d:e[a]=b:c&&"get"in c&&(d=c.get(e,a))!==i?d:e[a]},propHooks:{}});xa={get:function(e,a){return e[f.propFix[a]||a]?a.toLowerCase():i},set:function(e,a,b){var c;a===!1?f.removeAttr(e,b):(c=f.propFix[b]||b,c in e&&(e[c]=a),e.setAttribute(b,b.toLowerCase()));return b}};f.attrHooks.value={get:function(e,a){if(M&&f.nodeName(e,"button"))return M.get(e,a);return e.value},set:function(e,a,b){if(M&&f.nodeName(e,"button"))return M.set(e,
a,b);e.value=a}};if(!f.support.getSetAttribute)f.attrFix=f.propFix,M=f.attrHooks.name=f.valHooks.button={get:function(e,a){var f;return(f=e.getAttributeNode(a))&&f.nodeValue!==""?f.nodeValue:i},set:function(e,a,f){if(e=e.getAttributeNode(f))return e.nodeValue=a}},f.each(["width","height"],function(e,a){f.attrHooks[a]=f.extend(f.attrHooks[a],{set:function(e,f){if(f==="")return e.setAttribute(a,"auto"),f}})});f.support.hrefNormalized||f.each(["href","src","width","height"],function(e,a){f.attrHooks[a]=
f.extend(f.attrHooks[a],{get:function(e){e=e.getAttribute(a,2);return e===null?i:e}})});if(!f.support.style)f.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||i},set:function(e,a){return e.style.cssText=""+a}};if(!f.support.optSelected)f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(){}});f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}});f.each(["radio","checkbox"],
function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(e,a){if(f.isArray(a))return e.checked=f.inArray(f(e).val(),a)>=0}})});var ha=/\.(.*)$/,na=/^(?:textarea|input|select)$/i,Ra=/\./g,Sa=/ /g,db=/[^\w\s.|`]/g,eb=function(e){return e.replace(db,"\\$&")};f.event={add:function(e,a,b,c){if(!(e.nodeType===3||e.nodeType===8)){if(b===!1)b=g;else if(!b)return;var d,h;if(b.handler)d=b,b=d.handler;if(!b.guid)b.guid=f.guid++;if(h=f._data(e)){var l=h.events,j=h.handle;if(!l)h.events=l={};if(!j)h.handle=
j=function(e){return typeof f!=="undefined"&&(!e||f.event.triggered!==e.type)?f.event.handle.apply(j.elem,arguments):i};j.elem=e;for(var a=a.split(" "),k,o=0,n;k=a[o++];){h=d?f.extend({},d):{handler:b,data:c};k.indexOf(".")>-1?(n=k.split("."),k=n.shift(),h.namespace=n.slice(0).sort().join(".")):(n=[],h.namespace="");h.type=k;if(!h.guid)h.guid=b.guid;var q=l[k],z=f.event.special[k]||{};if(!q&&(q=l[k]=[],!z.setup||z.setup.call(e,c,n,j)===!1))e.addEventListener?e.addEventListener(k,j,!1):e.attachEvent&&
e.attachEvent("on"+k,j);if(z.add&&(z.add.call(e,h),!h.handler.guid))h.handler.guid=b.guid;q.push(h);f.event.global[k]=!0}e=null}}},global:{},remove:function(e,a,b,c){if(!(e.nodeType===3||e.nodeType===8)){b===!1&&(b=g);var d,h,l=0,j,k,o,n,q,z,r=f.hasData(e)&&f._data(e),p=r&&r.events;if(r&&p){if(a&&a.type)b=a.handler,a=a.type;if(!a||typeof a==="string"&&a.charAt(0)===".")for(d in a=a||"",p)f.event.remove(e,d+a);else{for(a=a.split(" ");d=a[l++];)if(n=d,j=d.indexOf(".")<0,k=[],j||(k=d.split("."),d=k.shift(),
o=RegExp("(^|\\.)"+f.map(k.slice(0).sort(),eb).join("\\.(?:.*\\.)?")+"(\\.|$)")),q=p[d])if(b){n=f.event.special[d]||{};for(h=c||0;h<q.length;h++)if(z=q[h],b.guid===z.guid){if(j||o.test(z.namespace))c==null&&q.splice(h--,1),n.remove&&n.remove.call(e,z);if(c!=null)break}if(q.length===0||c!=null&&q.length===1)(!n.teardown||n.teardown.call(e,k)===!1)&&f.removeEvent(e,d,r.handle),delete p[d]}else for(h=0;h<q.length;h++)if(z=q[h],j||o.test(z.namespace))f.event.remove(e,n,z.handler,h),q.splice(h--,1);if(f.isEmptyObject(p)){if(a=
r.handle)a.elem=null;delete r.events;delete r.handle;f.isEmptyObject(r)&&f.removeData(e,i,!0)}}}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(e,a,b,c){var h=e.type||e,g=[],l;h.indexOf("!")>=0&&(h=h.slice(0,-1),l=!0);h.indexOf(".")>=0&&(g=h.split("."),h=g.shift(),g.sort());if(b&&!f.event.customEvent[h]||f.event.global[h]){e=typeof e==="object"?e[f.expando]?e:new f.Event(h,e):new f.Event(h);e.type=h;e.exclusive=l;e.namespace=g.join(".");e.namespace_re=RegExp("(^|\\.)"+g.join("\\.(?:.*\\.)?")+
"(\\.|$)");if(c||!b)e.preventDefault(),e.stopPropagation();if(b){if(!(b.nodeType===3||b.nodeType===8)){e.result=i;e.target=b;a=a?f.makeArray(a):[];a.unshift(e);g=b;c=h.indexOf(":")<0?"on"+h:"";do{l=f._data(g,"handle");e.currentTarget=g;l&&l.apply(g,a);if(c&&f.acceptData(g)&&g[c]&&g[c].apply(g,a)===!1)e.result=!1,e.preventDefault();g=g.parentNode||g.ownerDocument||g===e.target.ownerDocument&&d}while(g&&!e.isPropagationStopped());if(!e.isDefaultPrevented()){var j,g=f.event.special[h]||{};if((!g._default||
g._default.call(b.ownerDocument,e)===!1)&&!(h==="click"&&f.nodeName(b,"a"))&&f.acceptData(b)){try{if(c&&b[h])(j=b[c])&&(b[c]=null),f.event.triggered=h,b[h]()}catch(k){}j&&(b[c]=j);f.event.triggered=i}}return e.result}}else f.each(f.cache,function(){var b=this[f.expando];b&&b.events&&b.events[h]&&f.event.trigger(e,a,b.handle.elem)})}},handle:function(e){var e=f.event.fix(e||d.event),a=((f._data(this,"events")||{})[e.type]||[]).slice(0),b=!e.exclusive&&!e.namespace,c=Array.prototype.slice.call(arguments,
0);c[0]=e;e.currentTarget=this;for(var h=0,g=a.length;h<g;h++){var l=a[h];if(b||e.namespace_re.test(l.namespace)){e.handler=l.handler;e.data=l.data;e.handleObj=l;l=l.handler.apply(this,c);if(l!==i)e.result=l,l===!1&&(e.preventDefault(),e.stopPropagation());if(e.isImmediatePropagationStopped())break}}return e.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(e){if(e[f.expando])return e;for(var a=e,e=f.Event(a),b=this.props.length,c;b;)c=this.props[--b],e[c]=a[c];if(!e.target)e.target=e.srcElement||p;if(e.target.nodeType===3)e.target=e.target.parentNode;if(!e.relatedTarget&&e.fromElement)e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement;if(e.pageX==null&&e.clientX!=null)b=e.target.ownerDocument||p,a=b.documentElement,b=b.body,e.pageX=e.clientX+(a&&a.scrollLeft||b&&b.scrollLeft||0)-(a&&a.clientLeft||b&&b.clientLeft||0),e.pageY=
e.clientY+(a&&a.scrollTop||b&&b.scrollTop||0)-(a&&a.clientTop||b&&b.clientTop||0);if(e.which==null&&(e.charCode!=null||e.keyCode!=null))e.which=e.charCode!=null?e.charCode:e.keyCode;if(!e.metaKey&&e.ctrlKey)e.metaKey=e.ctrlKey;if(!e.which&&e.button!==i)e.which=e.button&1?1:e.button&2?3:e.button&4?2:0;return e},guid:1E8,proxy:f.proxy,special:{ready:{setup:f.bindReady,teardown:f.noop},live:{add:function(e){f.event.add(this,l(e.origType,e.selector),f.extend({},e,{handler:h,guid:e.handler.guid}))},remove:function(e){f.event.remove(this,
l(e.origType,e.selector),e)}},beforeunload:{setup:function(e,a,b){if(f.isWindow(this))this.onbeforeunload=b},teardown:function(e,a){if(this.onbeforeunload===a)this.onbeforeunload=null}}}};f.removeEvent=p.removeEventListener?function(e,a,f){e.removeEventListener&&e.removeEventListener(a,f,!1)}:function(e,a,f){e.detachEvent&&e.detachEvent("on"+a,f)};f.Event=function(e,b){if(!this.preventDefault)return new f.Event(e,b);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||
e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?a:g):this.type=e;b&&f.extend(this,b);this.timeStamp=f.now();this[f.expando]=!0};f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var e=this.originalEvent;if(e)e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=a;var e=this.originalEvent;if(e)e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
a;this.stopPropagation()},isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g};var ya=function(e){var a=e.relatedTarget;e.type=e.data;try{if(!a||a===p||a.parentNode){for(;a&&a!==this;)a=a.parentNode;a!==this&&f.event.handle.apply(this,arguments)}}catch(b){}},za=function(e){e.type=e.data;f.event.handle.apply(this,arguments)};f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,a){f.event.special[e]={setup:function(b){f.event.add(this,a,b&&b.selector?za:ya,e)},teardown:function(e){f.event.remove(this,
a,e&&e.selector?za:ya)}}});if(!f.support.submitBubbles)f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;else f.event.add(this,"click.specialSubmit",function(e){var a=e.target,c=a.type;(c==="submit"||c==="image")&&f(a).closest("form").length&&b("submit",this,arguments)}),f.event.add(this,"keypress.specialSubmit",function(e){var a=e.target,c=a.type;(c==="text"||c==="password")&&f(a).closest("form").length&&e.keyCode===13&&b("submit",this,arguments)})},teardown:function(){f.event.remove(this,
".specialSubmit")}};if(!f.support.changeBubbles){var aa,Aa=function(e){var a=e.type,b=e.value;if(a==="radio"||a==="checkbox")b=e.checked;else if(a==="select-multiple")b=e.selectedIndex>-1?f.map(e.options,function(e){return e.selected}).join("-"):"";else if(f.nodeName(e,"select"))b=e.selectedIndex;return b},da=function(e,a){var b=e.target,c,d;if(na.test(b.nodeName)&&!b.readOnly&&(c=f._data(b,"_change_data"),d=Aa(b),(e.type!=="focusout"||b.type!=="radio")&&f._data(b,"_change_data",d),!(c===i||d===c)))if(c!=
null||d)e.type="change",e.liveFired=i,f.event.trigger(e,a,b)};f.event.special.change={filters:{focusout:da,beforedeactivate:da,click:function(e){var a=e.target,b=f.nodeName(a,"input")?a.type:"";(b==="radio"||b==="checkbox"||f.nodeName(a,"select"))&&da.call(this,e)},keydown:function(e){var a=e.target,b=f.nodeName(a,"input")?a.type:"";(e.keyCode===13&&!f.nodeName(a,"textarea")||e.keyCode===32&&(b==="checkbox"||b==="radio")||b==="select-multiple")&&da.call(this,e)},beforeactivate:function(e){e=e.target;
f._data(e,"_change_data",Aa(e))}},setup:function(){if(this.type==="file")return!1;for(var e in aa)f.event.add(this,e+".specialChange",aa[e]);return na.test(this.nodeName)},teardown:function(){f.event.remove(this,".specialChange");return na.test(this.nodeName)}};aa=f.event.special.change.filters;aa.focus=aa.beforeactivate}f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(e,a){function b(e){var c=f.event.fix(e);c.type=a;c.originalEvent={};f.event.trigger(c,null,c.target);c.isDefaultPrevented()&&
e.preventDefault()}var c=0;f.event.special[a]={setup:function(){c++===0&&p.addEventListener(e,b,!0)},teardown:function(){--c===0&&p.removeEventListener(e,b,!0)}}});f.each(["bind","one"],function(e,a){f.fn[a]=function(e,b,c){var d;if(typeof e==="object"){for(var h in e)this[a](h,b,e[h],c);return this}if(arguments.length===2||b===!1)c=b,b=i;a==="one"?(d=function(e){f(this).unbind(e,d);return c.apply(this,arguments)},d.guid=c.guid||f.guid++):d=c;if(e==="unload"&&a!=="one")this.one(e,b,c);else{h=0;for(var g=
this.length;h<g;h++)f.event.add(this[h],e,d,b)}return this}});f.fn.extend({unbind:function(e,a){if(typeof e==="object"&&!e.preventDefault)for(var b in e)this.unbind(b,e[b]);else{b=0;for(var c=this.length;b<c;b++)f.event.remove(this[b],e,a)}return this},delegate:function(e,a,b,f){return this.live(a,b,f,e)},undelegate:function(e,a,b){return arguments.length===0?this.unbind("live"):this.die(a,null,b,e)},trigger:function(e,a){return this.each(function(){f.event.trigger(e,a,this)})},triggerHandler:function(e,
a){if(this[0])return f.event.trigger(e,a,this[0],!0)},toggle:function(e){var a=arguments,b=e.guid||f.guid++,c=0,d=function(b){var d=(f.data(this,"lastToggle"+e.guid)||0)%c;f.data(this,"lastToggle"+e.guid,d+1);b.preventDefault();return a[d].apply(this,arguments)||!1};for(d.guid=b;c<a.length;)a[c++].guid=b;return this.click(d)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var oa={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};f.each(["live","die"],
function(a,b){f.fn[b]=function(a,e,c,d){var h=0,j,k,o=d||this.selector,n=d?this:f(this.context);if(typeof a==="object"&&!a.preventDefault){for(j in a)n[b](j,e,a[j],o);return this}if(b==="die"&&!a&&d&&d.charAt(0)===".")return n.unbind(d),this;if(e===!1||f.isFunction(e))c=e||g,e=i;for(a=(a||"").split(" ");(d=a[h++])!=null;)if(j=ha.exec(d),k="",j&&(k=j[0],d=d.replace(ha,"")),d==="hover")a.push("mouseenter"+k,"mouseleave"+k);else if(j=d,oa[d]?(a.push(oa[d]+k),d+=k):d=(oa[d]||d)+k,b==="live"){k=0;for(var q=
n.length;k<q;k++)f.event.add(n[k],"live."+l(d,o),{data:e,selector:o,handler:c,origType:d,origHandler:c,preType:j})}else n.unbind("live."+l(d,o),c);return this}});f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){f.fn[b]=function(a,e){e==null&&(e=a,a=null);return arguments.length>0?this.bind(b,a,e):this.trigger(b)};f.attrFn&&(f.attrFn[b]=
!0)});(function(){function a(e,b,f,c,d,h){for(var d=0,m=c.length;d<m;d++){var g=c[d];if(g){for(var l=!1,g=g[e];g;){if(g.sizcache===f){l=c[g.sizset];break}if(g.nodeType===1&&!h)g.sizcache=f,g.sizset=d;if(g.nodeName.toLowerCase()===b){l=g;break}g=g[e]}c[d]=l}}}function b(a,e,f,c,d,h){for(var d=0,m=c.length;d<m;d++){var g=c[d];if(g){for(var l=!1,g=g[a];g;){if(g.sizcache===f){l=c[g.sizset];break}if(g.nodeType===1){if(!h)g.sizcache=f,g.sizset=d;if(typeof e!=="string"){if(g===e){l=!0;break}}else if(o.filter(e,
[g]).length>0){l=g;break}}g=g[a]}c[d]=l}}}var c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d=0,h=Object.prototype.toString,g=!1,l=!0,j=/\\/g,k=/\W/;[0,0].sort(function(){l=!1;return 0});var o=function(a,e,b,f){var b=b||[],d=e=e||p;if(e.nodeType!==1&&e.nodeType!==9)return[];if(!a||typeof a!=="string")return b;var g,l,v,j,i,k=!0,s=o.isXML(e),A=[],z=a;do if(c.exec(""),g=c.exec(z))if(z=g[3],A.push(g[1]),g[2]){j=
g[3];break}while(g);if(A.length>1&&q.exec(a))if(A.length===2&&n.relative[A[0]])l=t(A[0]+A[1],e);else for(l=n.relative[A[0]]?[e]:o(A.shift(),e);A.length;)a=A.shift(),n.relative[a]&&(a+=A.shift()),l=t(a,l);else if(!f&&A.length>1&&e.nodeType===9&&!s&&n.match.ID.test(A[0])&&!n.match.ID.test(A[A.length-1])&&(g=o.find(A.shift(),e,s),e=g.expr?o.filter(g.expr,g.set)[0]:g.set[0]),e){g=f?{expr:A.pop(),set:F(f)}:o.find(A.pop(),A.length===1&&(A[0]==="~"||A[0]==="+")&&e.parentNode?e.parentNode:e,s);l=g.expr?o.filter(g.expr,
g.set):g.set;for(A.length>0?v=F(l):k=!1;A.length;)g=i=A.pop(),n.relative[i]?g=A.pop():i="",g==null&&(g=e),n.relative[i](v,g,s)}else v=[];v||(v=l);v||o.error(i||a);if(h.call(v)==="[object Array]")if(k)if(e&&e.nodeType===1)for(a=0;v[a]!=null;a++)v[a]&&(v[a]===!0||v[a].nodeType===1&&o.contains(e,v[a]))&&b.push(l[a]);else for(a=0;v[a]!=null;a++)v[a]&&v[a].nodeType===1&&b.push(l[a]);else b.push.apply(b,v);else F(v,b);j&&(o(j,d,b,f),o.uniqueSort(b));return b};o.uniqueSort=function(a){if(y&&(g=l,a.sort(y),
g))for(var e=1;e<a.length;e++)a[e]===a[e-1]&&a.splice(e--,1);return a};o.matches=function(a,e){return o(a,null,null,e)};o.matchesSelector=function(a,e){return o(e,null,null,[a]).length>0};o.find=function(a,e,b){var f;if(!a)return[];for(var c=0,d=n.order.length;c<d;c++){var h,g=n.order[c];if(h=n.leftMatch[g].exec(a)){var m=h[1];h.splice(1,1);if(m.substr(m.length-1)!=="\\"&&(h[1]=(h[1]||"").replace(j,""),f=n.find[g](h,e,b),f!=null)){a=a.replace(n.match[g],"");break}}}f||(f=typeof e.getElementsByTagName!==
"undefined"?e.getElementsByTagName("*"):[]);return{set:f,expr:a}};o.filter=function(a,e,b,f){for(var c,d,h=a,g=[],m=e,l=e&&e[0]&&o.isXML(e[0]);a&&e.length;){for(var v in n.filter)if((c=n.leftMatch[v].exec(a))!=null&&c[2]){var j,k,s=n.filter[v];k=c[1];d=!1;c.splice(1,1);if(k.substr(k.length-1)!=="\\"){m===g&&(g=[]);if(n.preFilter[v])if(c=n.preFilter[v](c,m,b,g,f,l)){if(c===!0)continue}else d=j=!0;if(c)for(var P=0;(k=m[P])!=null;P++)if(k){j=s(k,c,P,m);var A=f^!!j;b&&j!=null?A?d=!0:m[P]=!1:A&&(g.push(k),
d=!0)}if(j!==i){b||(m=g);a=a.replace(n.match[v],"");if(!d)return[];break}}}if(a===h)if(d==null)o.error(a);else break;h=a}return m};o.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var n=o.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,e){var b=
typeof e==="string",f=b&&!k.test(e),b=b&&!f;f&&(e=e.toLowerCase());for(var f=0,c=a.length,d;f<c;f++)if(d=a[f]){for(;(d=d.previousSibling)&&d.nodeType!==1;);a[f]=b||d&&d.nodeName.toLowerCase()===e?d||!1:d===e}b&&o.filter(e,a,!0)},">":function(a,e){var b,f=typeof e==="string",c=0,d=a.length;if(f&&!k.test(e))for(e=e.toLowerCase();c<d;c++){if(b=a[c])b=b.parentNode,a[c]=b.nodeName.toLowerCase()===e?b:!1}else{for(;c<d;c++)(b=a[c])&&(a[c]=f?b.parentNode:b.parentNode===e);f&&o.filter(e,a,!0)}},"":function(f,
c,h){var g,m=d++,l=b;typeof c==="string"&&!k.test(c)&&(g=c=c.toLowerCase(),l=a);l("parentNode",c,m,f,g,h)},"~":function(f,c,h){var g,m=d++,l=b;typeof c==="string"&&!k.test(c)&&(g=c=c.toLowerCase(),l=a);l("previousSibling",c,m,f,g,h)}},find:{ID:function(a,e,b){if(typeof e.getElementById!=="undefined"&&!b)return(a=e.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,e){if(typeof e.getElementsByName!=="undefined"){for(var b=[],f=e.getElementsByName(a[1]),c=0,d=f.length;c<d;c++)f[c].getAttribute("name")===
a[1]&&b.push(f[c]);return b.length===0?null:b}},TAG:function(a,e){if(typeof e.getElementsByTagName!=="undefined")return e.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,e,b,f,c,d){a=" "+a[1].replace(j,"")+" ";if(d)return a;for(var d=0,h;(h=e[d])!=null;d++)h&&(c^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?b||f.push(h):b&&(e[d]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]===
"nth"){a[2]||o.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var e=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=e[1]+(e[2]||1)-0;a[3]=e[3]-0}else a[2]&&o.error(a[0]);a[0]=d++;return a},ATTR:function(a,e,b,f,c,d){e=a[1]=a[1].replace(j,"");!d&&n.attrMap[e]&&(a[1]=n.attrMap[e]);a[4]=(a[4]||a[5]||"").replace(j,"");a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,e,b,f,d){if(a[1]==="not")if((c.exec(a[3])||"").length>1||
/^\w/.test(a[3]))a[3]=o(a[3],null,null,e);else return a=o.filter(a[3],e,b,1^d),b||f.push.apply(f,a),!1;else if(n.match.POS.test(a[0])||n.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},
has:function(a,e,b){return!!o(b[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var e=a.getAttribute("type"),b=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===b&&(e===b||e===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()===
"input"&&"password"===a.type},submit:function(a){var e=a.nodeName.toLowerCase();return(e==="input"||e==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var e=a.nodeName.toLowerCase();return(e==="input"||e==="button")&&"reset"===a.type},button:function(a){var e=a.nodeName.toLowerCase();return e==="input"&&"button"===a.type||e==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===
a.ownerDocument.activeElement}},setFilters:{first:function(a,e){return e===0},last:function(a,e,b,f){return e===f.length-1},even:function(a,e){return e%2===0},odd:function(a,e){return e%2===1},lt:function(a,e,b){return e<b[3]-0},gt:function(a,e,b){return e>b[3]-0},nth:function(a,e,b){return b[3]-0===e},eq:function(a,e,b){return b[3]-0===e}},filter:{PSEUDO:function(a,e,b,f){var c=e[1],d=n.filters[c];if(d)return d(a,b,e,f);else if(c==="contains")return(a.textContent||a.innerText||o.getText([a])||"").indexOf(e[3])>=
0;else if(c==="not"){e=e[3];b=0;for(f=e.length;b<f;b++)if(e[b]===a)return!1;return!0}else o.error(c)},CHILD:function(a,e){var b=e[1],f=a;switch(b){case "only":case "first":for(;f=f.previousSibling;)if(f.nodeType===1)return!1;if(b==="first")return!0;f=a;case "last":for(;f=f.nextSibling;)if(f.nodeType===1)return!1;return!0;case "nth":var b=e[2],c=e[3];if(b===1&&c===0)return!0;var d=e[0],h=a.parentNode;if(h&&(h.sizcache!==d||!a.nodeIndex)){for(var g=0,f=h.firstChild;f;f=f.nextSibling)if(f.nodeType===
1)f.nodeIndex=++g;h.sizcache=d}f=a.nodeIndex-c;return b===0?f===0:f%b===0&&f/b>=0}},ID:function(a,e){return a.nodeType===1&&a.getAttribute("id")===e},TAG:function(a,e){return e==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===e},CLASS:function(a,e){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(a,e){var b=e[1],b=n.attrHandle[b]?n.attrHandle[b](a):a[b]!=null?a[b]:a.getAttribute(b),f=b+"",c=e[2],d=e[4];return b==null?c==="!=":c==="="?f===d:c==="*="?f.indexOf(d)>=
0:c==="~="?(" "+f+" ").indexOf(d)>=0:!d?f&&b!==!1:c==="!="?f!==d:c==="^="?f.indexOf(d)===0:c==="$="?f.substr(f.length-d.length)===d:c==="|="?f===d||f.substr(0,d.length+1)===d+"-":!1},POS:function(a,e,b,f){var c=n.setFilters[e[2]];if(c)return c(a,b,e,f)}}},q=n.match.POS,z=function(a,e){return"\\"+(e-0+1)},r;for(r in n.match)n.match[r]=RegExp(n.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),n.leftMatch[r]=RegExp(/(^(?:.|\r|\n)*?)/.source+n.match[r].source.replace(/\\(\d+)/g,z));var F=function(a,
e){a=Array.prototype.slice.call(a,0);if(e)return e.push.apply(e,a),e;return a};try{Array.prototype.slice.call(p.documentElement.childNodes,0)}catch(w){F=function(a,e){var b=0,f=e||[];if(h.call(a)==="[object Array]")Array.prototype.push.apply(f,a);else if(typeof a.length==="number")for(var c=a.length;b<c;b++)f.push(a[b]);else for(;a[b];b++)f.push(a[b]);return f}}var y,H;p.documentElement.compareDocumentPosition?y=function(a,e){if(a===e)return g=!0,0;if(!a.compareDocumentPosition||!e.compareDocumentPosition)return a.compareDocumentPosition?
-1:1;return a.compareDocumentPosition(e)&4?-1:1}:(y=function(a,e){if(a===e)return g=!0,0;else if(a.sourceIndex&&e.sourceIndex)return a.sourceIndex-e.sourceIndex;var b,f,c=[],d=[];b=a.parentNode;f=e.parentNode;var h=b;if(b===f)return H(a,e);else if(b){if(!f)return 1}else return-1;for(;h;)c.unshift(h),h=h.parentNode;for(h=f;h;)d.unshift(h),h=h.parentNode;b=c.length;f=d.length;for(h=0;h<b&&h<f;h++)if(c[h]!==d[h])return H(c[h],d[h]);return h===b?H(a,d[h],-1):H(c[h],e,1)},H=function(a,e,b){if(a===e)return b;
for(a=a.nextSibling;a;){if(a===e)return-1;a=a.nextSibling}return 1});o.getText=function(a){for(var e="",b,f=0;a[f];f++)b=a[f],b.nodeType===3||b.nodeType===4?e+=b.nodeValue:b.nodeType!==8&&(e+=o.getText(b.childNodes));return e};(function(){var a=p.createElement("div"),e="script"+(new Date).getTime(),b=p.documentElement;a.innerHTML="<a name='"+e+"'/>";b.insertBefore(a,b.firstChild);if(p.getElementById(e))n.find.ID=function(a,e,b){if(typeof e.getElementById!=="undefined"&&!b)return(e=e.getElementById(a[1]))?
e.id===a[1]||typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:i:[]},n.filter.ID=function(a,e){var b=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&b&&b.nodeValue===e};b.removeChild(a);b=a=null})();(function(){var a=p.createElement("div");a.appendChild(p.createComment(""));if(a.getElementsByTagName("*").length>0)n.find.TAG=function(a,e){var b=e.getElementsByTagName(a[1]);if(a[1]==="*"){for(var f=[],c=0;b[c];c++)b[c].nodeType===
1&&f.push(b[c]);b=f}return b};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#")n.attrHandle.href=function(a){return a.getAttribute("href",2)};a=null})();p.querySelectorAll&&function(){var a=o,e=p.createElement("div");e.innerHTML="<p class='TEST'></p>";if(!(e.querySelectorAll&&e.querySelectorAll(".TEST").length===0)){o=function(e,b,f,c){b=b||p;if(!c&&!o.isXML(b)){var d=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(e);
if(d&&(b.nodeType===1||b.nodeType===9))if(d[1])return F(b.getElementsByTagName(e),f);else if(d[2]&&n.find.CLASS&&b.getElementsByClassName)return F(b.getElementsByClassName(d[2]),f);if(b.nodeType===9){if(e==="body"&&b.body)return F([b.body],f);else if(d&&d[3]){var h=b.getElementById(d[3]);if(h&&h.parentNode){if(h.id===d[3])return F([h],f)}else return F([],f)}try{return F(b.querySelectorAll(e),f)}catch(g){}}else if(b.nodeType===1&&b.nodeName.toLowerCase()!=="object"){var d=b,m=(h=b.getAttribute("id"))||
"__sizzle__",l=b.parentNode,v=/^\s*[+~]/.test(e);h?m=m.replace(/'/g,"\\$&"):b.setAttribute("id",m);if(v&&l)b=b.parentNode;try{if(!v||l)return F(b.querySelectorAll("[id='"+m+"'] "+e),f)}catch(j){}finally{h||d.removeAttribute("id")}}}return a(e,b,f,c)};for(var b in a)o[b]=a[b];e=null}}();(function(){var a=p.documentElement,e=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(e){var b=!e.call(p.createElement("div"),"div"),f=!1;try{e.call(p.documentElement,"[test!='']:sizzle")}catch(c){f=
!0}o.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!o.isXML(a))try{if(f||!n.match.PSEUDO.test(c)&&!/!=/.test(c)){var d=e.call(a,c);if(d||!b||a.document&&a.document.nodeType!==11)return d}}catch(h){}return o(c,null,null,[a]).length>0}}})();(function(){var a=p.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&a.getElementsByClassName("e").length!==0&&(a.lastChild.className="e",a.getElementsByClassName("e").length!==
1))n.order.splice(1,0,"CLASS"),n.find.CLASS=function(a,e,b){if(typeof e.getElementsByClassName!=="undefined"&&!b)return e.getElementsByClassName(a[1])},a=null})();o.contains=p.documentElement.contains?function(a,e){return a!==e&&(a.contains?a.contains(e):!0)}:p.documentElement.compareDocumentPosition?function(a,e){return!!(a.compareDocumentPosition(e)&16)}:function(){return!1};o.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":!1};var t=function(a,e){for(var b,
f=[],c="",d=e.nodeType?[e]:e;b=n.match.PSEUDO.exec(a);)c+=b[0],a=a.replace(n.match.PSEUDO,"");a=n.relative[a]?a+"*":a;b=0;for(var h=d.length;b<h;b++)o(a,d[b],f);return o.filter(c,f)};f.find=o;f.expr=o.selectors;f.expr[":"]=f.expr.filters;f.unique=o.uniqueSort;f.text=o.getText;f.isXMLDoc=o.isXML;f.contains=o.contains})();var fb=/Until$/,gb=/^(?:parents|prevUntil|prevAll)/,hb=/,/,Ta=/^.[^:#\[\.,]*$/,ib=Array.prototype.slice,Ba=f.expr.match.POS,jb={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=
this,c,d;if(typeof a!=="string")return f(a).filter(function(){c=0;for(d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var h=this.pushStack("","find",a),g,l,j;c=0;for(d=this.length;c<d;c++)if(g=h.length,f.find(a,this[c],h),c>0)for(l=g;l<h.length;l++)for(j=0;j<g;j++)if(h[j]===h[l]){h.splice(l--,1);break}return h},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,e=b.length;a<e;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(o(this,a,!1),"not",
a)},filter:function(a){return this.pushStack(o(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a==="string"?f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,h,g=this[0];if(f.isArray(a)){var l,j={},k=1;if(g&&a.length){d=0;for(h=a.length;d<h;d++)l=a[d],j[l]||(j[l]=Ba.test(l)?f(l,b||this.context):l);for(;g&&g.ownerDocument&&g!==b;){for(l in j)d=j[l],(d.jquery?d.index(g)>-1:f(g).is(d))&&c.push({selector:l,elem:g,level:k});g=g.parentNode;k++}}return c}l=Ba.test(a)||
typeof a!=="string"?f(a,b||this.context):0;d=0;for(h=this.length;d<h;d++)for(g=this[d];g;)if(l?l.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}else if(g=g.parentNode,!g||!g.ownerDocument||g===b||g.nodeType===11)break;c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a||typeof a==="string")return f.inArray(this[0],a?f(a):this.parent().children());return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a==="string"?f(a,b):f.makeArray(a&&
a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(!c[0]||!c[0].parentNode||c[0].parentNode.nodeType===11||!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}});f.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,
2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,
b){f.fn[a]=function(c,d){var h=f.map(this,b,c),g=ib.call(arguments);fb.test(a)||(d=c);d&&typeof d==="string"&&(h=f.filter(d,h));h=this.length>1&&!jb[a]?f.unique(h):h;if((this.length>1||hb.test(d))&&gb.test(a))h=h.reverse();return this.pushStack(h,a,g.join(","))}});f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,b,c){for(var d=[],a=a[b];a&&a.nodeType!==9&&(c===i||a.nodeType!==1||!f(a).is(c));)a.nodeType===
1&&d.push(a),a=a[b];return d},nth:function(a,b,f){for(var b=b||1,c=0;a;a=a[f])if(a.nodeType===1&&++c===b)break;return a},sibling:function(a,b){for(var f=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&f.push(a);return f}});var kb=/ jQuery\d+="(?:\d+|null)"/g,pa=/^\s+/,Ca=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Da=/<([\w:]+)/,lb=/<tbody/i,mb=/<|&#?\w+;/,Ea=/<(?:script|object|embed|option|style)/i,Fa=/checked\s*(?:[^=]|=\s*.checked.)/i,nb=/\/(java|ecma)script/i,Ua=/^\s*<!(?:\[CDATA\[|\-\-)/,
J={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};J.optgroup=J.option;J.tbody=J.tfoot=J.colgroup=J.caption=J.thead;J.th=J.td;if(!f.support.htmlSerialize)J._default=[1,"div<div>","</div>"];f.fn.extend({text:function(a){if(f.isFunction(a))return this.each(function(b){var c=
f(this);c.text(a.call(this,b,c.text()))});if(typeof a!=="object"&&a!==i)return this.empty().append((this[0]&&this[0].ownerDocument||p).createTextNode(a));return f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},
wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){f(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,
!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});else if(arguments.length){var a=f(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});else if(arguments.length){var a=
this.pushStack(this,"after",arguments);a.push.apply(a,f(arguments[0]).toArray());return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=
a==null?!1:a;b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===i)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(kb,""):null;else if(typeof a==="string"&&!Ea.test(a)&&(f.support.leadingWhitespace||!pa.test(a))&&!J[(Da.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ca,"<$1></$2>");try{for(var b=0,c=this.length;b<c;b++)if(this[b].nodeType===1)f.cleanData(this[b].getElementsByTagName("*")),this[b].innerHTML=a}catch(d){this.empty().append(a)}}else f.isFunction(a)?
this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!=="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove();b?f(b).before(a):f(c).append(a)})}else return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",
a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){var d,h,g,l=a[0],j=[];if(!f.support.checkClone&&arguments.length===3&&typeof l==="string"&&Fa.test(l))return this.each(function(){f(this).domManip(a,b,c,!0)});if(f.isFunction(l))return this.each(function(d){var h=f(this);a[0]=l.call(this,d,b?h.html():i);h.domManip(a,b,c)});if(this[0]){d=l&&l.parentNode;d=f.support.parentNode&&d&&d.nodeType===11&&d.childNodes.length===this.length?{fragment:d}:f.buildFragment(a,this,j);g=
d.fragment;if(h=g.childNodes.length===1?g=g.firstChild:g.firstChild){b=b&&f.nodeName(h,"tr");h=0;for(var k=this.length,o=k-1;h<k;h++)c.call(b?f.nodeName(this[h],"table")?this[h].getElementsByTagName("tbody")[0]||this[h].appendChild(this[h].ownerDocument.createElement("tbody")):this[h]:this[h],d.cacheable||k>1&&h<o?f.clone(g,!0,!0):g)}j.length&&f.each(j,w)}return this}});f.buildFragment=function(a,b,c){var d,h,g,b=b&&b[0]?b[0].ownerDocument||b[0]:p;if(a.length===1&&typeof a[0]==="string"&&a[0].length<
512&&b===p&&a[0].charAt(0)==="<"&&!Ea.test(a[0])&&(f.support.checkClone||!Fa.test(a[0])))h=!0,(g=f.fragments[a[0]])&&g!==1&&(d=g);d||(d=b.createDocumentFragment(),f.clean(a,b,d,c));h&&(f.fragments[a[0]]=g?d:1);return{fragment:d,cacheable:h}};f.fragments={};f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],c=f(c),h=this.length===1&&this[0].parentNode;if(h&&h.nodeType===11&&h.childNodes.length===
1&&c.length===1)return c[b](this[0]),this;else{for(var h=0,g=c.length;h<g;h++){var l=(h>0?this.clone(!0):this).get();f(c[h])[b](l);d=d.concat(l)}return this.pushStack(d,a,c.selector)}}});f.extend({clone:function(a,b,c){var d=a.cloneNode(!0),h,g,l;if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){r(a,d);h=n(a);g=n(d);for(l=0;h[l];++l)r(h[l],g[l])}if(b&&(q(a,d),c)){h=n(a);g=n(d);for(l=0;h[l];++l)q(h[l],g[l])}return d},clean:function(a,b,c,d){b=
b||p;typeof b.createElement==="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||p);for(var h=[],g,l=0,j;(j=a[l])!=null;l++)if(typeof j==="number"&&(j+=""),j){if(typeof j==="string")if(mb.test(j)){j=j.replace(Ca,"<$1></$2>");g=(Da.exec(j)||["",""])[1].toLowerCase();var k=J[g]||J._default,i=k[0],o=b.createElement("div");for(o.innerHTML=k[1]+j+k[2];i--;)o=o.lastChild;if(!f.support.tbody){i=lb.test(j);k=g==="table"&&!i?o.firstChild&&o.firstChild.childNodes:k[1]==="<table>"&&!i?o.childNodes:[];
for(g=k.length-1;g>=0;--g)f.nodeName(k[g],"tbody")&&!k[g].childNodes.length&&k[g].parentNode.removeChild(k[g])}!f.support.leadingWhitespace&&pa.test(j)&&o.insertBefore(b.createTextNode(pa.exec(j)[0]),o.firstChild);j=o.childNodes}else j=b.createTextNode(j);var n;if(!f.support.appendChecked)if(j[0]&&typeof(n=j.length)==="number")for(g=0;g<n;g++)D(j[g]);else D(j);j.nodeType?h.push(j):h=f.merge(h,j)}if(c){a=function(a){return!a.type||nb.test(a.type)};for(l=0;h[l];l++)d&&f.nodeName(h[l],"script")&&(!h[l].type||
h[l].type.toLowerCase()==="text/javascript")?d.push(h[l].parentNode?h[l].parentNode.removeChild(h[l]):h[l]):(h[l].nodeType===1&&(b=f.grep(h[l].getElementsByTagName("script"),a),h.splice.apply(h,[l+1,0].concat(b))),c.appendChild(h[l]))}return h},cleanData:function(a){for(var b,c,d=f.cache,h=f.expando,g=f.event.special,l=f.support.deleteExpando,j=0,k;(k=a[j])!=null;j++)if(!k.nodeName||!f.noData[k.nodeName.toLowerCase()])if(c=k[f.expando]){if((b=d[c]&&d[c][h])&&b.events){for(var i in b.events)g[i]?f.event.remove(k,
i):f.removeEvent(k,i,b.handle);if(b.handle)b.handle.elem=null}l?delete k[f.expando]:k.removeAttribute&&k.removeAttribute(f.expando);delete d[c]}}});var Ga=/alpha\([^)]*\)/i,ob=/opacity=([^)]*)/,pb=/-([a-z])/ig,qb=/([A-Z]|^ms)/g,Ha=/^-?\d+(?:px)?$/i,rb=/^-?\d/,sb=/^[+\-]=/,tb=/[^+\-\.\de]+/g,ub={position:"absolute",visibility:"hidden",display:"block"},Va=["Left","Right"],Wa=["Top","Bottom"],S,Ia,ea,vb=function(a,b){return b.toUpperCase()};f.fn.css=function(a,b){if(arguments.length===2&&b===i)return this;
return f.access(this,a,b,!0,function(a,e,b){return b!==i?f.style(a,e,b):f.css(a,e)})};f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var f=S(a,"opacity","opacity");return f===""?"1":f}else return a.style.opacity}}},cssNumber:{zIndex:!0,fontWeight:!0,opacity:!0,zoom:!0,lineHeight:!0,widows:!0,orphans:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&!(a.nodeType===3||a.nodeType===8||!a.style)){var h,g=f.camelCase(b),l=a.style,j=f.cssHooks[g],b=f.cssProps[g]||
g;if(c!==i){if(d=typeof c,!(d==="number"&&isNaN(c)||c==null))if(d==="string"&&sb.test(c)&&(c=+c.replace(tb,"")+parseFloat(f.css(a,b))),d==="number"&&!f.cssNumber[g]&&(c+="px"),!j||!("set"in j)||(c=j.set(a,c))!==i)try{l[b]=c}catch(k){}}else{if(j&&"get"in j&&(h=j.get(a,!1,d))!==i)return h;return l[b]}}},css:function(a,b,c){var d,h,b=f.camelCase(b);h=f.cssHooks[b];b=f.cssProps[b]||b;b==="cssFloat"&&(b="float");if(h&&"get"in h&&(d=h.get(a,!0,c))!==i)return d;else if(S)return S(a,b)},swap:function(a,b,
f){var c={},d;for(d in b)c[d]=a.style[d],a.style[d]=b[d];f.call(a);for(d in b)a.style[d]=c[d]},camelCase:function(a){return a.replace(pb,vb)}});f.curCSS=f.css;f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,e,c){var d;if(e){a.offsetWidth!==0?d=u(a,b,c):f.swap(a,ub,function(){d=u(a,b,c)});if(d<=0&&(d=S(a,b,b),d==="0px"&&ea&&(d=ea(a,b,b)),d!=null))return d===""||d==="auto"?"0px":d;if(d<0||d==null)return d=a.style[b],d===""||d==="auto"?"0px":d;return typeof d==="string"?d:d+"px"}},
set:function(a,e){if(Ha.test(e)){if(e=parseFloat(e),e>=0)return e+"px"}else return e}}});if(!f.support.opacity)f.cssHooks.opacity={get:function(a,b){return ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle;c.zoom=1;var h=f.isNaN(b)?"":"alpha(opacity="+b*100+")",d=d&&d.filter||c.filter||"";c.filter=Ga.test(d)?d.replace(Ga,h):d+" "+h}};f(function(){if(!f.support.reliableMarginRight)f.cssHooks.marginRight=
{get:function(a,b){var c;f.swap(a,{display:"inline-block"},function(){c=b?S(a,"margin-right","marginRight"):a.style.marginRight});return c}}});p.defaultView&&p.defaultView.getComputedStyle&&(Ia=function(a,b){var c,d,b=b.replace(qb,"-$1").toLowerCase();if(!(d=a.ownerDocument.defaultView))return i;if(d=d.getComputedStyle(a,null))c=d.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b));return c});p.documentElement.currentStyle&&(ea=function(a,b){var f,c=a.currentStyle&&
a.currentStyle[b],d=a.runtimeStyle&&a.runtimeStyle[b],h=a.style;if(!Ha.test(c)&&rb.test(c)){f=h.left;if(d)a.runtimeStyle.left=a.currentStyle.left;h.left=b==="fontSize"?"1em":c||0;c=h.pixelLeft+"px";h.left=f;if(d)a.runtimeStyle.left=d}return c===""?"auto":c});S=Ia||ea;if(f.expr&&f.expr.filters)f.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!f.support.reliableHiddenOffsets&&(a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)};
var wb=/%20/g,Xa=/\[\]$/,Ja=/\r?\n/g,xb=/#.*$/,yb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,zb=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ab=/^(?:GET|HEAD)$/,Bb=/^\/\//,Ka=/\?/,Cb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Db=/^(?:select|textarea)/i,sa=/\s+/,Eb=/([?&])_=[^&]*/,La=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Ma=f.fn.load,ia={},Na={},N,O;try{N=W.href}catch(Kb){N=p.createElement("a"),N.href="",N=N.href}O=La.exec(N.toLowerCase())||
[];f.fn.extend({load:function(a,b,c){if(typeof a!=="string"&&Ma)return Ma.apply(this,arguments);else if(!this.length)return this;var d=a.indexOf(" ");if(d>=0)var h=a.slice(d,a.length),a=a.slice(0,d);d="GET";b&&(f.isFunction(b)?(c=b,b=i):typeof b==="object"&&(b=f.param(b,f.ajaxSettings.traditional),d="POST"));var g=this;f.ajax({url:a,type:d,dataType:"html",data:b,complete:function(a,e,b){b=a.responseText;a.isResolved()&&(a.done(function(a){b=a}),g.html(h?f("<div>").append(b.replace(Cb,"")).find(h):
b));c&&g.each(c,[b,e,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Db.test(this.nodeName)||zb.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a){return{name:b.name,value:a.replace(Ja,"\r\n")}}):{name:b.name,value:c.replace(Ja,"\r\n")}}).get()}});
f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.bind(b,a)}});f.each(["get","post"],function(a,b){f[b]=function(a,e,c,d){f.isFunction(e)&&(d=d||c,c=e,e=i);return f.ajax({type:b,url:a,data:e,success:c,dataType:d})}});f.extend({getScript:function(a,b){return f.get(a,i,b,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?f.extend(!0,a,f.ajaxSettings,b):(b=a,a=f.extend(!0,f.ajaxSettings,
b));for(var c in{context:1,url:1})c in b?a[c]=b[c]:c in f.ajaxSettings&&(a[c]=f.ajaxSettings[c]);return a},ajaxSettings:{url:N,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(O[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",
text:"responseText"},converters:{"* text":d.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML}},ajaxPrefilter:y(ia),ajaxTransport:y(Na),ajax:function(a,b){function c(a,e,b,m){if(y!==2){y=2;p&&clearTimeout(p);F=i;z=m||"";x.readyState=a?4:0;var n,v,q;if(b){var m=d,r=x,w=m.contents,t=m.dataTypes,G=m.responseFields,u,B,C,W;for(B in G)B in b&&(r[G[B]]=b[B]);for(;t[0]==="*";)t.shift(),u===i&&(u=m.mimeType||r.getResponseHeader("content-type"));if(u)for(B in w)if(w[B]&&w[B].test(u)){t.unshift(B);
break}if(t[0]in b)C=t[0];else{for(B in b){if(!t[0]||m.converters[B+" "+t[0]]){C=B;break}W||(W=B)}C=C||W}C?(C!==t[0]&&t.unshift(C),b=b[C]):b=void 0}else b=i;if(a>=200&&a<300||a===304){if(d.ifModified){if(u=x.getResponseHeader("Last-Modified"))f.lastModified[o]=u;if(u=x.getResponseHeader("Etag"))f.etag[o]=u}if(a===304)e="notmodified",n=!0;else try{u=d;u.dataFilter&&(b=u.dataFilter(b,u.dataType));var D=u.dataTypes;B={};var K,Q,Z=D.length,J,E=D[0],L,ga,I,M,N;for(K=1;K<Z;K++){if(K===1)for(Q in u.converters)typeof Q===
"string"&&(B[Q.toLowerCase()]=u.converters[Q]);L=E;E=D[K];if(E==="*")E=L;else if(L!=="*"&&L!==E){ga=L+" "+E;I=B[ga]||B["* "+E];if(!I)for(M in N=i,B)if(J=M.split(" "),J[0]===L||J[0]==="*")if(N=B[J[1]+" "+E]){M=B[M];M===!0?I=N:N===!0&&(I=M);break}!I&&!N&&f.error("No conversion from "+ga.replace(" "," to "));I!==!0&&(b=I?I(b):N(M(b)))}}v=b;e="success";n=!0}catch(O){e="parsererror",q=O}}else if(q=e,!e||a)e="error",a<0&&(a=0);x.status=a;x.statusText=e;n?l.resolveWith(h,[v,e,x]):l.rejectWith(h,[x,e,q]);
x.statusCode(k);k=i;H&&g.trigger("ajax"+(n?"Success":"Error"),[x,d,n?v:q]);j.resolveWith(h,[x,e]);H&&(g.trigger("ajaxComplete",[x,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a==="object"&&(b=a,a=i);var b=b||{},d=f.ajaxSetup({},b),h=d.context||d,g=h!==d&&(h.nodeType||h instanceof f)?f(h):f.event,l=f.Deferred(),j=f._Deferred(),k=d.statusCode||{},o,n={},q={},z,r,F,p,w,y=0,H,t,x={readyState:0,setRequestHeader:function(a,e){if(!y){var b=a.toLowerCase(),a=q[b]=q[b]||a;n[a]=e}return this},getAllResponseHeaders:function(){return y===
2?z:null},getResponseHeader:function(a){var e;if(y===2){if(!r)for(r={};e=yb.exec(z);)r[e[1].toLowerCase()]=e[2];e=r[a.toLowerCase()]}return e===i?null:e},overrideMimeType:function(a){if(!y)d.mimeType=a;return this},abort:function(a){a=a||"abort";F&&F.abort(a);c(0,a);return this}};l.promise(x);x.success=x.done;x.error=x.fail;x.complete=j.done;x.statusCode=function(a){if(a){var e;if(y<2)for(e in a)k[e]=[k[e],a[e]];else e=a[x.status],x.then(e,e)}return this};d.url=((a||d.url)+"").replace(xb,"").replace(Bb,
O[1]+"//");d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(sa);if(d.crossDomain==null)w=La.exec(d.url.toLowerCase()),d.crossDomain=!(!w||!(w[1]!=O[1]||w[2]!=O[2]||(w[3]||(w[1]==="http:"?80:443))!=(O[3]||(O[1]==="http:"?80:443))));if(d.data&&d.processData&&typeof d.data!=="string")d.data=f.param(d.data,d.traditional);G(ia,d,b,x);if(y===2)return!1;H=d.global;d.type=d.type.toUpperCase();d.hasContent=!Ab.test(d.type);H&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent&&(d.data&&(d.url+=
(Ka.test(d.url)?"&":"?")+d.data),o=d.url,d.cache===!1)){w=f.now();var u=d.url.replace(Eb,"$1_="+w);d.url=u+(u===d.url?(Ka.test(d.url)?"&":"?")+"_="+w:"")}(d.data&&d.hasContent&&d.contentType!==!1||b.contentType)&&x.setRequestHeader("Content-Type",d.contentType);d.ifModified&&(o=o||d.url,f.lastModified[o]&&x.setRequestHeader("If-Modified-Since",f.lastModified[o]),f.etag[o]&&x.setRequestHeader("If-None-Match",f.etag[o]));x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+
(d.dataTypes[0]!=="*"?", */*; q=0.01":""):d.accepts["*"]);for(t in d.headers)x.setRequestHeader(t,d.headers[t]);if(d.beforeSend&&(d.beforeSend.call(h,x,d)===!1||y===2))return x.abort(),!1;for(t in{success:1,error:1,complete:1})x[t](d[t]);if(F=G(Na,d,b,x)){x.readyState=1;H&&g.trigger("ajaxSend",[x,d]);d.async&&d.timeout>0&&(p=setTimeout(function(){x.abort("timeout")},d.timeout));try{y=1,F.send(n,c)}catch(B){status<2?c(-1,B):f.error(B)}}else c(-1,"No Transport");return x},param:function(a,b){var c=
[],d=function(a,e){e=f.isFunction(e)?e():e;c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(e)};if(b===i)b=f.ajaxSettings.traditional;if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){d(this.name,this.value)});else for(var h in a)C(h,a[h],b,d);return c.join("&").replace(wb,"+")}});f.extend({active:0,lastModified:{},etag:{}});var Fb=f.now(),fa=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+Fb++}});f.ajaxPrefilter("json jsonp",
function(a,b,c){b=a.contentType==="application/x-www-form-urlencoded"&&typeof a.data==="string";if(a.dataTypes[0]==="jsonp"||a.jsonp!==!1&&(fa.test(a.url)||b&&fa.test(a.data))){var h,g=a.jsonpCallback=f.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,l=d[g],j=a.url,k=a.data,o="$1"+g+"$2";a.jsonp!==!1&&(j=j.replace(fa,o),a.url===j&&(b&&(k=k.replace(fa,o)),a.data===k&&(j+=(/\?/.test(j)?"&":"?")+a.jsonp+"="+g)));a.url=j;a.data=k;d[g]=function(a){h=[a]};c.always(function(){d[g]=l;if(h&&
f.isFunction(l))d[g](h[0])});a.converters["script json"]=function(){h||f.error(g+" was not called");return h[0]};a.dataTypes[0]="json";return"script"}});f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}});f.ajaxPrefilter("script",function(a){if(a.cache===i)a.cache=!1;if(a.crossDomain)a.type="GET",a.global=!1});f.ajaxTransport("script",
function(a){if(a.crossDomain){var b,f=p.head||p.getElementsByTagName("head")[0]||p.documentElement;return{send:function(c,d){b=p.createElement("script");b.async="async";if(a.scriptCharset)b.charset=a.scriptCharset;b.src=a.url;b.onload=b.onreadystatechange=function(a,e){if(e||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,f&&b.parentNode&&f.removeChild(b),b=i,e||d(200,"success")};f.insertBefore(b,f.firstChild)},abort:function(){if(b)b.onload(0,1)}}}});var qa=
d.ActiveXObject?function(){for(var a in T)T[a](0,1)}:!1,Gb=0,T;f.ajaxSettings.xhr=d.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&K()))a:{try{a=new d.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:K;(function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(f.ajaxSettings.xhr());f.support.ajax&&f.ajaxTransport(function(a){if(!a.crossDomain||f.support.cors){var b;return{send:function(c,h){var g=a.xhr(),l,j;a.username?g.open(a.type,a.url,a.async,a.username,
a.password):g.open(a.type,a.url,a.async);if(a.xhrFields)for(j in a.xhrFields)g[j]=a.xhrFields[j];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType);!a.crossDomain&&!c["X-Requested-With"]&&(c["X-Requested-With"]="XMLHttpRequest");try{for(j in c)g.setRequestHeader(j,c[j])}catch(k){}g.send(a.hasContent&&a.data||null);b=function(c,d){var j,k,o,m,n;try{if(b&&(d||g.readyState===4)){b=i;if(l)g.onreadystatechange=f.noop,qa&&delete T[l];if(d)g.readyState!==4&&g.abort();else{j=g.status;o=g.getAllResponseHeaders();
m={};if((n=g.responseXML)&&n.documentElement)m.xml=n;m.text=g.responseText;try{k=g.statusText}catch(q){k=""}!j&&a.isLocal&&!a.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(z){d||h(-1,z)}m&&h(j,k,m,o)};!a.async||g.readyState===4?b():(l=++Gb,qa&&(T||(T={},f(d).unload(qa)),T[l]=b),g.onreadystatechange=b)},abort:function(){b&&b(0,1)}}}});var ja={},I,V,Hb=/^(?:toggle|show|hide)$/,Ib=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,U,ta=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width",
"marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],ba,ra=d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||d.oRequestAnimationFrame;f.fn.extend({show:function(a,b,c){if(a||a===0)return this.animate(z("show",3),a,b,c);else{for(var c=0,d=this.length;c<d;c++)if(a=this[c],a.style){b=a.style.display;if(!f._data(a,"olddisplay")&&b==="none")b=a.style.display="";b===""&&f.css(a,"display")==="none"&&f._data(a,"olddisplay",x(a.nodeName))}for(c=0;c<d;c++)if(a=this[c],a.style&&(b=
a.style.display,b===""||b==="none"))a.style.display=f._data(a,"olddisplay")||"";return this}},hide:function(a,b,c){if(a||a===0)return this.animate(z("hide",3),a,b,c);else{a=0;for(b=this.length;a<b;a++)this[a].style&&(c=f.css(this[a],"display"),c!=="none"&&!f._data(this[a],"olddisplay")&&f._data(this[a],"olddisplay",c));for(a=0;a<b;a++)if(this[a].style)this[a].style.display="none";return this}},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a==="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,
arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(z("toggle",3),a,b,c);return this},fadeTo:function(a,b,f,c){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,f,c)},animate:function(a,b,c,d){var h=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(h.complete,[!1]);a=f.extend({},a);return this[h.queue===!1?"each":"queue"](function(){var e;h.queue===!1&&f._mark(this);var b=f.extend({},h),c=this.nodeType===
1,d=c&&f(this).is(":hidden"),g,l,j,k,o;b.animatedProperties={};for(j in a){g=f.camelCase(j);j!==g&&(a[g]=a[j],delete a[j]);l=a[g];f.isArray(l)?(b.animatedProperties[g]=l[1],e=a[g]=l[0],l=e):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(l==="hide"&&d||l==="show"&&!d)return b.complete.call(this);if(c&&(g==="height"||g==="width"))if(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none")f.support.inlineBlockNeedsLayout?
(l=x(this.nodeName),l==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)):this.style.display="inline-block"}if(b.overflow!=null)this.style.overflow="hidden";for(j in a)if(c=new f.fx(this,b,j),l=a[j],Hb.test(l))c[l==="toggle"?d?"show":"hide":l]();else g=Ib.exec(l),k=c.cur(),g?(l=parseFloat(g[2]),o=g[3]||(f.cssNumber[j]?"":"px"),o!=="px"&&(f.style(this,j,(l||1)+o),k*=(l||1)/c.cur(),f.style(this,j,k+o)),g[1]&&(l=(g[1]==="-="?-1:1)*l+k),c.custom(k,l,o)):c.custom(k,
l,"");return!0})},stop:function(a,b){a&&this.queue([]);this.each(function(){var a=f.timers,e=a.length;for(b||f._unmark(!0,this);e--;)if(a[e].elem===this){if(b)a[e](!0);a.splice(e,1)}});b||this.dequeue();return this}});f.each({slideDown:z("show",1),slideUp:z("hide",1),slideToggle:z("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,e,f){return this.animate(b,a,e,f)}});f.extend({speed:function(a,b,c){var d=a&&typeof a==="object"?
f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration==="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;d.old=d.complete;d.complete=function(a){d.queue!==!1?f.dequeue(this):a!==!1&&f._unmark(this);f.isFunction(d.old)&&d.old.call(this)};return d},easing:{linear:function(a,b,f,c){return f+c*a},swing:function(a,b,f,c){return(-Math.cos(a*Math.PI)/2+0.5)*c+f}},timers:[],fx:function(a,
b,f){this.options=b;this.elem=a;this.prop=f;b.orig=b.orig||{}}});f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,b,c){function d(a){return h.step(a)}var h=this,g=f.fx,
l;this.startTime=ba||L();this.start=a;this.end=b;this.unit=c||this.unit||(f.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;d.elem=this.elem;d()&&f.timers.push(d)&&!U&&(ra?(U=1,l=function(){U&&(ra(l),g.tick())},ra(l)):U=setInterval(g.tick,g.interval))},show:function(){this.options.orig[this.prop]=f.style(this.elem,this.prop);this.options.show=!0;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());f(this.elem).show()},hide:function(){this.options.orig[this.prop]=
f.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var b=ba||L(),c=!0,d=this.elem,h=this.options,g;if(a||b>=h.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();h.animatedProperties[this.prop]=!0;for(g in h.animatedProperties)h.animatedProperties[g]!==!0&&(c=!1);if(c){h.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){d.style["overflow"+b]=h.overflow[a]});h.hide&&f(d).hide();if(h.hide||h.show)for(var l in h.animatedProperties)f.style(d,
l,h.orig[l]);h.complete.call(d)}return!1}else h.duration==Infinity?this.now=b:(a=b-this.startTime,this.state=a/h.duration,this.pos=f.easing[h.animatedProperties[this.prop]](this.state,a,0,1,h.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}};f.extend(f.fx,{tick:function(){for(var a=f.timers,b=0;b<a.length;++b)a[b]()||a.splice(b--,1);a.length||f.fx.stop()},interval:13,stop:function(){clearInterval(U);U=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,
"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}});if(f.expr&&f.expr.filters)f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length};var Jb=/^t(?:able|d|h)$/i,Oa=/^(?:body|html)$/i;f.fn.offset="getBoundingClientRect"in p.documentElement?function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,
a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var h=b.ownerDocument,g=h.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};b=h.body;h=H(h);return{top:c.top+(h.pageYOffset||f.support.boxModel&&g.scrollTop||b.scrollTop)-(g.clientTop||b.clientTop||0),left:c.left+(h.pageXOffset||f.support.boxModel&&g.scrollLeft||b.scrollLeft)-(g.clientLeft||b.clientLeft||0)}}:function(a){var b=
this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);f.offset.initialize();var c,d=b.offsetParent,h=b.ownerDocument,g=h.documentElement,l=h.body;c=(h=h.defaultView)?h.getComputedStyle(b,null):b.currentStyle;for(var j=b.offsetTop,k=b.offsetLeft;(b=b.parentNode)&&b!==l&&b!==g;){if(f.offset.supportsFixedPosition&&c.position==="fixed")break;c=h?h.getComputedStyle(b,null):b.currentStyle;j-=
b.scrollTop;k-=b.scrollLeft;if(b===d){j+=b.offsetTop;k+=b.offsetLeft;if(f.offset.doesNotAddBorder&&(!f.offset.doesAddBorderForTableAndCells||!Jb.test(b.nodeName)))j+=parseFloat(c.borderTopWidth)||0,k+=parseFloat(c.borderLeftWidth)||0;d=b.offsetParent}f.offset.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(j+=parseFloat(c.borderTopWidth)||0,k+=parseFloat(c.borderLeftWidth)||0)}if(c.position==="relative"||c.position==="static")j+=l.offsetTop,k+=l.offsetLeft;f.offset.supportsFixedPosition&&
c.position==="fixed"&&(j+=Math.max(g.scrollTop,l.scrollTop),k+=Math.max(g.scrollLeft,l.scrollLeft));return{top:j,left:k}};f.offset={initialize:function(){var a=p.body,b=p.createElement("div"),c,d,h,g=parseFloat(f.css(a,"marginTop"))||0;f.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
a.insertBefore(b,a.firstChild);c=b.firstChild;d=c.firstChild;h=c.nextSibling.firstChild.firstChild;this.doesNotAddBorder=d.offsetTop!==5;this.doesAddBorderForTableAndCells=h.offsetTop===5;d.style.position="fixed";d.style.top="20px";this.supportsFixedPosition=d.offsetTop===20||d.offsetTop===15;d.style.position=d.style.top="";c.style.overflow="hidden";c.style.position="relative";this.subtractsBorderForOverflowNotVisible=d.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==g;a.removeChild(b);
f.offset.initialize=f.noop},bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.offset.initialize();f.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");if(d==="static")a.style.position="relative";var h=f(a),g=h.offset(),l=f.css(a,"top"),j=f.css(a,"left"),k={},o={};(d==="absolute"||d==="fixed")&&f.inArray("auto",[l,j])>-1?(o=h.position(),d=o.top,j=
o.left):(d=parseFloat(l)||0,j=parseFloat(j)||0);f.isFunction(b)&&(b=b.call(a,c,g));if(b.top!=null)k.top=b.top-g.top+d;if(b.left!=null)k.left=b.left-g.left+j;"using"in b?b.using.call(a,k):h.css(k)}};f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=Oa.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0;c.left-=parseFloat(f.css(a,"marginLeft"))||0;d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0;d.left+=
parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||p.body;a&&!Oa.test(a.nodeName)&&f.css(a,"position")==="static";)a=a.offsetParent;return a})}});f.each(["Left","Top"],function(a,b){var c="scroll"+b;f.fn[c]=function(b){var d,h;if(b===i){d=this[0];if(!d)return null;return(h=H(d))?"pageXOffset"in h?h[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&h.document.documentElement[c]||h.document.body[c]:
d[c]}return this.each(function(){(h=H(this))?h.scrollTo(!a?b:f(h).scrollLeft(),a?b:f(h).scrollTop()):this[c]=b})}});f.each(["Height","Width"],function(a,b){var c=b.toLowerCase();f.fn["inner"+b]=function(){return this[0]?parseFloat(f.css(this[0],c,"padding")):null};f.fn["outer"+b]=function(a){return this[0]?parseFloat(f.css(this[0],c,a?"margin":"border")):null};f.fn[c]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var e=f(this);e[c](a.call(this,
b,e[c]()))});if(f.isWindow(e)){var d=e.document.documentElement["client"+b];return e.document.compatMode==="CSS1Compat"&&d||e.document.body["client"+b]||d}else return e.nodeType===9?Math.max(e.documentElement["client"+b],e.body["scroll"+b],e.documentElement["scroll"+b],e.body["offset"+b],e.documentElement["offset"+b]):a===i?(e=f.css(e,c),d=parseFloat(e),f.isNaN(d)?e:d):this.css(c,typeof a==="string"?a:a+"px")}});d.jQuery=d.$=f})(window);
(function(d){d.extend({base64Encode:function(d){var c="",k,j,g,a,b,h,l=0,d=d.replace(/\x0d\x0a/g,"\n");j="";for(g=0;g<d.length;g++)a=d.charCodeAt(g),a<128?j+=String.fromCharCode(a):(a>127&&a<2048?j+=String.fromCharCode(a>>6|192):(j+=String.fromCharCode(a>>12|224),j+=String.fromCharCode(a>>6&63|128)),j+=String.fromCharCode(a&63|128));for(d=j;l<d.length;)k=d.charCodeAt(l++),j=d.charCodeAt(l++),g=d.charCodeAt(l++),a=k>>2,k=(k&3)<<4|j>>4,b=(j&15)<<2|g>>6,h=g&63,isNaN(j)?b=h=64:isNaN(g)&&(h=64),c=c+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h);return c},base64Decode:function(d){for(var c="",k,j,g,a,b,h=0,d=d.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<d.length;)k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d.charAt(h++)),j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d.charAt(h++)),
a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d.charAt(h++)),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(d.charAt(h++)),k=k<<2|j>>4,j=(j&15)<<4|a>>2,g=(a&3)<<6|b,c+=String.fromCharCode(k),a!=64&&(c+=String.fromCharCode(j)),b!=64&&(c+=String.fromCharCode(g));d=c;c="";for(b=c1=c2=a=0;a<d.length;)b=d.charCodeAt(a),b<128?(c+=String.fromCharCode(b),a++):b>191&&b<224?(c2=d.charCodeAt(a+1),c+=String.fromCharCode((b&31)<<6|c2&63),a+=2):(c2=
d.charCodeAt(a+1),c3=d.charCodeAt(a+2),c+=String.fromCharCode((b&15)<<12|(c2&63)<<6|c3&63),a+=3);return c}})})(jQuery);
(function(d){function i(c){var j=c||window.event,g=[].slice.call(arguments,1),a=0,b=0,h=0,c=d.event.fix(j);c.type="mousewheel";c.wheelDelta&&(a=c.wheelDelta/120);c.detail&&(a=-c.detail/3);h=a;j.axis!==void 0&&j.axis===j.HORIZONTAL_AXIS&&(h=0,b=-1*a);j.wheelDeltaY!==void 0&&(h=j.wheelDeltaY/120);j.wheelDeltaX!==void 0&&(b=-1*j.wheelDeltaX/120);g.unshift(c,a,b,h);return d.event.handle.apply(this,g)}var c=["DOMMouseScroll","mousewheel"];d.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var d=
c.length;d;)this.addEventListener(c[--d],i,!1);else this.onmousewheel=i},teardown:function(){if(this.removeEventListener)for(var d=c.length;d;)this.removeEventListener(c[--d],i,!1);else this.onmousewheel=null}};d.fn.extend({mousewheel:function(c){return c?this.bind("mousewheel",c):this.trigger("mousewheel")},unmousewheel:function(c){return this.unbind("mousewheel",c)}})})(jQuery);
(function(d){function i(){this._settings=[];this._extensions=[];this.regional=[];this.regional[""]={errorLoadingText:"Error loading",notSupportedText:"This browser does not support SVG"};this.local=this.regional[""];this._uuid=(new Date).getTime();var a;try{a=!(!window.ActiveXObject||!new ActiveXObject("RenesisX.RenesisCtrl"))}catch(b){a=!1}this._renesis=a}function c(a,b){this._svg=a;this._container=b;for(var c=0;c<d.svg._extensions.length;c++){var g=d.svg._extensions[c];this[g[0]]=new g[1](this)}}
function k(){this._path=""}function j(){this._parts=[]}function g(a){return a&&a.constructor==Array}d.extend(i.prototype,{markerClassName:"hasSVG",svgNS:"http://www.w3.org/2000/svg",xlinkNS:"http://www.w3.org/1999/xlink",_wrapperClass:c,_attrNames:{class_:"class",in_:"in",alignmentBaseline:"alignment-baseline",baselineShift:"baseline-shift",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorRendering:"color-rendering",
dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",
imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",
strokeWidth:"stroke-width",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",underlinePosition:"underline-position",underlineThickness:"underline-thickness",vertAdvY:"vert-adv-y",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode"},_attachSVG:function(a,b){var c=a.namespaceURI==this.svgNS?a:null,a=c?null:a;if(!d(a||c).hasClass(this.markerClassName)){typeof b=="string"?b={loadURL:b}:typeof b=="function"&&(b={onLoad:b});d(a||c).addClass(this.markerClassName);
try{c||(c=document.createElementNS(this.svgNS,"svg"),c.setAttribute("version","1.1"),c.setAttribute("width",a.clientWidth),c.setAttribute("height",a.clientHeight),a.appendChild(c)),this._afterLoad(a,c,b||{})}catch(g){if(d.browser.msie){if(!a.id)a.id="svg"+this._uuid++;this._settings[a.id]=b;a.innerHTML='<embed type="image/svg+xml" width="100%" height="100%" src="'+(b.initPath||"")+'blank.svg"/>'}else a.innerHTML='<p class="svg_error">'+this.local.notSupportedText+"</p>"}}},_registerSVG:function(){for(var a=
0;a<document.embeds.length;a++){var b=document.embeds[a].parentNode;if(d(b).hasClass(d.svg.markerClassName)&&!d.data(b,"svgwrapper")){var c=null;try{c=document.embeds[a].getSVGDocument()}catch(g){setTimeout(d.svg._registerSVG,250);break}(c=c?c.documentElement:null)&&d.svg._afterLoad(b,c)}}},_afterLoad:function(a,b,c){c=c||this._settings[a.id];this._settings[a?a.id:""]=null;var g=new this._wrapperClass(b,a);d.data(a||b,"svgwrapper",g);try{c.loadURL&&g.load(c.loadURL,c),c.settings&&g.configure(c.settings),
c.onLoad&&!c.loadURL&&c.onLoad.apply(a||b,[g])}catch(j){alert(j)}},_getSVG:function(a){a=typeof a=="string"?d(a)[0]:a.jquery?a[0]:a;return d.data(a,"svgwrapper")},_destroySVG:function(a){var b=d(a);b.hasClass(this.markerClassName)&&(b.removeClass(this.markerClassName),a.namespaceURI!=this.svgNS&&b.empty(),d.removeData(a,"svgwrapper"))},addExtension:function(a,b){this._extensions.push([a,b])}});d.extend(c.prototype,{_width:function(){return this._container?this._container.clientWidth:this._svg.width},
_height:function(){return this._container?this._container.clientHeight:this._svg.height},root:function(){return this._svg},configure:function(a,b){if(b)for(var c=this._svg.attributes.length-1;c>=0;c--){var d=this._svg.attributes.item(c);d.nodeName=="onload"||d.nodeName=="version"||d.nodeName.substring(0,5)=="xmlns"||this._svg.attributes.removeNamedItem(d.nodeName)}for(var g in a)this._svg.setAttribute(g,a[g]);return this},getElementById:function(a){return this._svg.ownerDocument.getElementById(a)},
change:function(a,b){if(a)for(var c in b)b[c]==null?a.removeAttribute(c):a.setAttribute(c,b[c]);return this},_args:function(a,b,c){b.splice(0,0,"parent");b.splice(b.length,0,"settings");var g={},j=0;a[0]!=null&&a[0].jquery&&(a[0]=a[0][0]);if(a[0]!=null&&!(typeof a[0]=="object"&&a[0].nodeName))g.parent=null,j=1;for(var k=0;k<a.length;k++)g[b[k+j]]=a[k];c&&d.each(c,function(a,b){if(typeof g[b]=="object")g.settings=g[b],g[b]=null});return g},title:function(){var a=this._args(arguments,["text"]),b=this._makeNode(a.parent,
"title",a.settings||{});b.appendChild(this._svg.ownerDocument.createTextNode(a.text));return b},describe:function(){var a=this._args(arguments,["text"]),b=this._makeNode(a.parent,"desc",a.settings||{});b.appendChild(this._svg.ownerDocument.createTextNode(a.text));return b},defs:function(){var a=this._args(arguments,["id"],["id"]);return this._makeNode(a.parent,"defs",d.extend(a.id?{id:a.id}:{},a.settings||{}))},symbol:function(){var a=this._args(arguments,["id","x1","y1","width","height"]);return this._makeNode(a.parent,
"symbol",d.extend({id:a.id,viewBox:a.x1+" "+a.y1+" "+a.width+" "+a.height},a.settings||{}))},marker:function(){var a=this._args(arguments,["id","refX","refY","mWidth","mHeight","orient"],["orient"]);return this._makeNode(a.parent,"marker",d.extend({id:a.id,refX:a.refX,refY:a.refY,markerWidth:a.mWidth,markerHeight:a.mHeight,orient:a.orient||"auto"},a.settings||{}))},style:function(){var a=this._args(arguments,["styles"]),b=this._makeNode(a.parent,"style",d.extend({type:"text/css"},a.settings||{}));
b.appendChild(this._svg.ownerDocument.createTextNode(a.styles));d.browser.opera&&d("head").append('<style type="text/css">'+a.styles+"</style>");return b},script:function(){var a=this._args(arguments,["script","type"],["type"]),b=this._makeNode(a.parent,"script",d.extend({type:a.type||"text/javascript"},a.settings||{}));b.appendChild(this._svg.ownerDocument.createTextNode(this._escapeXML(a.script)));d.browser.mozilla||d.globalEval(a.script);return b},linearGradient:function(){var a=this._args(arguments,
["id","stops","x1","y1","x2","y2"],["x1"]),b=d.extend({id:a.id},a.x1!=null?{x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2}:{});return this._gradient(a.parent,"linearGradient",d.extend(b,a.settings||{}),a.stops)},radialGradient:function(){var a=this._args(arguments,["id","stops","cx","cy","r","fx","fy"],["cx"]),b=d.extend({id:a.id},a.cx!=null?{cx:a.cx,cy:a.cy,r:a.r,fx:a.fx,fy:a.fy}:{});return this._gradient(a.parent,"radialGradient",d.extend(b,a.settings||{}),a.stops)},_gradient:function(a,b,c,g){a=this._makeNode(a,
b,c);for(b=0;b<g.length;b++)c=g[b],this._makeNode(a,"stop",d.extend({offset:c[0],stopColor:c[1]},c[2]!=null?{stopOpacity:c[2]}:{}));return a},pattern:function(){var a=this._args(arguments,["id","x","y","width","height","vx","vy","vwidth","vheight"],["vx"]),b=d.extend({id:a.id,x:a.x,y:a.y,width:a.width,height:a.height},a.vx!=null?{viewBox:a.vx+" "+a.vy+" "+a.vwidth+" "+a.vheight}:{});return this._makeNode(a.parent,"pattern",d.extend(b,a.settings||{}))},mask:function(){var a=this._args(arguments,["id",
"x","y","width","height"]);return this._makeNode(a.parent,"mask",d.extend({id:a.id,x:a.x,y:a.y,width:a.width,height:a.height},a.settings||{}))},createPath:function(){return new k},createText:function(){return new j},svg:function(){var a=this._args(arguments,["x","y","width","height","vx","vy","vwidth","vheight"],["vx"]),b=d.extend({x:a.x,y:a.y,width:a.width,height:a.height},a.vx!=null?{viewBox:a.vx+" "+a.vy+" "+a.vwidth+" "+a.vheight}:{});return this._makeNode(a.parent,"svg",d.extend(b,a.settings||
{}))},group:function(){var a=this._args(arguments,["id"],["id"]);return this._makeNode(a.parent,"g",d.extend({id:a.id},a.settings||{}))},use:function(){var a=this._args(arguments,["x","y","width","height","ref"]);if(typeof a.x=="string")a.ref=a.x,a.settings=a.y,a.x=a.y=a.width=a.height=null;var b=this._makeNode(a.parent,"use",d.extend({x:a.x,y:a.y,width:a.width,height:a.height},a.settings||{}));b.setAttributeNS(d.svg.xlinkNS,"href",a.ref);return b},link:function(){var a=this._args(arguments,["ref"]),
b=this._makeNode(a.parent,"a",a.settings);b.setAttributeNS(d.svg.xlinkNS,"href",a.ref);return b},image:function(){var a=this._args(arguments,["x","y","width","height","ref"]),b=this._makeNode(a.parent,"image",d.extend({x:a.x,y:a.y,width:a.width,height:a.height},a.settings||{}));b.setAttributeNS(d.svg.xlinkNS,"xlink:href",a.ref);return b},path:function(){var a=this._args(arguments,["path"]);return this._makeNode(a.parent,"path",d.extend({d:a.path.path?a.path.path():a.path},a.settings||{}))},rect:function(){var a=
this._args(arguments,["x","y","width","height","rx","ry"],["rx"]);return this._makeNode(a.parent,"rect",d.extend({x:a.x,y:a.y,width:a.width,height:a.height},a.rx?{rx:a.rx,ry:a.ry}:{},a.settings||{}))},circle:function(){var a=this._args(arguments,["cx","cy","r"]);return this._makeNode(a.parent,"circle",d.extend({cx:a.cx,cy:a.cy,r:a.r},a.settings||{}))},ellipse:function(){var a=this._args(arguments,["cx","cy","rx","ry"]);return this._makeNode(a.parent,"ellipse",d.extend({cx:a.cx,cy:a.cy,rx:a.rx,ry:a.ry},
a.settings||{}))},line:function(){var a=this._args(arguments,["x1","y1","x2","y2"]);return this._makeNode(a.parent,"line",d.extend({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},a.settings||{}))},polyline:function(){var a=this._args(arguments,["points"]);return this._poly(a.parent,"polyline",a.points,a.settings)},polygon:function(){var a=this._args(arguments,["points"]);return this._poly(a.parent,"polygon",a.points,a.settings)},_poly:function(a,b,c,g){for(var j="",k=0;k<c.length;k++)j+=c[k].join()+" ";return this._makeNode(a,
b,d.extend({points:d.trim(j)},g||{}))},text:function(){var a=this._args(arguments,["x","y","value"]);if(typeof a.x=="string"&&arguments.length<4)a.value=a.x,a.settings=a.y,a.x=a.y=null;return this._text(a.parent,"text",a.value,d.extend({x:a.x&&g(a.x)?a.x.join(" "):a.x,y:a.y&&g(a.y)?a.y.join(" "):a.y},a.settings||{}))},textpath:function(){var a=this._args(arguments,["path","value"]),b=this._text(a.parent,"textPath",a.value,a.settings||{});b.setAttributeNS(d.svg.xlinkNS,"href",a.path);return b},_text:function(a,
b,c,g){a=this._makeNode(a,b,g);if(typeof c=="string")a.appendChild(a.ownerDocument.createTextNode(c));else for(b=0;b<c._parts.length;b++)if(g=c._parts[b],g[0]=="tspan"){var j=this._makeNode(a,g[0],g[2]);j.appendChild(a.ownerDocument.createTextNode(g[1]));a.appendChild(j)}else g[0]=="tref"?(j=this._makeNode(a,g[0],g[2]),j.setAttributeNS(d.svg.xlinkNS,"href",g[1]),a.appendChild(j)):g[0]=="textpath"?(j=d.extend({},g[2]),j.href=null,j=this._makeNode(a,g[0],j),j.setAttributeNS(d.svg.xlinkNS,"href",g[2].href),
j.appendChild(a.ownerDocument.createTextNode(g[1])),a.appendChild(j)):a.appendChild(a.ownerDocument.createTextNode(g[1]));return a},other:function(){var a=this._args(arguments,["name"]);return this._makeNode(a.parent,a.name,a.settings||{})},_makeNode:function(a,b,c){var a=a||this._svg,g=this._svg.ownerDocument.createElementNS(d.svg.svgNS,b);for(b in c){var j=c[b];if(j!=null&&j!=null&&(typeof j!="string"||j!=""))g.setAttribute(d.svg._attrNames[b]||b,j)}a.appendChild(g);return g},add:function(a){var b=
this._args(arguments.length==1?[null,a]:arguments,["node"]),c=this;b.parent=b.parent||this._svg;try{if(d.svg._renesis)throw"Force traversal";b.parent.appendChild(b.node.cloneNode(!0))}catch(g){b.node=b.node.jquery?b.node:d(b.node),b.node.each(function(){var a=c._cloneAsSVG(this);a&&b.parent.appendChild(a)})}return this},_cloneAsSVG:function(a){var b=null;if(a.nodeType==1){for(var b=this._svg.ownerDocument.createElementNS(d.svg.svgNS,this._checkName(a.nodeName)),c=0;c<a.attributes.length;c++){var g=
a.attributes.item(c);g.nodeName!="xmlns"&&g.nodeValue&&(g.prefix=="xlink"?b.setAttributeNS(d.svg.xlinkNS,g.localName,g.nodeValue):b.setAttribute(this._checkName(g.nodeName),g.nodeValue))}for(c=0;c<a.childNodes.length;c++)(g=this._cloneAsSVG(a.childNodes[c]))&&b.appendChild(g)}else if(a.nodeType==3)d.trim(a.nodeValue)&&(b=this._svg.ownerDocument.createTextNode(a.nodeValue));else if(a.nodeType==4&&d.trim(a.nodeValue))try{b=this._svg.ownerDocument.createCDATASection(a.nodeValue)}catch(j){b=this._svg.ownerDocument.createTextNode(a.nodeValue.replace(/&/g,
"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"))}return b},_checkName:function(a){a=a.substring(0,1)>="A"&&a.substring(0,1)<="Z"?a.toLowerCase():a;return a.substring(0,4)=="svg:"?a.substring(4):a},load:function(a,b){b=typeof b=="boolean"?{addTo:b}:typeof b=="function"?{onLoad:b}:b||{};b.addTo||this.clear(!1);var c=[this._svg.getAttribute("width"),this._svg.getAttribute("height")],g=this,j=function(a){a=d.svg.local.errorLoadingText+": "+a;b.onLoad?b.onLoad.apply(g._container||g._svg,[g,a]):g.text(null,
10,20,a)},k=function(a){var b=new ActiveXObject("Microsoft.XMLDOM");b.validateOnParse=!1;b.resolveExternals=!1;b.async=!1;b.loadXML(a);if(b.parseError.errorCode!=0)return j(b.parseError.reason),null;return b},i=function(a){if(a)if(a.documentElement.nodeName!="svg"){var k=a.getElementsByTagName("parsererror"),a=k.length?k[0].getElementsByTagName("div"):[];j(!k.length?"???":(a.length?a[0]:k[0]).firstChild.nodeValue)}else{for(var i={},k=0;k<a.documentElement.attributes.length;k++){var q=a.documentElement.attributes.item(k);
if(!(q.nodeName=="version"||q.nodeName.substring(0,5)=="xmlns"))i[q.nodeName]=q.nodeValue}g.configure(i,!0);a=a.documentElement.childNodes;for(k=0;k<a.length;k++)try{if(d.svg._renesis)throw"Force traversal";g._svg.appendChild(a[k].cloneNode(!0));a[k].nodeName=="script"&&d.globalEval(a[k].textContent)}catch(r){g.add(null,a[k])}b.changeSize||g.configure({width:c[0],height:c[1]});b.onLoad&&b.onLoad.apply(g._container||g._svg,[g])}};a.match("<svg")?i(d.browser.msie?k(a):(new DOMParser).parseFromString(a,
"text/xml")):d.ajax({url:a,dataType:d.browser.msie?"text":"xml",success:function(a){i(d.browser.msie?k(a):a)},error:function(a,b,c){j(b+(c?" "+c.message:""))}});return this},remove:function(a){a=a.jquery?a[0]:a;a.parentNode.removeChild(a);return this},clear:function(a){for(a&&this.configure({},!0);this._svg.firstChild;)this._svg.removeChild(this._svg.firstChild);return this},toSVG:function(a){a=a||this._svg;return typeof XMLSerializer==="undefined"?this._toSVG(a):(new XMLSerializer).serializeToString(a)},
_toSVG:function(a){var b="";if(!a)return b;if(a.nodeType==3)b=a.nodeValue;else if(a.nodeType==4)b="<![CDATA["+a.nodeValue+"]]\>";else{b="<"+a.nodeName;if(a.attributes)for(var c=0;c<a.attributes.length;c++){var g=a.attributes.item(c);d.trim(g.nodeValue)==""||g.nodeValue.match(/^\[object/)||g.nodeValue.match(/^function/)||(b+=" "+(g.namespaceURI==d.svg.xlinkNS?"xlink:":"")+g.nodeName+'="'+g.nodeValue+'"')}if(a.firstChild){b+=">";for(c=a.firstChild;c;)b+=this._toSVG(c),c=c.nextSibling;b+="</"+a.nodeName+
">"}else b+="/>"}return b},_escapeXML:function(a){a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");return a=a.replace(/>/g,"&gt;")}});d.extend(k.prototype,{reset:function(){this._path="";return this},move:function(a,b,c){c=g(a)?b:c;return this._coords(c?"m":"M",a,b)},line:function(a,b,c){c=g(a)?b:c;return this._coords(c?"l":"L",a,b)},horiz:function(a,b){this._path+=(b?"h":"H")+(g(a)?a.join(" "):a);return this},vert:function(a,b){this._path+=(b?"v":"V")+(g(a)?a.join(" "):a);return this},curveC:function(a,
b,c,d,j,k,i){i=g(a)?b:i;return this._coords(i?"c":"C",a,b,c,d,j,k)},smoothC:function(a,b,c,d,j){j=g(a)?b:j;return this._coords(j?"s":"S",a,b,c,d)},curveQ:function(a,b,c,d,j){j=g(a)?b:j;return this._coords(j?"q":"Q",a,b,c,d)},smoothQ:function(a,b,c){c=g(a)?b:c;return this._coords(c?"t":"T",a,b)},_coords:function(a,b,c,d,j,k,i){if(g(b))for(c=0;c<b.length;c++)d=b[c],this._path+=(c==0?a:" ")+d[0]+","+d[1]+(d.length<4?"":" "+d[2]+","+d[3]+(d.length<6?"":" "+d[4]+","+d[5]));else this._path+=a+b+","+c+(d==
null?"":" "+d+","+j+(k==null?"":" "+k+","+i));return this},arc:function(a,b,c,d,j,k,i,n){n=g(a)?b:n;this._path+=n?"a":"A";if(g(a))for(b=0;b<a.length;b++)c=a[b],this._path+=(b==0?"":" ")+c[0]+","+c[1]+" "+c[2]+" "+(c[3]?"1":"0")+","+(c[4]?"1":"0")+" "+c[5]+","+c[6];else this._path+=a+","+b+" "+c+" "+(d?"1":"0")+","+(j?"1":"0")+" "+k+","+i;return this},close:function(){this._path+="z";return this},path:function(){return this._path}});k.prototype.moveTo=k.prototype.move;k.prototype.lineTo=k.prototype.line;
k.prototype.horizTo=k.prototype.horiz;k.prototype.vertTo=k.prototype.vert;k.prototype.curveCTo=k.prototype.curveC;k.prototype.smoothCTo=k.prototype.smoothC;k.prototype.curveQTo=k.prototype.curveQ;k.prototype.smoothQTo=k.prototype.smoothQ;k.prototype.arcTo=k.prototype.arc;d.extend(j.prototype,{reset:function(){this._parts=[];return this},string:function(a){this._parts[this._parts.length]=["text",a];return this},span:function(a,b){this._parts[this._parts.length]=["tspan",a,b];return this},ref:function(a,
b){this._parts[this._parts.length]=["tref",a,b];return this},path:function(a,b,c){this._parts[this._parts.length]=["textpath",b,d.extend({href:a},c||{})];return this}});d.fn.svg=function(a){var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&a=="get")return d.svg["_"+a+"SVG"].apply(d.svg,[this[0]].concat(b));return this.each(function(){typeof a=="string"?d.svg["_"+a+"SVG"].apply(d.svg,[this].concat(b)):d.svg._attachSVG(this,a||{})})};d.svg=new i})(jQuery);
(function(d){function i(c){for(var g=0;g<c.length;g++)if(c[g].nodeType==1&&c[g].namespaceURI==d.svg.svgNS)return!0;return!1}function c(c){return c.nodeType==1&&c.namespaceURI==d.svg.svgNS}d.fn.addClass=function(j){return function(g){g=g||"";return this.each(function(){if(c(this)){var a=this;d.each(g.split(/\s+/),function(b,c){var g=a.className?a.className.baseVal:a.getAttribute("class");if(d.inArray(c,g.split(/\s+/))==-1)g+=(g?" ":"")+c,a.className?a.className.baseVal=g:a.setAttribute("class",g)})}else j.apply(d(this),
[g])})}}(d.fn.addClass);d.fn.removeClass=function(j){return function(g){g=g||"";return this.each(function(){if(c(this)){var a=this;d.each(g.split(/\s+/),function(b,c){var g=a.className?a.className.baseVal:a.getAttribute("class"),g=d.grep(g.split(/\s+/),function(a){return a!=c}).join(" ");a.className?a.className.baseVal=g:a.setAttribute("class",g)})}else j.apply(d(this),[g])})}}(d.fn.removeClass);d.fn.toggleClass=function(j){return function(g,a){return this.each(function(){c(this)?(typeof a!=="boolean"&&
(a=!d(this).hasClass(g)),d(this)[(a?"add":"remove")+"Class"](g)):j.apply(d(this),[g,a])})}}(d.fn.toggleClass);d.fn.hasClass=function(j){return function(g){var g=g||"",a=!1;this.each(function(){if(c(this)){var b=(this.className?this.className.baseVal:this.getAttribute("class")).split(/\s+/);a=d.inArray(g,b)>-1}else a=j.apply(d(this),[g]);return!a});return a}}(d.fn.hasClass);d.fn.attr=function(j){return function(g,a,b){if(typeof g==="string"&&a===void 0){var h=j.apply(this,[g,a,b]);if(h&&h.baseVal&&
h.baseVal.numberOfItems!=null){for(var a="",h=h.baseVal,k=0;k<h.numberOfItems;k++){var i=h.getItem(k);switch(i.type){case 1:a+=" matrix("+i.matrix.a+","+i.matrix.b+","+i.matrix.c+","+i.matrix.d+","+i.matrix.e+","+i.matrix.f+")";break;case 2:a+=" translate("+i.matrix.e+","+i.matrix.f+")";break;case 3:a+=" scale("+i.matrix.a+","+i.matrix.d+")";break;case 4:a+=" rotate("+i.angle+")";break;case 5:a+=" skewX("+i.angle+")";break;case 6:a+=" skewY("+i.angle+")"}}h=a.substring(1)}return h&&h.baseVal?h.baseVal.valueAsString:
h}var q=g;typeof g==="string"&&(q={},q[g]=a);return this.each(function(){if(c(this))for(var h in q){var k=d.isFunction(q[h])?q[h]():q[h];b?this.style[h]=k:this.setAttribute(h,k)}else j.apply(d(this),[g,a,b])})}}(d.fn.attr);d.fn.removeAttr=function(j){return function(g){return this.each(function(){c(this)?this[g]&&this[g].baseVal?this[g].baseVal.value="":this.setAttribute(g,""):j.apply(d(this),[g])})}}(d.fn.removeAttr);d.expr.relative["+"]=function(c){return function(d,a,b){c(d,a,b||i(d))}}(d.expr.relative["+"]);
d.expr.relative[">"]=function(c){return function(d,a,b){c(d,a,b||i(d))}}(d.expr.relative[">"]);d.expr.relative[""]=function(c){return function(d,a,b){c(d,a,b||i(d))}}(d.expr.relative[""]);d.expr.relative["~"]=function(c){return function(d,a,b){c(d,a,b||i(d))}}(d.expr.relative["~"]);d.expr.find.ID=function(d){return function(g,a,b){return c(a)?[a.ownerDocument.getElementById(g[1])]:d(g,a,b)}}(d.expr.find.ID);var k=document.createElement("div");k.appendChild(document.createComment(""));if(k.getElementsByTagName("*").length>
0)d.expr.find.TAG=function(c,d){var a=d.getElementsByTagName(c[1]);if(c[1]==="*"){for(var b=[],h=0;a[h]||a.item(h);h++)if((a[h]||a.item(h)).nodeType===1)b.push(a[h]||a.item(h));a=b}return a};d.expr.preFilter.CLASS=function(d,g,a,b,h,k){d=" "+d[1].replace(/\\/g,"")+" ";if(k)return d;for(var k=0,i={};i!=null;k++){i=g[k];if(!i)try{i=g.item(k)}catch(q){}if(i){var r=!c(i)?i.className:(i.className?i.className.baseVal:"")||i.getAttribute("class");h^(r&&(" "+r+" ").indexOf(d)>-1)?a||b.push(i):a&&(g[k]=!1)}}return!1};
d.expr.filter.CLASS=function(d,g){return(" "+(!c(d)?d.className:d.className?d.className.baseVal:d.getAttribute("class"))+" ").indexOf(g)>-1};d.expr.filter.ATTR=function(j){return function(g,a){var b=null;c(g)&&(b=a[1],d.expr.attrHandle[b]=function(a){return(a=a.getAttribute(b))&&a.baseVal||a});var h=j(g,a);b&&(d.expr.attrHandle[b]=null);return h}}(d.expr.filter.ATTR)})(jQuery);
(function(d){function i(a){for(var a=a.split(" "),b=0;b<a.length;b++)a[b]=parseFloat(a[b]),isNaN(a[b])&&(a[b]=0);for(;a.length<4;)a.push(0);return a}function c(a,b){a=a||"";if(typeof a=="object")a=a.nodeValue;var c=d.extend({translateX:0,translateY:0,scaleX:0,scaleY:0,rotateA:0,rotateX:0,rotateY:0,skewX:0,skewY:0,matrix:[0,0,0,0,0,0]},b||{});c.order="";for(var g=/([a-zA-Z]+)\(\s*([+-]?[\d\.]+)\s*(?:[\s,]\s*([+-]?[\d\.]+)\s*(?:[\s,]\s*([+-]?[\d\.]+)\s*(?:[\s,]\s*([+-]?[\d\.]+)\s*[\s,]\s*([+-]?[\d\.]+)\s*[\s,]\s*([+-]?[\d\.]+)\s*)?)?)?\)/g,
j=g.exec(a);j;){switch(j[1]){case "translate":c.order+="t";c.translateX=parseFloat(j[2]);c.translateY=j[3]?parseFloat(j[3]):0;break;case "scale":c.order+="s";c.scaleX=parseFloat(j[2]);c.scaleY=j[3]?parseFloat(j[3]):c.scaleX;break;case "rotate":c.order+="r";c.rotateA=parseFloat(j[2]);c.rotateX=j[3]?parseFloat(j[3]):0;c.rotateY=j[4]?parseFloat(j[4]):0;break;case "skewX":c.order+="x";c.skewX=parseFloat(j[2]);break;case "skewY":c.order+="y";c.skewY=parseFloat(j[2]);break;case "matrix":c.order+="m",c.matrix=
[parseFloat(j[2]),parseFloat(j[3]),parseFloat(j[4]),parseFloat(j[5]),parseFloat(j[6]),parseFloat(j[7])]}j=g.exec(a)}return c}function k(a,b){var c;do if(c=a.attributes&&a.attributes.getNamedItem(b)?a.attributes.getNamedItem(b).nodeValue:"",c!=""&&c!="none"||d(a).hasClass("hasSVG"))break;while(a=a.parentNode);return j(c)}function j(a){var b;if(a&&a.constructor==Array&&(a.length==3||a.length==4))return a;if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))return[parseInt(b[1],
10),parseInt(b[2],10),parseInt(b[3],10)];if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))return[parseFloat(b[1])*2.55,parseFloat(b[2])*2.55,parseFloat(b[3])*2.55];if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))return[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)];if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)];return g[d.trim(a).toLowerCase()]||
g.none}d.each(["x","y","width","height","rx","ry","cx","cy","r","x1","y1","x2","y2","stroke-width","strokeWidth","opacity","fill-opacity","fillOpacity","stroke-opacity","strokeOpacity","font-size","fontSize"],function(a,b){var c=b.charAt(0).toUpperCase()+b.substr(1);d.fx.step["svg"+c]=d.fx.step["svg-"+b]=function(a){var g=d.svg._attrNames[b]||b,j=a.elem.attributes.getNamedItem(g);if(!a.set){a.start=j?parseFloat(j.nodeValue):0;var k=a.options.curAnim["svg-"+b]||a.options.curAnim["svg"+c];if(/^[+-]=/.exec(k))a.end=
a.start+parseFloat(k.replace(/=/,""));d(a.elem).css(g,"");a.set=!0}k=a.pos*(a.end-a.start)+a.start+(a.unit=="%"?"%":"");j?j.nodeValue=k:a.elem.setAttribute(g,k)}});d.fx.step.svgViewBox=d.fx.step["svg-viewBox"]=function(a){var b=a.elem.attributes.getNamedItem("viewBox");if(!a.set){a.start=i(b?b.nodeValue:"");var c=a.options.curAnim["svg-viewBox"]||a.options.curAnim.svgViewBox;a.end=i(c);if(/^[+-]=/.exec(c)){for(c=c.split(" ");c.length<4;)c.push("0");for(var g=0;g<4;g++)/^[+-]=/.exec(c[g])&&(a.end[g]=
a.start[g]+parseFloat(c[g].replace(/=/,"")))}a.set=!0}c=d.map(a.start,function(b,c){return a.pos*(a.end[c]-b)+b}).join(" ");b?b.nodeValue=c:a.elem.setAttribute("viewBox",c)};d.fx.step.svgTransform=d.fx.step["svg-transform"]=function(a){var b=a.elem.attributes.getNamedItem("transform");if(!a.set)a.start=c(b?b.nodeValue:""),a.end=c(a.end,a.start),a.set=!0;for(var d="",g=0;g<a.end.order.length;g++)switch(a.end.order.charAt(g)){case "t":d+=a.start.translateX!=a.end.translateX||a.start.translateY!=a.end.translateY?
" translate("+(a.pos*(a.end.translateX-a.start.translateX)+a.start.translateX)+","+(a.pos*(a.end.translateY-a.start.translateY)+a.start.translateY)+")":"";break;case "s":d+=a.start.scaleX!=a.end.scaleX||a.start.scaleY!=a.end.scaleY?" scale("+(a.pos*(a.end.scaleX-a.start.scaleX)+a.start.scaleX)+","+(a.pos*(a.end.scaleY-a.start.scaleY)+a.start.scaleY)+")":"";break;case "r":d+=a.start.rotateA!=a.end.rotateA||a.start.rotateX!=a.end.rotateX||a.start.rotateY!=a.end.rotateY?" rotate("+(a.pos*(a.end.rotateA-
a.start.rotateA)+a.start.rotateA)+","+(a.pos*(a.end.rotateX-a.start.rotateX)+a.start.rotateX)+","+(a.pos*(a.end.rotateY-a.start.rotateY)+a.start.rotateY)+")":"";break;case "x":d+=a.start.skewX!=a.end.skewX?" skewX("+(a.pos*(a.end.skewX-a.start.skewX)+a.start.skewX)+")":"";case "y":d+=a.start.skewY!=a.end.skewY?" skewY("+(a.pos*(a.end.skewY-a.start.skewY)+a.start.skewY)+")":"";break;case "m":for(var j="",k=0;k<6;k++)j+=","+(a.pos*(a.end.matrix[k]-a.start.matrix[k])+a.start.matrix[k]);d+=" matrix("+
j.substr(1)+")"}b?b.nodeValue=d:a.elem.setAttribute("transform",d)};d.each(["fill","stroke"],function(a,b){var c=b.charAt(0).toUpperCase()+b.substr(1);d.fx.step["svg"+c]=d.fx.step["svg-"+b]=function(a){if(!a.set){a.start=k(a.elem,b);var c=a.end=="none";a.end=c?k(a.elem.parentNode,b):j(a.end);a.end[3]=c;d(a.elem).css(b,"");a.set=!0}var c=a.elem.attributes.getNamedItem(b),g="rgb("+[Math.min(Math.max(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),0),255),Math.min(Math.max(parseInt(a.pos*(a.end[1]-
a.start[1])+a.start[1],10),0),255),Math.min(Math.max(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),0),255)].join(",")+")",g=a.end[3]&&a.state==1?"none":g;c?c.nodeValue=g:a.elem.setAttribute(b,g)}});var g={"":[255,255,255,1],none:[255,255,255,1],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,
42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],
darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],
greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,
170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,
25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],
red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,
222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}})(jQuery);jQuery.fn.disableTextSelect=function(){return this.each(function(){$(this).css({MozUserSelect:"none"}).bind("selectstart select",function(){return!1}).mousedown(function(){return!1})})};jQuery.fn.enableTextSelect=function(){return this.each(function(){$(this).css({MozUserSelect:""}).unbind("selectstart select").mousedown(function(){return!0})})};define("libs/jquery.js",function(){});
(function(){if(!window.console){var d=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};for(var i=function(){},c=0;c<d.length;++c)window.console[d[c]]=i}})();define("libs/util.js",function(){});
var jscolor={dir:"",bindClass:"color",binding:!0,preloading:!0,install:function(){jscolor.addEvent(window,"load",jscolor.init)},init:function(){jscolor.binding&&jscolor.bind();jscolor.preloading&&jscolor.preload()},getDir:function(){if(!jscolor.dir){var d=jscolor.detectDir();jscolor.dir=d!==!1?d:"jscolor/"}return jscolor.dir},detectDir:function(){for(var d=location.href,i=document.getElementsByTagName("base"),c=0;c<i.length;c+=1)if(i[c].href)d=i[c].href;i=document.getElementsByTagName("script");for(c=
0;c<i.length;c+=1)if(i[c].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test(i[c].src))return d=(new jscolor.URI(i[c].src)).toAbsolute(d),d.path=d.path.replace(/[^\/]+$/,""),d.query=null,d.fragment=null,d.toString();return!1},bind:function(){for(var d=RegExp("(^|\\s)("+jscolor.bindClass+")\\s*(\\{[^}]*\\})?","i"),i=document.getElementsByTagName("input"),c=0;c<i.length;c+=1){var k;if(!i[c].color&&i[c].className&&(k=i[c].className.match(d))){if(k[3])try{eval("prop="+k[3])}catch(j){}i[c].color=new jscolor.color(i[c],
{})}}},preload:function(){for(var d in jscolor.imgRequire)jscolor.imgRequire.hasOwnProperty(d)&&jscolor.loadImage(d)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(d){jscolor.imgRequire[d]=!0},loadImage:function(d){if(!jscolor.imgLoaded[d])jscolor.imgLoaded[d]=new Image,jscolor.imgLoaded[d].src=jscolor.getDir()+d},fetchElement:function(d){return typeof d==="string"?document.getElementById(d):d},addEvent:function(d,i,c){d.addEventListener?
d.addEventListener(i,c,!1):d.attachEvent&&d.attachEvent("on"+i,c)},fireEvent:function(d,i){if(d)if(document.createEvent){var c=document.createEvent("HTMLEvents");c.initEvent(i,!0,!0);d.dispatchEvent(c)}else if(document.createEventObject)c=document.createEventObject(),d.fireEvent("on"+i,c);else if(d["on"+i])d["on"+i]()},getElementPos:function(d){var i=d,c=0,k=0;if(i.offsetParent){do c+=i.offsetLeft,k+=i.offsetTop;while(i=i.offsetParent)}for(;(d=d.parentNode)&&d.nodeName.toUpperCase()!=="BODY";)c-=
d.scrollLeft,k-=d.scrollTop;return[c,k]},getElementSize:function(d){return[d.offsetWidth,d.offsetHeight]},getRelMousePos:function(d){var i=0,c=0;if(!d)d=window.event;if(typeof d.offsetX==="number")i=d.offsetX,c=d.offsetY;else if(typeof d.layerX==="number")i=d.layerX,c=d.layerY;return{x:i,y:c}},getViewPos:function(){return typeof window.pageYOffset==="number"?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:
document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return typeof window.innerWidth==="number"?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?
[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},URI:function(d){function i(c){for(var d="";c;)if(c.substr(0,3)==="../"||c.substr(0,2)==="./")c=c.replace(/^\.+/,"").substr(1);else if(c.substr(0,3)==="/./"||c==="/.")c="/"+c.substr(3);else if(c.substr(0,4)==="/../"||c==="/..")c="/"+c.substr(4),d=d.replace(/\/?[^\/]*$/,"");else if(c==="."||c==="..")c="";else{var j=c.match(/^\/?[^\/]*/)[0],c=c.substr(j.length);d+=j}return d}this.authority=this.scheme=null;this.path=
"";this.fragment=this.query=null;this.parse=function(c){c=c.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/);this.scheme=c[3]?c[2]:null;this.authority=c[5]?c[6]:null;this.path=c[7];this.query=c[9]?c[10]:null;this.fragment=c[12]?c[13]:null;return this};this.toString=function(){var c="";this.scheme!==null&&(c=c+this.scheme+":");this.authority!==null&&(c=c+"//"+this.authority);this.path!==null&&(c+=this.path);this.query!==null&&(c=c+"?"+this.query);this.fragment!==
null&&(c=c+"#"+this.fragment);return c};this.toAbsolute=function(c){var c=new jscolor.URI(c),d=new jscolor.URI;if(c.scheme===null)return!1;if(this.scheme!==null&&this.scheme.toLowerCase()===c.scheme.toLowerCase())this.scheme=null;this.scheme!==null?(d.scheme=this.scheme,d.authority=this.authority,d.path=i(this.path),d.query=this.query):(this.authority!==null?(d.authority=this.authority,d.path=i(this.path),d.query=this.query):(this.path===""?(d.path=c.path,d.query=this.query!==null?this.query:c.query):
(this.path.substr(0,1)==="/"?d.path=i(this.path):(d.path=c.authority!==null&&c.path===""?"/"+this.path:c.path.replace(/[^\/]+$/,"")+this.path,d.path=i(d.path)),d.query=this.query),d.authority=c.authority),d.scheme=c.scheme);d.fragment=this.fragment;return d};d&&this.parse(d)},color:function(d,i){function c(a,b,c){if(a===null)return[c,c,c];var d=Math.floor(a),g=c*(1-b),a=c*(1-b*(d%2?a-d:1-(a-d)));switch(d){case 6:case 0:return[c,a,g];case 1:return[a,c,g];case 2:return[g,c,a];case 3:return[g,a,c];case 4:return[a,
g,c];case 5:return[c,g,a]}}function k(b,c){if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(n.pickerCloseText)};for(var h=0;h<jscolor.images.sld[1];h+=
4){var k=document.createElement("div");k.style.height="4px";k.style.fontSize="1px";k.style.lineHeight="0";jscolor.picker.sld.appendChild(k)}jscolor.picker.sldB.appendChild(jscolor.picker.sld);jscolor.picker.box.appendChild(jscolor.picker.sldB);jscolor.picker.box.appendChild(jscolor.picker.sldM);jscolor.picker.padB.appendChild(jscolor.picker.pad);jscolor.picker.box.appendChild(jscolor.picker.padB);jscolor.picker.box.appendChild(jscolor.picker.padM);jscolor.picker.btnS.appendChild(jscolor.picker.btnT);
jscolor.picker.btn.appendChild(jscolor.picker.btnS);jscolor.picker.box.appendChild(jscolor.picker.btn);jscolor.picker.boxB.appendChild(jscolor.picker.box)}var i=jscolor.picker;i.box.onmouseup=i.box.onmouseout=function(){d.focus()};i.box.onmousedown=function(){D=!0};i.box.onmousemove=function(a){if(y||G)y&&l(a),G&&o(a),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),q()};i.padM.onmouseup=i.padM.onmouseout=function(){y&&(y=!1,jscolor.fireEvent(w,
"change"))};i.padM.onmousedown=function(a){y=!0;l(a);q()};i.sldM.onmouseup=i.sldM.onmouseout=function(){G&&(G=!1,jscolor.fireEvent(w,"change"))};i.sldM.onmousedown=function(a){G=!0;o(a);q()};h=j(n);i.box.style.width=h[0]+"px";i.box.style.height=h[1]+"px";i.boxB.style.position="absolute";i.boxB.style.clear="both";i.boxB.style.left=b+"px";i.boxB.style.top=c+"px";i.boxB.style.zIndex=n.pickerZIndex;i.boxB.style.border=n.pickerBorder+"px solid";i.boxB.style.borderColor=n.pickerBorderColor;i.boxB.style.background=
n.pickerFaceColor;i.pad.style.width=jscolor.images.pad[0]+"px";i.pad.style.height=jscolor.images.pad[1]+"px";i.padB.style.position="absolute";i.padB.style.left=n.pickerFace+"px";i.padB.style.top=n.pickerFace+"px";i.padB.style.border=n.pickerInset+"px solid";i.padB.style.borderColor=n.pickerInsetColor;i.padM.style.position="absolute";i.padM.style.left="0";i.padM.style.top="0";i.padM.style.width=n.pickerFace+2*n.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px";i.padM.style.height=i.box.style.height;
i.padM.style.cursor="crosshair";i.sld.style.overflow="hidden";i.sld.style.width=jscolor.images.sld[0]+"px";i.sld.style.height=jscolor.images.sld[1]+"px";i.sldB.style.display=n.slider?"block":"none";i.sldB.style.position="absolute";i.sldB.style.right=n.pickerFace+"px";i.sldB.style.top=n.pickerFace+"px";i.sldB.style.border=n.pickerInset+"px solid";i.sldB.style.borderColor=n.pickerInsetColor;i.sldM.style.display=n.slider?"block":"none";i.sldM.style.position="absolute";i.sldM.style.right="0";i.sldM.style.top=
"0";i.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+n.pickerFace+2*n.pickerInset+"px";i.sldM.style.height=i.box.style.height;try{i.sldM.style.cursor="pointer"}catch(r){i.sldM.style.cursor="hand"}i.btn.style.display=n.pickerClosable?"block":"none";i.btn.style.position="absolute";i.btn.style.left=n.pickerFace+"px";i.btn.style.bottom=n.pickerFace+"px";i.btn.style.padding="0 15px";i.btn.style.height="18px";i.btn.style.border=n.pickerInset+"px solid";(function(){var a=n.pickerInsetColor.split(/\s+/);
i.btn.style.borderColor=a.length<2?a[0]:a[1]+" "+a[0]+" "+a[0]+" "+a[1]})();i.btn.style.color=n.pickerButtonColor;i.btn.style.font="12px sans-serif";i.btn.style.textAlign="center";try{i.btn.style.cursor="pointer"}catch(f){i.btn.style.cursor="hand"}i.btn.onmousedown=function(){n.hidePicker()};i.btnS.style.lineHeight=i.btn.style.height;switch(t){case 0:var u="../../img/jscolor_hs.png";break;case 1:u="../../img/jscolor_hv.png"}i.padM.style.backgroundImage="url('"+jscolor.getDir()+"../../img/jscolor_cross.gif')";
i.padM.style.backgroundRepeat="no-repeat";i.sldM.style.backgroundImage="url('"+jscolor.getDir()+"../../img/jscolor_arrow.gif')";i.sldM.style.backgroundRepeat="no-repeat";i.pad.style.backgroundImage="url('"+jscolor.getDir()+u+"')";i.pad.style.backgroundRepeat="no-repeat";i.pad.style.backgroundPosition="0 0";g();a();jscolor.picker.owner=n;document.getElementsByTagName("body")[0].appendChild(i.boxB)}function j(a){return[2*a.pickerInset+2*a.pickerFace+jscolor.images.pad[0]+(a.slider?2*a.pickerInset+2*
jscolor.images.arrow[0]+jscolor.images.sld[0]:0),a.pickerClosable?4*a.pickerInset+3*a.pickerFace+jscolor.images.pad[1]+a.pickerButtonHeight:2*a.pickerInset+2*a.pickerFace+jscolor.images.pad[1]]}function g(){switch(t){case 0:var a=1;break;case 1:a=2}jscolor.picker.padM.style.backgroundPosition=n.pickerFace+n.pickerInset+Math.round(n.hsv[0]/6*(jscolor.images.pad[0]-1))-Math.floor(jscolor.images.cross[0]/2)+"px "+(n.pickerFace+n.pickerInset+Math.round((1-n.hsv[a])*(jscolor.images.pad[1]-1))-Math.floor(jscolor.images.cross[1]/
2))+"px";a=jscolor.picker.sld.childNodes;switch(t){case 0:for(var b=c(n.hsv[0],n.hsv[1],1),d=0;d<a.length;d+=1)a[d].style.backgroundColor="rgb("+b[0]*(1-d/a.length)*100+"%,"+b[1]*(1-d/a.length)*100+"%,"+b[2]*(1-d/a.length)*100+"%)";break;case 1:var g,h=[n.hsv[2],0,0],d=Math.floor(n.hsv[0]),j=d%2?n.hsv[0]-d:1-(n.hsv[0]-d);switch(d){case 6:case 0:b=[0,1,2];break;case 1:b=[1,0,2];break;case 2:b=[2,0,1];break;case 3:b=[2,1,0];break;case 4:b=[1,2,0];break;case 5:b=[0,2,1]}for(d=0;d<a.length;d+=1)g=1-1/
(a.length-1)*d,h[1]=h[0]*(1-g*j),h[2]=h[0]*(1-g),a[d].style.backgroundColor="rgb("+h[b[0]]*100+"%,"+h[b[1]]*100+"%,"+h[b[2]]*100+"%)"}}function a(){switch(t){case 0:var a=2;break;case 1:a=1}jscolor.picker.sldM.style.backgroundPosition="0 "+(n.pickerFace+n.pickerInset+Math.round((1-n.hsv[a])*(jscolor.images.sld[1]-1))-Math.floor(jscolor.images.arrow[1]/2))+"px"}function b(){return jscolor.picker&&jscolor.picker.owner===n}function h(){w!==d&&n.importColor()}function l(a){var b=jscolor.getRelMousePos(a),
a=b.x-n.pickerFace-n.pickerInset,b=b.y-n.pickerFace-n.pickerInset;switch(t){case 0:n.fromHSV(a*(6/(jscolor.images.pad[0]-1)),1-b/(jscolor.images.pad[1]-1),null,E);break;case 1:n.fromHSV(a*(6/(jscolor.images.pad[0]-1)),null,1-b/(jscolor.images.pad[1]-1),E)}}function o(a){a=jscolor.getRelMousePos(a).y-n.pickerFace-n.pickerInset;switch(t){case 0:n.fromHSV(null,null,1-a/(jscolor.images.sld[1]-1),L);break;case 1:n.fromHSV(null,1-a/(jscolor.images.sld[1]-1),null,L)}}function q(){if(n.onImmediateChange)if(typeof n.onImmediateChange===
"string")eval(n.onImmediateChange);else n.onImmediateChange(n)}this.adjust=this.required=!0;this.hash=!1;this.slider=this.caps=!0;this.styleElement=this.valueElement=d;this.onImmediateChange=null;this.hsv=[0,0,1];this.rgb=[1,1,1];this.pickerOnfocus=!0;this.pickerMode="HSV";this.pickerPosition="bottom";this.pickerSmartPosition=!0;this.pickerButtonHeight=20;this.pickerClosable=!1;this.pickerCloseText="Close";this.pickerButtonColor="ButtonText";this.pickerFace=10;this.pickerFaceColor="ThreeDFace";this.pickerBorder=
1;this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight";this.pickerInset=1;this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow";this.pickerZIndex=1E4;for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);this.hidePicker=function(){b()&&(delete jscolor.picker.owner,document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB))};this.showPicker=function(){if(!b()){var a=jscolor.getElementPos(d),c=jscolor.getElementSize(d),g=jscolor.getViewPos(),
h=jscolor.getViewSize(),i=j(this),l,f,o;switch(this.pickerPosition.toLowerCase()){case "left":l=1;f=0;o=-1;break;case "right":l=1;f=0;o=1;break;case "top":l=0;f=1;o=-1;break;default:l=0,o=f=1}var n=(c[f]+i[f])/2,a=this.pickerSmartPosition?[-g[l]+a[l]+i[l]>h[l]?-g[l]+a[l]+c[l]/2>h[l]/2&&a[l]+c[l]-i[l]>=0?a[l]+c[l]-i[l]:a[l]:a[l],-g[f]+a[f]+c[f]+i[f]-n+n*o>h[f]?-g[f]+a[f]+c[f]/2>h[f]/2&&a[f]+c[f]-n-n*o>=0?a[f]+c[f]-n-n*o:a[f]+c[f]-n+n*o:a[f]+c[f]-n+n*o>=0?a[f]+c[f]-n+n*o:a[f]+c[f]-n-n*o]:[a[l],a[f]+
c[f]-n+n*o];k(a[l],a[f])}};this.importColor=function(){if(w)if(this.adjust)!this.required&&/^\s*$/.test(w.value)?(w.value="",u.style.backgroundColor=u.jscStyle.backgroundColor,u.style.color=u.jscStyle.color,this.exportColor(C|K)):this.fromString(w.value)||this.exportColor();else{if(!this.fromString(w.value,C))u.style.backgroundColor=u.jscStyle.backgroundColor,u.style.color=u.jscStyle.color,this.exportColor(C|K)}else this.exportColor()};this.exportColor=function(c){if(!(c&C)&&w){var d=this.toString();
this.caps&&(d=d.toUpperCase());this.hash&&(d="#"+d);w.value=d}if(!(c&K)&&u)u.style.backgroundColor="#"+this.toString(),u.style.color=0.213*this.rgb[0]+0.715*this.rgb[1]+0.072*this.rgb[2]<0.5?"#FFF":"#000";!(c&L)&&b()&&g();!(c&E)&&b()&&a()};this.fromHSV=function(a,b,d,g){a<0&&(a=0)||a>6&&(a=6);b<0&&(b=0)||b>1&&(b=1);d<0&&(d=0)||d>1&&(d=1);this.rgb=c(a===null?this.hsv[0]:this.hsv[0]=a,b===null?this.hsv[1]:this.hsv[1]=b,d===null?this.hsv[2]:this.hsv[2]=d);this.exportColor(g)};this.fromRGB=function(a,
b,c,d){a<0&&(a=0)||a>1&&(a=1);b<0&&(b=0)||b>1&&(b=1);c<0&&(c=0)||c>1&&(c=1);var a=a===null?this.rgb[0]:this.rgb[0]=a,b=b===null?this.rgb[1]:this.rgb[1]=b,g=c===null?this.rgb[2]:this.rgb[2]=c,h=Math.min(Math.min(a,b),g),c=Math.max(Math.max(a,b),g),f=c-h;f===0?a=[null,0,c]:(a=a===h?3+(g-b)/f:b===h?5+(a-g)/f:1+(b-a)/f,a=[a===6?0:a,f/c,c]);a[0]!==null&&(this.hsv[0]=a[0]);a[2]!==0&&(this.hsv[1]=a[1]);this.hsv[2]=a[2];this.exportColor(d)};this.fromString=function(a,b){var c=a.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);
return c?(c[1].length===6?this.fromRGB(parseInt(c[1].substr(0,2),16)/255,parseInt(c[1].substr(2,2),16)/255,parseInt(c[1].substr(4,2),16)/255,b):this.fromRGB(parseInt(c[1].charAt(0)+c[1].charAt(0),16)/255,parseInt(c[1].charAt(1)+c[1].charAt(1),16)/255,parseInt(c[1].charAt(2)+c[1].charAt(2),16)/255,b),!0):!1};this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};
var n=this,t=this.pickerMode.toLowerCase()==="hvs"?1:0,D=!1,w=jscolor.fetchElement(this.valueElement),u=jscolor.fetchElement(this.styleElement),y=!1,G=!1,C=1,K=2,L=4,E=8;jscolor.addEvent(d,"focus",function(){n.pickerOnfocus&&n.showPicker()});jscolor.addEvent(d,"blur",function(){D?D=!1:window.setTimeout(function(){D||(w===d&&n.importColor(),n.pickerOnfocus&&n.hidePicker());D=!1},0)});w&&(r=function(){n.fromString(w.value,C);q()},jscolor.addEvent(w,"keyup",r),jscolor.addEvent(w,"input",r),jscolor.addEvent(w,
"blur",h),w.setAttribute("autocomplete","off"));if(u)u.jscStyle={backgroundColor:u.style.backgroundColor,color:u.style.color};switch(t){case 0:jscolor.requireImage("../../img/jscolor_hs.png");break;case 1:jscolor.requireImage("../../img/jscolor_hv.png")}jscolor.requireImage("../../img/jscolor_cross.gif");jscolor.requireImage("../../img/jscolor_arrow.gif");this.importColor()}};jscolor.install();define("libs/jscolor.js",function(){});
define("sandbox",[],function(){var d={handler:[],children:{}},i=function(){};i.prototype={subscribe:function(c,i){for(var j=d,g=c.split("."),a=0;a<g.length;++a){var b=g[a],j=j.children;j[b]===void 0&&(j[b]={handler:[],children:{}});j=j[g[a]]}j.handler.push(i)},publish:function(c,i){for(var i=i||{},j=d,g=c.split("."),a=[],b=a.push,h=0;h<g.length&&j.children[g[h]]!==void 0;++h)b.apply(a,j.handler),j=j.children[g[h]];b.apply(a,j.handler);for(j=0;j<a.length;++j)a[j].call(null,i,c)}};return new i});
define("application",["sandbox"],function(d){var i=function(){this.modules={};this.sandBox=d;this.allStarted=!1};i.prototype={registerModule:function(c,d){arguments.length===1&&(d=c,c=""+Math.random());c in this.modules||(this.modules[c]=[]);this.modules[c].push(typeof d==="function"?{builder:d}:{instance:d});this.allStarted&&this.start(c)},start:function(c){if(c in this.modules)for(var c=this.modules[c],d=0;d<c.length;++d)if(c[d].builder)c[d].instance=c[d].builder(this.sandBox)},initialize:function(c){if(c in
this.modules)for(var c=this.modules[c],d=0;d<c.length;++d)"init"in c[d].instance&&c[d].instance.init()},stop:function(c){if(c in this.modules)for(var c=this.modules[c],d=0;d<c.length;++d)if("destroy"in c[d].instance)c[d].instance.destroy(),c[d].instance=void 0},startAll:function(){this.allStarted=!0;for(var c in this.modules)this.start(c);for(c in this.modules)this.initialize(c)},stopAll:function(){this.allStarted=!1;for(var c in this.modules)this.stop(c)}};return new i});
define("dizzy/transformation",[],function(){var d=function(d){this.transformationMatrix=d};d.prototype={matrix:function(d){if(d!==void 0)this.transformationMatrix=d;else return this.transformationMatrix},rotate:function(d,c,k){arguments.length<3&&(k=c=0);this.matrix(this.matrix().translate(c,k).rotate(d).translate(-c,-k));return this},scale:function(d){this.matrix(this.matrix().scale(d));return this},translate:function(d,c){this.matrix(this.matrix().translate(d,c));return this},inverse:function(){this.matrix(this.matrix().inverse());
return this},multiply:function(d){d=d.transformationMatrix||d;this.matrix(this.matrix().multiply(d));return this},toString:function(){return"matrix("+this.toArray().join(", ")+")"},toArray:function(){var d=this.matrix();return[d.a,d.b,d.c,d.d,d.e,d.f]}};d.createTransform=function(i){i.dom&&i.transformation&&(i=i.transformation());if(i.transformationMatrix)i=i.transformationMatrix;i.getCTM&&(i=i.getCTM());if(i.toString().indexOf("SVGMatrix")>=0)return new d(i)};return d});
define("dizzy/group",["dizzy/transformation"],function(d){var i=/group_(\d+)/g,c=function(c,j){if(c.inverse&&c.multiply){this.transformation(c);if(j!==void 0)this.numbers=j;this.dom($('<g class="group" transform="'+this.transformation()+'" />'))}else{var g=c[0]||c,a=$(g);this.numbers=j||[];for(var a=a.attr("class"),b;(b=i.exec(a))!==null;)this.numbers.push(parseInt(b[1]));a=g.parentNode.getTransformToElement(g);this.dom(g);this.transform=new d(a);this.transform.inverse()}this.dom().attr("id")===void 0&&
this.dom().attr("id","g"+Math.random())};c.prototype={dom:function(c){return c===void 0?this.domContent:(this.domContent=$(c),this)},numbers:function(){return this.numbers},transformation:function(c){return c===void 0?this.transform:(this.transform=c,$(this.dom()).attr("transform",c.toString()),this)}};return c});
define("dizzy/canvas",["dizzy/group","dizzy/transformation","sandbox"],function(d,i,c){var k=function(c,d){this.container=$(c);this.groupList=[];this.activeGroupNumber=0;this.options=d||{transformDuration:1E3}};k.prototype={WIDTH:2E3,HEIGHT:1500,load:function(c,d){var a=this,d=d||{};this.container.children().disableTextSelect();this.container.empty().removeClass("hasSVG").svg({loadURL:c,onLoad:function(){a.svg=a.container.svg("get");a.canvas=$("g#canvas");a.canvas.find(".group").each(function(){a.getGroup($(this))});
typeof d.success==="function"&&d.success()}})},serialize:function(){$(this.svg.root()).attr("xmlns","http://www.w3.org/2000/svg");$(".group:empty",this.svg.root()).remove();return this.svg.toSVG()},createGroup:function(){var c=this.getGroup(0),g=$(this.svg.group(c.dom())),c=i.createTransform(c.transformation().matrix().inverse());g.addClass("group");g=new d(g);g.transformation(c);this.groupList.push(g);return g},removeGroup:function(d){for(var g=d.dom().attr("id"),a=0;a<this.groupList.length;a++)if(this.groupList[a].dom().attr("id")==
g){d.dom().remove();this.groupList.splice(a,1);console.log("Group "+g+" removed!");c.publish("dizzy.canvas.group.removed",{id:g});break}},findGroup:function(c){for(var g=0;g<this.groupList.length;++g)if(this.groupList[g]&&this.groupList[g].dom().attr("id")===$(c).attr("id"))return this.groupList[g];var a,c=jQuery(c);c.size()>0&&(a=new d(c[0]),this.groupList.push(a));return a},findGroupById:function(c){for(var d=0;d<this.groupList.length;++d)if(this.groupList[d]&&this.groupList[d].dom().attr("id")===
c)return this.groupList[d]},getGroup:function(c){if(c.dom&&c.transformation)return c;var d;if(c>0)d=this.canvas.find(".group_"+c);else if(c===0)d=this.canvas;return this.findGroup(d||c)},gotoGroup:function(c,d){typeof c!=="number"&&(c=this.getGroup(c));this.activeGroupNumber=c;try{this.current(d)}catch(a){}},centerGroup:function(c,d){typeof c!=="number"&&(c=this.getGroup(c));d=$.extend({scale:1,translate:!1},d);this.transformCanvasTo(c,d)},next:function(){return this.step(1)},previous:function(){if(this.activeGroupNumber!=
0)return this.step(-1)},step:function(c){this.activeGroupNumber+=c;try{this.current()}catch(d){this.activeGroupNumber-=c}return this.activeGroupNumber},visitGroup:function(c,d){for(var a,b=0;b<this.groupList.length;++b)if(this.groupList[b]&&this.groupList[b].dom().attr("id")===c){a=this.groupList[b];break}this.transformCanvasTo(a,d)},transformCanvasTo:function(d,g){var a=this.getGroup(0);if(d!==void 0){var b=d.transformation(),b=i.createTransform(b.matrix());b.inverse();if(d.dom().attr("id")!="canvas")try{var h=
d.dom().children().first(),k=h.prop("localName");if(k=="rect"||k=="image"||k=="ellipse"||k=="line"||k=="text"){var o,q,r,n;switch(k){case "rect":o=h.attr("x");q=h.attr("y");r=h.attr("width");n=h.attr("height");break;case "image":o=h.attr("x");q=h.attr("y");r=h.attr("width");n=h.attr("height");r=r.substring(0,r.length-2);n=n.substring(0,n.length-2);break;case "ellipse":o=h.attr("cx")-h.attr("rx");q=h.attr("cy")-h.attr("ry");r=h.attr("rx")*2;n=h.attr("ry")*2;break;case "line":o=h.attr("x1");q=h.attr("y1");
r=Math.abs(o-h.attr("x2"));n=Math.abs(q-h.attr("y2"));break;case "text":var t=h[0].getBBox();o=t.x;q=t.y;r=t.width;n=t.height}var D=$(document).width(),w=$(document).height(),u=$("svg").attr("viewBox").split(" ",4),y=u[2],G=u[3],C,K;D/w>=y/G?(K=G,C=G/w*D):(C=y,K=y/D*w);var L=h.parent().attr("zoom"),k=L?L:100;k/=100;var E=Math.min(C*k/r,K*k/n);g!=void 0&&g.scale!=void 0&&(E=E<g.scale?E-0.06:g.scale);var z=b.matrix();b.multiply(z.inverse()).translate(-o,-q).multiply(z);var x=b.matrix();b.multiply(x.inverse()).scale(E).multiply(x);
o=(C-r*E)/2;n=(K-n*E)/2;var H=b.matrix();b.multiply(H.inverse()).translate(o,n).multiply(H);var p=h.parent().attr("speed"),p=p?p:1,g=$.extend({duration:parseInt(p*1E3)},g);this.transform(a,b,g);c.publish("dizzy.canvas.group.visited")}}catch(F){alert("errore: "+F.message)}}else throw"Ops! This should not have happened! (o:";},current:function(c){this.getGroup(0);this.transformCanvasTo(this.getGroup(this.activeGroupNumber),c);return this.activeGroupNumber},transform:function(c,d,a){var a=$.extend({complete:function(){},
duration:this.options.transformDuration},a),b=a.duration===void 0?this.options.transformDuration:a.duration;c.transform=d;b<=10?$(c.dom(),this.svg.root()).attr("transform",d.toString()):$(c.dom(),this.svg.root()).animate({svgTransform:d.toString()},a)},transformSVGanimation:function(c,d,a){var a=$.extend({complete:function(){},duration:this.options.transformDuration},a),a=a.duration===void 0?this.options.transformDuration:a.duration,b=d.matrix(),h=c.transform.matrix(),i=document.getElementById("canvTranslate"),
k=document.getElementById("canvRotate"),q=document.getElementById("canvScale");i.setAttribute("dur",a/1E3+"s");k.setAttribute("dur",a/1E3+"s");q.setAttribute("dur",a/1E3+"s");console.log(h);var r=h.e,n=h.f,t=Math.sqrt(Math.pow(h.a,2)+Math.pow(h.b,2)),h=Math.atan(h.c/h.d);console.log("canv transX: "+r);console.log("canv transY: "+n);console.log("canv scale: "+t);console.log("canv rotate: "+h);i.setAttribute("from",r+","+n);k.setAttribute("from",-h*180/Math.PI);q.setAttribute("from",t);console.log(b);
r=b.e;n=b.f;t=Math.sqrt(Math.pow(b.a,2)+Math.pow(b.b,2));h=Math.atan(b.c/b.d);console.log("transX: "+r);console.log("transY: "+n);console.log("scale: "+t);console.log("rotate: "+h);i.setAttribute("to",r+","+n);k.setAttribute("to",-h*180/Math.PI);q.setAttribute("to",t);i.beginElement();k.beginElement();q.beginElement();c.transform=d;setTimeout(function(){$("#canvas").attr("transform","matrix("+b.a+","+b.b+","+b.c+","+b.d+","+b.e+","+b.f+")")},a+100)},toViewboxCoordinates:function(c,d){var a=this.svg.root().createSVGPoint();
a.x=c.x;a.y=c.y;var b=this.svg.root().getScreenCTM();d||(b=b.inverse());return a=a.matrixTransform(b)},toCanvasCoordinates:function(c,d){var a=this.svg.root().createSVGPoint();a.x=c.x;a.y=c.y;var b=this.svg.root().getScreenCTM(),h=this.getGroup(0).transformation().matrix(),b=b.multiply(h);d||(b=b.inverse());return a=a.matrixTransform(b)},vectorTranslate:function(c,d){var d=d||{},d=$.extend({ignoreCanvas:!1,targetNode:void 0,inverseMatrix:!1},d),a=this.svg.root().createSVGPoint();a.x=c.x;a.y=c.y;var b;
if(d.targetNode)b=d.targetNode.getCTM().inverse();else{b=this.svg.root().getScreenCTM();var h=this.getGroup(0).transformation().matrix();if(!d.ignoreCanvas)b=b.multiply(h),d.inverseMatrix=!0;d.inverseMatrix&&(b=b.inverse())}a=a.matrixTransform(b);return{x:a.x,y:a.y}},pathCounter:0,addPathNumber:function(c,d){d===void 0&&(d=++pathCounter);c.dom().addClass("group_"+d)},removePathNumber:function(c,d){d===void 0&&(d=[]);typeof d==="number"&&(d=[d]);for(var a=0;a<d.length;++a)c.dom().removeClass("group_"+
d[a])},getFillColor:function(){return $("#tool-input-color-fill").val()},getStrokeColor:function(){return $("#tool-input-color-stroke").val()}};return k});
define("modules/canvas",["sandbox","dizzy/canvas"],function(d,i){var c,k;d.subscribe("dizzy.presentation.load",function(i){c!==void 0&&k!==void 0&&(k.addClass("loading"),c.load(i.file,{success:function(){c.gotoGroup(0);d.publish("dizzy.presentation.loaded",{canvas:c});$(window).bind("resize",function(){var d=$(c.svg.root());d.width($(document).width());d.height($(document).height())});$(window).resize();$(c.svg.root()).attr("style",'width: "'+$(document).width()+'" height="'+$(document).width()+'"');
k.removeClass("loading")}}))});d.subscribe("dizzy.presentation.loadSVG",function(j){j=j.svgDoc;k.remove();var g=$("#container");k=$('<div id="dizzy" class="loading" />');g.append(k);k.disableTextSelect();c=new i("#dizzy");d.publish("dizzy.presentation.load",{file:j});k.bind("mousedown",function(a){d.publish("dizzy.canvas.io.mouse.down",a)});k.bind("mouseup",function(a){d.publish("dizzy.canvas.io.mouse.up",a)});k.bind("click",function(a){d.publish("dizzy.canvas.io.mouse.click",a)});d.publish("dizzy.ui.toolbar.clicked.mode.tool-default",
{button:"tool-default"})});return{init:function(){var j=$("#container");k=$('<div id="dizzy" class="loading" />');j.append(k);k.disableTextSelect();c=new i("#dizzy");d.publish("dizzy.presentation.load",{file:"./svg/blank.svg"});k.bind("mousedown",function(c){d.publish("dizzy.canvas.io.mouse.down",c)});k.bind("mouseup",function(c){d.publish("dizzy.canvas.io.mouse.up",c)});k.bind("click",function(c){d.publish("dizzy.canvas.io.mouse.click",c)})},destroy:function(){$("dizzy").remove()}}});
define("modules/modes",["sandbox"],function(d){function i(d){var j=c[d];if(j===void 0)console.log("Mode "+d+" called but not defined");else{console.log("Starting mode: "+d);for(var d=j.depends||[],g=0;g<d.length;++g)i(d[g]);j.start()}}var c={};d.subscribe("dizzy.ui.toolbar.clicked.mode",function(d){for(var j in c)c[j]&&typeof c[j].stop==="function"&&c[j].stop();i(d.button)});d.subscribe("dizzy.modes.register",function(d){c[d.name]===void 0?(console.log("Registering mode: "+d.name),c[d.name]=d.instance):
console.log("Mode "+d.name+" already defined")});return{init:function(){},destroy:function(){}}});define("modules/io/mouse",["sandbox"],function(d){return{init:function(){$(document).bind("mousewheel",function(i,c){d.publish("dizzy.io.mouse.wheel."+(c<0?"up":"down"),{delta:c,event:i})})},destroy:function(){$(document).unbind("mousewheel")}}});
define("modules/ui/dialog",["sandbox"],function(d){function i(){c.delegate(".dialog-cancel","click",function(){c.hide();k.hide();j.cancel()});c.delegate(".dialog-ok","click",function(){var d=c.find(".dialog-open-local-input")[0].files;if(d.length>0&&d[0].type.indexOf("image/")>=0){var a=new FileReader,d=d[0];a.onload=function(a){j.success("dataURL",a.target.result)};a.readAsDataURL(d)}else a=c.find(".dialog-open-link-input").val(),a!==void 0&&j.success("link",a);c.find("form")[0].reset();c.hide();
k.hide()})}var c,k;d.subscribe("ui.dialog.open",function(d){k.show();c.show();$.extend(j,d)});d.subscribe("ui.dialog.save",function(){});var j={success:function(){},cancel:function(){}};return{init:function(){var d=$("#container");k=$("#dialog-overlay");k.size()===0&&$.get("html/dialog-overlay.html").success(function(a){k=$(a);k.hide();k.removeClass("hidden");d.prepend(k)});c=$("#dialog-open");c.size()===0&&$.get("html/dialog-open.html").success(function(a){c=$(a);d.prepend(c);c.hide();c.removeClass("hidden");
i()})},destroy:function(){}}});
define("modules/ui/toolbar.menu",["sandbox"],function(d){var i;d.subscribe("dizzy.ui.toolbar.loaded",function(){var c=$("#menu"),k=c.find("#menu-right");c.disableTextSelect();d.subscribe("dizzy.ui.toolbar.clicked.menu-button",function(){c.toggleClass("hidden");d.publish("dizzy.ui.canvas.focus",{hasFocus:c.hasClass("hidden")})});c.delegate(".menu-option","click",function(){switch($(this).attr("id")){case "menu-save":var c=i.serialize(),c="data:image/svg+xml;charset=utf-8;base64,"+$.base64Encode(c);
window.open(c);break;case "menu-download":c=i.serialize();$.post("php/downloadSVG.php",{svg:c},function(c){window.open("php/"+c,"Download")});break;case "menu-about":$("#menu-bugs-extended").addClass("hidden");$("#menu-about-extended").toggleClass("hidden");break;case "menu-bugs":$("#menu-about-extended").addClass("hidden"),$("#menu-bugs-extended").toggleClass("hidden")}});c.delegate(".menu-option","hover",function(){var c=$(this).attr("data-description");c&&k.text(c)});c.delegate("#tool-input-color-background",
"change",function(){$("svg").first().css("background-color",$(this).val())});$("#menu-open-input").bind("change",function(c){var g=c.target.files;if(g.length>=1&&g[0].type==="image/svg+xml")c=new FileReader,g=g[0],c.onload=function(a){d.publish("dizzy.presentation.loadSVG",{svgDoc:a.target.result})},c.readAsText(g)})});d.subscribe("dizzy.presentation.loaded",function(c){i=c.canvas});return{init:function(){},destroy:function(){}}});
define("modules/ui/toolbar.control",["sandbox"],function(d){var i,c;d.subscribe("dizzy.ui.toolbar.loaded",function(d){c=d.toolbar});d.subscribe("dizzy.presentation.loaded",function(c){i=c.canvas});d.subscribe("dizzy.ui.toolbar.clicked.tool-next",function(){i.next()});d.subscribe("dizzy.ui.toolbar.clicked.tool-previous",function(){i.previous()});d.subscribe("dizzy.ui.toolbar.clicked.mode.present-toggle-button",function(){c.find("#present-toggle-button").removeClass("mode");c.find(".toolbutton").not(":first-child, :last-child").toggle()});
d.subscribe("dizzy.ui.toolbar.clicked.present-toggle-button",function(){c.find("#present-toggle-button").addClass("mode");c.find(".toolbutton").not(":first-child, :last-child").toggle();d.publish("dizzy.ui.toolbar.clicked.mode.tool-default",{button:"tool-default"})});d.subscribe("dizzy.canvas.group.visited",function(){c&&$("#tool-goto-inp").val(i.activeGroupNumber)});d.subscribe("dizzy.ui.toolbar.clicked.tool-goto-go",function(){var c=parseInt($("#tool-goto-inp").val());!isNaN(c)&&c>0?i.gotoGroup(c):
$("#tool-goto-inp").val(i.activeGroupNumber)});return{init:function(){},destroy:function(){}}});
define("modules/modes/canvas/pan",["sandbox"],function(d){var i,c=!1,k,j={start:function(){c=!0},stop:function(){c=!1}},g;d.subscribe("dizzy.canvas.io.mouse.down",function(a){g=!1;if(c){var b=$(document),h={x:a.pageX,y:a.pageY},h=i.vectorTranslate(h);d.publish("dizzy.presentation.transform.start");b.bind("mousemove.dizzy.canvas.pan",function(a){g=!0;a={x:a.pageX,y:a.pageY};a=i.vectorTranslate(a);a=k.transformation().translate(a.x-h.x,a.y-h.y);d.publish("dizzy.presentation.transform.do");i.transform(k,
a,{duration:0})})}});d.subscribe("dizzy.canvas.io.mouse.up",function(){$(document).unbind("mousemove.dizzy.canvas.pan");d.publish("dizzy.presentation.transform.end");return!g});d.subscribe("dizzy.presentation.loaded",function(a){i=a.canvas;k=i.getGroup(0)});return{init:function(){d.publish("dizzy.modes.register",{name:"pan",instance:j})},destroy:function(){}}});
define("modules/modes/canvas/zoom",["sandbox"],function(d){var i,c=!1,k={start:function(){c=!0},stop:function(){c=!1}};d.subscribe("dizzy.io.mouse.wheel",function(j){if(c){var g=Math.pow(1.2,j.delta),a=i.getGroup(0),b=a.transformation(),j=i.vectorTranslate({x:j.event.pageX,y:j.event.pageY});b.translate(-j.x*(g-1),-j.y*(g-1));b.scale(g);i.transform(a,b,{duration:70});d.publish("dizzy.presentation.transform.start");d.publish("dizzy.presentation.transform");d.publish("dizzy.presentation.transform.end")}});
d.subscribe("dizzy.presentation.loaded",function(c){i=c.canvas});return{init:function(){d.publish("dizzy.modes.register",{name:"zoom",instance:k})},destroy:function(){}}});
define("modules/modes/canvas/zebra",["sandbox"],function(d){function i(){c&&(c.hide(),c.find("#zebra-toolbar").addClass("hidden"),c.find("#zebra-expand-button").removeClass("mirrored"))}var c,k,j={start:function(){this.assignEventHandlers()},assignEventHandlers:function(){var a=this;if(k){c.children("div").not("div input").disableTextSelect();jQuery(k.svg.root()).delegate("g.group","mousedown.dizzy.zebra.scale",function(b){return a.translateStart(this,b)});var b=c.find("#zebra-rotate");b.bind("mousedown.dizzy.zebra.rotate",
function(c){return a.rotateStart(b,c)});var d=c.find("#zebra-scale");d.bind("mousedown.dizzy.zebra.scale",function(b){return a.scaleStart(d,b)});c.find("#zebra-translate").bind("mousedown.dizzy.zebra.translate",function(b){var c=g.dom();return a.translateStart(c,b)});c.find("#zebra-expand-button").bind("click.dizzy.zebra.expand",function(){$("#zebra-toolbar").toggleClass("hidden");$(this).toggleClass("mirrored")});c.find("#zebra-toolbar-up").bind("click.dizzy.zebra.toolbar.up",a.raiseLayer);c.find("#zebra-toolbar-down").bind("click.dizzy.zebra.toolbar.down",
a.lowerLayer);c.find("#zebra-toolbar-downest").bind("click.dizzy.zebra.toolbar.downest",a.lowerLayerMax);c.find("#zebra-toolbar-uppest").bind("click.dizzy.zebra.toolbar.uppest",a.raiseLayerMax);c.find("#zebra-toolbar-border-weight-up").bind("click.dizzy.zebra.toolbar.strokeWidth.up",a.raiseStrokeWidth);c.find("#zebra-toolbar-border-weight-down").bind("click.dizzy.zebra.toolbar.strokeWidth.down",a.lowerStrokeWidth);c.find("#zebra-toolbar-43").bind("click.dizzy.zebra.toolbar.43",function(){return a.fitRectTo(4,
3)});c.find("#zebra-toolbar-169").bind("click.dizzy.zebra.toolbar.169",function(){return a.fitRectTo(16,9)});c.find("#zebra-toolbar-1610").bind("click.dizzy.zebra.toolbar.1610",function(){return a.fitRectTo(16,10)});c.find("#zebra-toolbar-fill").bind("click.dizzy.zebra.toolbar.fill",function(){return a.raiseFillOpacity(0.2)});c.find("#zebra-toolbar-nofill").bind("click.dizzy.zebra.toolbar.nofill",function(){return a.raiseFillOpacity(-0.2)});c.find("#zebra-toolbar-border-round").bind("click.dizzy.zebra.toolbar.round",
a.roundCorners)}},removeEventHandlers:function(){k&&jQuery(k.svg.root()).undelegate("g.group","mousedown.dizzy.zebra.scale");c.find("#zebra-rotate").unbind("mousedown.dizzy.zebra.rotate");c.find("#zebra-scale").unbind("mousedown.dizzy.zebra.scale");c.find("#zebra-translate").unbind("mousedown.dizzy.zebra.translate");c.find("#zebra-expand-button").unbind("click.dizzy.zebra.expand");c.find("#zebra-toolbar-up").unbind("click.dizzy.zebra.toolbar.up");c.find("#zebra-toolbar-down").unbind("click.dizzy.zebra.toolbar.down");
c.find("#zebra-toolbar-uppest").unbind("click.dizzy.zebra.toolbar.uppest");c.find("#zebra-toolbar-downest").unbind("click.dizzy.zebra.toolbar.downest");c.find("#zebra-toolbar-border-weight-up").unbind("click.dizzy.zebra.toolbar.strokeWidth.up");c.find("#zebra-toolbar-border-weight-down").unbind("click.dizzy.zebra.toolbar.strokeWidth.down");c.find("#zebra-toolbar-43").unbind("click.dizzy.zebra.toolbar.43");c.find("#zebra-toolbar-169").unbind("click.dizzy.zebra.toolbar.169");c.find("#zebra-toolbar-1610").unbind("click.dizzy.zebra.toolbar.1610");
c.find("#zebra-toolbar-fill").unbind("click.dizzy.zebra.toolbar.fill");c.find("#zebra-toolbar-nofill").unbind("click.dizzy.zebra.toolbar.nofill");c.find("#zebra-toolbar-border-round").unbind("click.dizzy.zebra.toolbar.round")},rotateStart:function(a,b){b.preventDefault();if(g!==void 0){var h=c.offset(),h={x:h.left+c.outerWidth()/2,y:h.top+c.outerHeight()/2},i={origin:h,lastVector:{x:b.pageX-h.x,y:b.pageY-h.y}},j=i.lastRotationAngle,q=g.transformation();$(document).bind("mousemove.dizzy.zebra.rotate",
function(b){b.preventDefault();var c={x:b.pageX-i.origin.x,y:b.pageY-i.origin.y},b=180/Math.PI*(Math.atan2(c.y,c.x)-Math.atan2(i.lastVector.y,i.lastVector.x)),b=Math.floor(b*360)/360;i.lastVector=c;var c=k.toCanvasCoordinates(i.origin),h=q.matrix();q=q.multiply(h.inverse()).rotate(b,c.x,c.y).multiply(h);j=(b+j)%360;b=["","-o-","-webkit-","-moz-","-ms-"];for(c=0;c<b.length;++c)a.css(b[c]+"transform","rotate("+j+"deg)");k.transform(g,q,{duration:0});d.publish("dizzy.ui.zebra.start.rotate")});$(document).bind("mouseup.dizzy.zebra.rotate mouseleave.dizzy.zebra.rotate",
function(){$(document).unbind("mousemove.dizzy.zebra.rotate")})}return!1},scaleStart:function(a,b){b.preventDefault();b.stopPropagation();if(g!==void 0){var h=c.offset(),i={origin:{x:h.left+c.outerWidth()/2,y:h.top+c.outerHeight()/2}},j=g.transformation(),h={x:i.origin.x-b.pageX,y:i.origin.y-b.pageY},q=Math.sqrt(h.x*h.x+h.y*h.y),r=1;$(document).bind("mousemove.dizzy.zebra.scale",function(a){a.preventDefault();var a={x:i.origin.x-a.pageX,y:i.origin.y-a.pageY},b=Math.sqrt(a.x*a.x+a.y*a.y)/q,a=b-r;r=
b;var b=k.toCanvasCoordinates(i.origin),c=j.matrix();j=j.multiply(c.inverse()).translate(-b.x*a,-b.y*a).scale(a+1).multiply(c);k.transform(g,j,{duration:0});d.publish("dizzy.ui.zebra.start.scale")});$(document).bind("mouseup.dizzy.zebra.scale mouseleave.dizzy.zebra.scale",function(){$(document).unbind("mousemove.dizzy.zebra.scale");$(document).unbind("mouseup.dizzy.zebra.scale mouseleave.dizzy.zebra.scale")})}return!1},translateStart:function(a,b){a.jquery&&a.size()>0&&(a=a[0]);b.preventDefault();
var g=k.findGroup(a);d.publish("dizzy.presentation.group.selected",{event:b,group:g});var i=function(b){return k.vectorTranslate(b,{ignoreCanvas:!1,targetNode:a})},j={x:b.pageX,y:b.pageY},j=i(j),q=g.transformation();$(document).bind("mousemove.dizzy.zebra.translate",function(a){a.preventDefault();var b={x:a.pageX,y:a.pageY},b=i(b);q=q.translate(b.x-j.x,b.y-j.y);k.transform(g,q,{duration:0});c.css({top:a.pageY-c.height()/2,left:a.pageX-c.width()/2});d.publish("dizzy.ui.zebra.start.translate")});$(document).bind("mouseup.dizzy.zebra.translate mouseleave.dizzy.zebra.translate",
function(){$(document).unbind("mousemove.dizzy.zebra.translate");$(document).unbind("mouseup.dizzy.zebra.translate mouseleave.dizzy.zebra.translate")});return!1},stop:function(){this.removeEventHandlers();c.hide()},lowerLayer:function(){var a=$(".selected",k.svg.root());a.hasClass("group")||(a=a.parents("g.group").first());a.insertBefore(a.prev("g.group"))},raiseLayer:function(){var a=$(".selected",k.svg.root());a.hasClass("group")||(a=a.parents("g.group").first());a.insertAfter(a.next("g.group"))},
lowerLayerMax:function(){var a=$(".selected",k.svg.root());a.hasClass("group")||(a=a.parents("g.group").first());a.prependTo("#canvas")},raiseLayerMax:function(){var a=$(".selected",k.svg.root());a.hasClass("group")||(a=a.parents("g.group").first());a.appendTo("#canvas")},lowerStrokeWidth:function(){var a=$(".selected",k.svg.root());$children=a.children();$children.length==1&&(a=$children.first());var b=a.attr("stroke-width"),b=isNaN(b)?3:parseFloat(b);b>0&&(b>1?a.attr("stroke-width",b-2):a.attr("stroke-width",
Math.round(b*10-1)/10))},raiseStrokeWidth:function(){var a=$(".selected",k.svg.root());$children=a.children();$children.length==1&&(a=$children.first());var b=a.attr("stroke-width"),b=isNaN(b)?3:parseFloat(b);b>=1?a.attr("stroke-width",b+2):a.attr("stroke-width",Math.round(b*10+1)/10)},fitRectTo:function(a,b){var c=$(".selected",k.svg.root());$children=c.children();$children.length==1&&(c=$children.first());var d=c.attr("width"),g=c.attr("height"),i=d/g,j=a/b;i>j?(d=d/a*b,c.attr("height",d),i=c.attr("y"),
c.attr("y",i-(d-g)/2)):i<j&&(g=g/b*a,c.attr("width",g),i=c.attr("x"),c.attr("x",i-(g-d)/2))},raiseFillOpacity:function(a){var b=$(".selected",k.svg.root());$children=b.children();$children.length==1&&(b=$children.first());var c=parseFloat(b.attr("fill-opacity"));isNaN(c)&&(c=1);c+=a;c<0?c=0:c>1&&(c=1);b.attr("fill-opacity",Math.round(c*10)/10)},roundCorners:function(){var a=$(".selected",k.svg.root());$children=a.children();$children.length==1&&(a=$children.first());var b=a.attr("rx"),c=Math.round(Math.min(a.attr("width"),
a.attr("height"))/10),b=!b||isNaN(b)||b==0?c:b==c?Math.round(Math.min(a.attr("width"),a.attr("height"))/4):0;a.attr("rx",b)}};d.subscribe("dizzy.presentation.loaded",function(a){k=a.canvas});d.subscribe("dizzy.presentation.transform",i);d.subscribe("dizzy.ui.resizer.start",i);var g;d.subscribe("dizzy.presentation.group.selected",function(a){if(c){var b=a.event;g=a.group;c.css({top:b.pageY-c.height()/2,left:b.pageX-c.width()/2});c.hide();c.show();c.find(".toolbutton").removeClass("hidden");a=g.dom().children().first();
if((b=a.prop("localName"))&&b!="rect"){if(c.find("#zebra-toolbar-43").addClass("hidden"),c.find("#zebra-toolbar-169").addClass("hidden"),c.find("#zebra-toolbar-1610").addClass("hidden"),c.find("#zebra-toolbar-border-round").addClass("hidden"),b=="image"||b=="line")b=="image"&&(c.find("#zebra-toolbar-border-weight-up").addClass("hidden"),c.find("#zebra-toolbar-border-weight-down").addClass("hidden")),c.find("#zebra-toolbar-fill").addClass("hidden"),c.find("#zebra-toolbar-nofill").addClass("hidden")}else a.hasClass("invisibleRect")&&
(c.find("#zebra-toolbar-border-round").addClass("hidden"),c.find("#zebra-toolbar-border-weight-up").addClass("hidden"),c.find("#zebra-toolbar-border-weight-down").addClass("hidden"),c.find("#zebra-toolbar-fill").addClass("hidden"),c.find("#zebra-toolbar-nofill").addClass("hidden"))}});return{init:function(){var a=$("#container");$.get("html/zebra.html").success(function(b){c=$(b);a.prepend(c);c.hide();d.publish("dizzy.ui.zebra.loaded")}).error(function(a){console.error("Could not load zebra control: "+
a)}).complete(function(){d.publish("dizzy.modes.register",{name:"zebra",instance:j})})},destroy:function(){c&&c.remove()}}});
define("modules/modes/canvas/rightClick",["sandbox"],function(d){var i={start:function(){$(document).bind("contextmenu",function(c){c.preventDefault();c.stopPropagation();d.publish("dizzy.ui.toolbar.clicked.mode.tool-default",{button:"tool-default"})})},stop:function(){$(document).unbind("contextmenu")}};return{init:function(){d.publish("dizzy.modes.register",{name:"rightClick",instance:i})},destroy:function(){}}});
define("modules/modes/tool/default",["sandbox"],function(d){var i,c=!1,k={depends:["zoom","pan","zebra","resizer"],start:function(){c&&($(i.svg.root()).addClass("editing default"),this.bindMouselistener(),this.bindKeyboardlistener())},stop:function(){c&&($(i.svg.root()).removeClass("editing default"),this.unbindMouselistener(),this.unbindKeyboardlistener())},bindMouselistener:function(){var c=i.svg.root();$(c).delegate("g.group","click.dizzy.default touchstart.dizzy.default",function(a){a.preventDefault();
a.stopPropagation();var b=i.findGroup(this);d.publish("dizzy.presentation.group.selected",{group:b,event:a});return!1});$(document).bind("contextmenu",function(a){a.preventDefault();a.stopPropagation();return!1})},unbindMouselistener:function(){var c=i.svg.root();$(c).undelegate("g.group","click.dizzy.default  touchstart.dizzy.default");$(document).unbind("contextmenu")},bindKeyboardlistener:function(){$(document).bind("keydown.dizzy.default",function(c){if((c.keyCode?c.keyCode:c.which)==46)if(c=
i.findGroup("g.selected"))i.removeGroup(c),d.publish("dizzy.presentation.transform")})},unbindKeyboardlistener:function(){$(document).unbind("keydown.dizzy.default")}};d.subscribe("dizzy.presentation.loaded",function(d){i=d.canvas;c=!0});d.subscribe("dizzy.ui.toolbar.color.fill.changed",function(c){var a=i.findGroup("g.selected");a&&a.dom().children().first().attr("fill",c.color)});d.subscribe("dizzy.ui.toolbar.color.stroke.changed",function(c){var a=i.findGroup("g.selected");a&&a.dom().children().first().attr("stroke",
c.color)});var j;d.subscribe("dizzy.presentation.group.selected",function(c){j!==void 0&&$(j).removeClass("selected");j=$(c.group.dom());j.addClass("selected")});d.subscribe("dizzy.presentation.transform",function(){j!==void 0&&(j.removeClass("selected"),d.publish("dizzy.presentation.group.unselected"))});return{init:function(){d.publish("dizzy.modes.register",{name:"tool-default",instance:k})},destroy:function(){}}});
define("modules/modes/tool/image",["sandbox"],function(d){var i,c={depends:[],start:function(){d.publish("ui.dialog.open",{filetypes:[],readAs:{link:!0,file:"dataUrl"},success:function(c,i){d.publish("dizzy.presentation.insertImage",{ref:i});d.publish("dizzy.ui.toolbar.clicked.mode.tool-default",{button:"tool-default"})},cancel:function(){d.publish("dizzy.ui.toolbar.clicked.mode.tool-default",{button:"tool-default"})}});$(document).bind("contextmenu",function(c){c.preventDefault();c.stopPropagation();
return!1})},stop:function(){$(document).unbind("contextmenu")}};d.subscribe("dizzy.presentation.loaded",function(c){i=c.canvas});d.subscribe("dizzy.presentation.insertImage",function(c){i.getGroup(0);var j=i.createGroup(),g=new Image;g.onload=function(){var a=i.vectorTranslate({x:g.width,y:g.height},{ignoreCanvas:!0});$(i.svg.image(j.dom(),((i.WIDTH-a.x)/2).toString(),((i.HEIGHT-a.y)/2).toString(),Math.max(g.width,600)+"px",Math.max(g.height,600)+"px",c.ref));g.src="";d.publish("dizzy.canvas.group.created.image",
{group:j})};g.src=c.ref});return{init:function(){d.publish("dizzy.modes.register",{name:"tool-image",instance:c})},destroy:function(){}}});
define("modules/modes/tool/line",["sandbox"],function(d){function i(g){g.stopPropagation();g.preventDefault();if(g.which!=1)return!1;$(c.svg.root()).bind("mousemove.dizzy.mode.line",function(a){a.stopPropagation();a.preventDefault();a=c.toViewboxCoordinates({x:a.pageX,y:a.pageY});k.attr({y2:a.y,x2:a.x})});var g=c.toViewboxCoordinates({x:g.pageX,y:g.pageY}),a=c.createGroup(),b=a.dom();c.getStrokeColor();k=$(c.svg.line(g.x,g.y,g.x,g.y,{stroke:c.getStrokeColor(),strokeWidth:5}));b.append(k);d.publish("dizzy.canvas.group.created.line",
{group:a})}var c,k,j={depends:["zoom","rightClick"],start:function(){c&&($(c.svg.root()).bind("mousedown.dizzy.mode.line",function(c){return i(c)}),$(c.svg.root()).bind("mouseup.dizzy.mode.line",function(){$(c.svg.root()).unbind("mousemove.dizzy.mode.line")}),$(c.svg.root()).addClass("editing drawing"))},stop:function(){c&&($(c.svg.root()).unbind("mousedown.dizzy.mode.line"),$(c.svg.root()).unbind("mouseup.dizzy.mode.line"),$(c.svg.root()).removeClass("editing drawing"))}};d.subscribe("dizzy.presentation.loaded",
function(d){c=d.canvas});return{init:function(){d.publish("dizzy.modes.register",{name:"tool-line",instance:j})},destroy:function(){}}});
define("modules/modes/tool/rect",["sandbox"],function(d){function i(a){a.stopPropagation();a.preventDefault();if(a.which!=1)return!1;$(c.svg.root()).bind("mousemove.dizzy.mode.line",function(a){a.stopPropagation();a.preventDefault();var a=c.toViewboxCoordinates({x:a.pageX,y:a.pageY}),b=Math.max(20,Math.abs(a.x-j)),d=Math.max(20,Math.abs(a.y-g));a.x-j<0&&k.attr({x:j-b});k.attr({width:b});a.y-g<0&&k.attr({y:g-d});k.attr({height:d})});var a=c.toViewboxCoordinates({x:a.pageX,y:a.pageY}),h=c.createGroup(),
i=h.dom();c.getStrokeColor();k=$(c.svg.rect(a.x,a.y,0,0,{width:20,height:20,stroke:c.getStrokeColor(),fill:c.getFillColor(),strokeWidth:5,fillOpacity:0}));j=a.x;g=a.y;i.append(k);d.publish("dizzy.canvas.group.created.rect",{group:h})}var c,k,j,g,a={depends:["zoom","rightClick"],start:function(){c&&($(c.svg.root()).bind("mousedown.dizzy.mode.line",function(a){return i(a)}),$(c.svg.root()).bind("mouseup.dizzy.mode.line",function(){$(c.svg.root()).unbind("mousemove.dizzy.mode.line")}),$(c.svg.root()).addClass("editing drawing"))},
stop:function(){c&&($(c.svg.root()).unbind("mousedown.dizzy.mode.line"),$(c.svg.root()).unbind("mouseup.dizzy.mode.line"),$(c.svg.root()).removeClass("editing drawing"))}};d.subscribe("dizzy.presentation.loaded",function(a){c=a.canvas});return{init:function(){d.publish("dizzy.modes.register",{name:"tool-rect",instance:a})},destroy:function(){}}});
define("modules/modes/tool/text",["sandbox"],function(d){function i(){$(b.svg.root()).delegate(".group","click.dizzy.mode.text.edit",function(d){d.stopImmediatePropagation();var h=$(this).children("text");if(h.size()>0)if(d.stopPropagation(),o){var i=b.getGroup(this);b.centerGroup(i,{duration:100,complete:function(){var a=k(h);q=i;g(i,a)}})}else a();else c(d);return!1});$(b.svg.root()).bind("click.dizzy.mode.text.new",function(a){a.which==1&&c(a)})}function c(c){if(o){c.stopPropagation();var h={x:c.pageX,
y:c.pageY},i=b.createGroup(),j=i.dom(),k=$(b.svg.other(j,"text")),l=$(b.svg.other(k,"tspan")),h=b.toViewboxCoordinates(h);k.attr({"font-family":n?n:"serif","font-size":(t?t:200)+"px",x:h.x,y:h.y,stroke:b.getStrokeColor(),fill:b.getFillColor()});k.append(l);j.append(k);q=i;g(i,{x:c.pageX,y:c.pageY-45});d.publish("dizzy.canvas.group.created.text",{group:i})}else a()}function k(a){if(a!=void 0){var b=a[0],a={},c=b.getScreenCTM(),d=document.getElementsByTagName("svg")[0].createSVGPoint();bbox=b.getBBox();
d.x=bbox.x;d.y=bbox.y;a.nw=d.matrixTransform(c);d.x+=bbox.width;a.ne=d.matrixTransform(c);d.y+=bbox.height;a.se=d.matrixTransform(c);d.x-=bbox.width;a.sw=d.matrixTransform(c);b={x:a.nw.x,y:a.nw.y};if(b.x||b.y)c=a.sw.y-a.nw.y,h.width(a.ne.x-a.nw.x),h.height(c),l.css({top:b.y,left:b.x});return b}}function j(a,c){if(c.size()!==0){var d=c.children("tspan").last();if(a.which===13){var g=!0,h=/^[\s]+$/;c.children("tspan").each(function(){$(this).text()!=""&&!h.test($(this).text())&&(g=!1)});if(g)return!1;
d=c.children("tspan").last();d.text()==""&&d.text(" ");var d=$(b.svg.other(c,"tspan")),i=r?r:c.attr("x");d.attr("x",i).attr("dy",window.getComputedStyle(d[0],null).getPropertyValue("font-size"));return!1}else if(a.which===46||a.which===0&&a.keyCode===46)return!1;else if(a.which===8)return i=d.text(),i.length!==0&&(d.text(i.substr(0,i.length-1)),k(c)),i.length===0&&c.children("tspan").length>1&&d.remove(),!1}return!0}function g(a,b){var c=a.dom().find("text");c.children("tspan");l.bind("contextmenu",
function(a){a.preventDefault();return!1});$(document).bind("keypress.dizzy.editor",function(a){var b=c;a.preventDefault();if(a.which!=13){var d=b,b=b.children().last(),g=b.text();a.which!==0&&a.which!==8&&b.text(g+String.fromCharCode(a.which));k(d)}return!0});$(document).bind("keydown.dizzy.editor",function(a){return j(a,c)});$("#tool-textMode-bigger").bind("click",function(){var a=c.attr("font-size"),a=parseFloat(a.substring(0,a.length-2));a+=a>100?a/20:a>30?3:1;c.attr("font-size",a+"px");c.children("tspan").not(":first-child").attr("dy",
a+"px");t=a;k(c)});$("#tool-textMode-smaller").bind("click",function(){var a=c.attr("font-size"),a=parseFloat(a.substring(0,a.length-2));a-=a>100?a/20:a>30?3:1;c.attr("font-size",a+"px");c.children("tspan").not(":first-child").attr("dy",a+"px");t=a;k(c)});$("#tool-textMode-family").bind("change",function(){var a=$("#tool-textMode-family option:selected").val();c.attr("font-family",a);n=a;k(c)});$("#tool-textMode-italic").bind("click",function(){c.attr("font-style")=="italic"?c.removeAttr("font-style"):
c.attr("font-style","italic");k(c)});$("#tool-textMode-bold").bind("click",function(){c.attr("font-weight")=="bold"?c.removeAttr("font-weight"):c.attr("font-weight","bold");k(c)});$("#tool-textMode-underline").bind("click",function(){c.attr("text-decoration")=="underline"?c.removeAttr("text-decoration"):c.attr("text-decoration","underline");k(c)});$("#tool-textMode-center").bind("click",function(){var a=c.attr("text-anchor"),b=parseInt(c.attr("x")),d=c.children().first()[0].getComputedTextLength();
a=="middle"?(c.removeAttr("text-anchor"),c.children().attr("x",b),r=b):(c.attr("text-anchor","middle"),r=b+d/2,c.children().attr("x",r));k(c)});l.show();l.css({top:b.y,left:b.x});o=!1}function a(){if(q){var a=q.dom().children().first().children("tspan");if(a.length==0)b.removeGroup(q);else if(a.length==1){var a=a.text(),c=/^[\s]+$/;a==""||c.test(a)?b.removeGroup(q):d.publish("dizzy.canvas.group.text.edited",{textGroup:q})}else d.publish("dizzy.canvas.group.text.edited",{textGroup:q});r=q=void 0}$(document).unbind("keypress.dizzy.editor");
$(document).unbind("keydown.dizzy.editor");$(".invisible").removeClass("invisible");l.hide();l.unbind("contextmenu");$("#tool-textMode-bigger").unbind();$("#tool-textMode-smaller").unbind();$("#tool-textMode-family").unbind();$("#tool-textMode-italic").unbind();$("#tool-textMode-bold").unbind();$("#tool-textMode-underline").unbind();$("#tool-textMode-center").unbind();h.width(271);h.height(65.43600463867188);o=!0}var b,h,l,o=!1,q,r=void 0,n,t;d.subscribe("dizzy.presentation.loaded",function(a){b=
a.canvas});d.subscribe("dizzy.presentation.transform.do",function(){o=!1});d.subscribe("dizzy.io.mouse.wheel",a);d.subscribe("dizzy.presentation.transform.tracker.go",a);d.subscribe("dizzy.ui.toolbar.color.fill.changed",function(a){q&&q.dom().children().first().attr("fill",a.color)});d.subscribe("dizzy.ui.toolbar.color.stroke.changed",function(a){q&&q.dom().children().first().attr("stroke",a.color)});var D={depends:["zoom","pan","rightClick"],start:function(){b&&(o=!0,i(),$(b.svg.root()).addClass("editing textmode"))},
stop:function(){b&&($(b.svg.root()).unbind(),$(b.svg.root()).undelegate("g.group"),a(),$(b.svg.root()).removeClass("editing textmode"))}};return{init:function(){$.get("html/textBBox.html").success(function(a){l=$(a);l.css({MozUserSelect:"none"}).bind("selectstart select",function(){return!1});h=l.find("#text-wrapper");l.hide();$("#container").append(l);d.publish("dizzy.ui.textbox.loaded")}).error(function(a){console.error("Could not load textbox: "+a)}).complete(function(){d.publish("dizzy.modes.register",
{name:"tool-text",instance:D})})},destroy:function(){l&&l.remove()}}});
define("modules/ui/tracker",["sandbox"],function(d){var i,c,k,j=0,g=[];d.subscribe("dizzy.presentation.loaded",function(d){i=d.canvas;if(c==void 0)b();else{j=0;for(k.html("<tr><th>Type</th><th>Name</th><th>Path Num</th><th>Zoom</th><th>Speed</th><th>Go</th></tr>");0<g.length;)g.pop();a()}});d.subscribe("dizzy.canvas.group.created",function(a){var b="",c=a.group.dom(),a=c.attr("id"),c=c.children().prop("localName"),d="img/"+c+".png";g.push({type:c,id:a});if(c=="line"||c=="g"||c==void 0)b='class="hidden"',
d="";k.append("<tr "+b+'><td><img src="'+d+'" /></td><td><input class="tracker-name" type="text" size="7" value="'+ ++j+'"/></td><td><input class="tracker-path-numbers" type="text" size="7"/></td><td><input class="tracker-zoom" type="text" size="2" value="100"/></td><td><input class="tracker-speed" type="text" size="1" value="1"/></td><td class="tracker-go"><img src="./img/tracker_go.png"/></td></tr>')});d.subscribe("dizzy.canvas.group.removed",function(a){for(var a=a.id,b=0;b<g.length;b++)if(a==
g[b].id){k.find("tr:nth-child("+(b+2)+")").remove();g.splice(b,1);break}});d.subscribe("dizzy.canvas.group.text.edited",function(a){var b=a.textGroup.dom(),a=b.children().first().children("tspan").first().text().replace(/ /g,"").substring(0,6);b.attr("name",a);for(var b=b.attr("id"),c=0;c<g.length;c++)if(b==g[c].id){k.find("tr:nth-child("+(c+2)+")").find(".tracker-name").val(a);break}});var a=function(){if(i)for(var a=0;a<i.groupList.length;a++){var b=i.groupList[a].dom(),c=b.attr("id"),d="",h=b.attr("name")?
b.attr("name"):++j,t=b.children().prop("localName"),D="img/"+t+".png";if(t=="line"||t=="g"||t==void 0)d='class="hidden"',D="";else{var w=/group_(\d+)/gi,u=b.attr("class");u!=void 0&&(u=u.match(w));w="";if(u!=null)for(var y=0;y<u.length;y++)w+=u[y].substring(6)+" ";u=(u=b.attr("zoom"))?u:100;y=(y=b.attr("speed"))?y:1}g.push({type:t,id:c});k.append("<tr "+d+'><td><img src="'+D+'" /></td><td><input class="tracker-name" type="text" size="7" value="'+h+'"/></td></td><td><input class="tracker-path-numbers" type="text" size="7" value="'+
w+'"/></td><td><input class="tracker-zoom" type="text" size="2" value="'+u+'"/></td><td><input class="tracker-speed" type="text" size="1" value="'+y+'"/></td><td class="tracker-go"><img src="./img/tracker_go.png"/></td></tr>')}},b=function(){var b=$("#container");$.get("html/tracker.html").success(function(a){b.prepend(a);c=b.find("#tracker");d.publish("dizzy.ui.tracker.loaded",{tracker:c})}).error(function(){}).complete(function(){h();a()})},h=function(){var a=c.find("#tracker-expand");k=c.find("#tracker-list");
a.toggle(function(){k.show();d.publish("dizzy.presentation.transform.tracker.open")},function(){k.hide();d.publish("dizzy.presentation.transform.tracker.open")});c.bind("mousewheel",function(a){a.stopPropagation()});k.delegate(".tracker-go","click",function(){d.publish("dizzy.presentation.transform.tracker.go");var a=$(this).parent("tr").prop("rowIndex");i.visitGroup(g[a-1].id)});k.delegate(".tracker-name","change",function(){var a=$(this).parents("tr").prop("rowIndex"),a=i.groupList[a-1];$(this).val();
a.dom().attr("name",$(this).val())});k.delegate(".tracker-zoom","change",function(){var a=$(this).parents("tr").prop("rowIndex"),a=i.groupList[a-1],b=$(this).val();!isNaN(b)&&b<=100&&b>0?a.dom().attr("zoom",$(this).val()):$(this).val(a.dom().attr("zoom")?a.dom().attr("zoom"):"")});k.delegate(".tracker-speed","change",function(){var a=$(this).parents("tr").prop("rowIndex"),a=i.groupList[a-1],b=$(this).val();!isNaN(b)&&b<=10&&b>=0?a.dom().attr("speed",$(this).val()):$(this).val(a.dom().attr("speed")?
a.dom().attr("speed"):"1")});k.delegate(".tracker-path-numbers","change",function(){var a=$(this).parents("tr").prop("rowIndex"),a=i.groupList[a-1],b=$(this).val().split(/[ -.,;:+]/),c=a.dom().attr("class").match(/group_(\d+)/gi);if(c!=null)for(var d=0;d<c.length;d++)i.removePathNumber(a,parseInt(c[d].substring(6)));for(d=0;d<b.length;d++)b[d]!=""&&i.addPathNumber(a,b[d])});k.delegate("tr","hover",function(){var a=$(this).prop("rowIndex");a&&i.groupList[a-1].dom().children().toggleClass("hoveringElem")})};
return{init:function(){},destroy:function(){$("#tracker").remove()}}});
define("modules/modes/tool/presentation",["sandbox"],function(d){var i,c,k={depends:["zoom","pan"],start:function(){$(document).bind("keydown.dizzy.presentation",function(c){c=c.keyCode?c.keyCode:c.which;c==39||c==38?d.publish("dizzy.ui.toolbar.clicked.tool-next"):(c==37||c==40)&&d.publish("dizzy.ui.toolbar.clicked.tool-previous")});$(i.svg.root()).removeClass("editing");i.activeGroupNumber=0;$("#toolbar, #tracker").addClass("invisible");$(document).bind("mousemove.dizzy.presentation",function(){c&&
clearTimeout(c);$("#toolbar, #tracker").removeClass("invisible");c=setTimeout(function(){$("#toolbar, #tracker").addClass("invisible")},1E3)});$(document).bind("contextmenu",function(c){c.preventDefault();c.stopPropagation();return!1})},stop:function(){c&&clearTimeout(c);$(document).unbind("keydown.dizzy.presentation");$(document).unbind("mousemove.dizzy.presentation");$(document).unbind("contextmenu")}};d.subscribe("dizzy.presentation.loaded",function(c){i=c.canvas});return{init:function(){d.publish("dizzy.modes.register",
{name:"present-toggle-button",instance:k})},destroy:function(){}}});
define("modules/modes/tool/invrect",["sandbox"],function(d){function i(a){a.stopPropagation();a.preventDefault();if(a.which!=1)return!1;$(c.svg.root()).bind("mousemove.dizzy.mode.line",function(a){a.stopPropagation();a.preventDefault();var a=c.toViewboxCoordinates({x:a.pageX,y:a.pageY}),b=Math.max(20,Math.abs(a.x-j)),d=Math.max(20,Math.abs(a.y-g));a.x-j<0&&k.attr({x:j-b});k.attr({width:b});a.y-g<0&&k.attr({y:g-d});k.attr({height:d})});var a=c.toViewboxCoordinates({x:a.pageX,y:a.pageY}),h=c.createGroup(),
i=h.dom();c.getStrokeColor();k=$(c.svg.rect(a.x,a.y,0,0,{width:20,height:20,strokeWidth:3,stroke:"black","fill-opacity":0,"stroke-opacity":0}));k.addClass("invisibleRect");j=a.x;g=a.y;i.append(k);d.publish("dizzy.canvas.group.created.invrect",{group:h})}var c,k,j,g,a={depends:["zoom","rightClick"],start:function(){c&&($(c.svg.root()).bind("mousedown.dizzy.mode.line",function(a){return i(a)}),$(c.svg.root()).bind("mouseup.dizzy.mode.line",function(){$(c.svg.root()).unbind("mousemove.dizzy.mode.line")}),
$(c.svg.root()).addClass("editing drawing"))},stop:function(){c&&($(c.svg.root()).unbind("mousedown.dizzy.mode.line"),$(c.svg.root()).unbind("mouseup.dizzy.mode.line"),$(c.svg.root()).removeClass("editing drawing"))}};d.subscribe("dizzy.presentation.loaded",function(a){c=a.canvas});return{init:function(){d.publish("dizzy.modes.register",{name:"tool-invrect",instance:a})},destroy:function(){}}});
define("modules/modes/tool/ellipse",["sandbox"],function(d){function i(a){a.stopPropagation();a.preventDefault();if(a.which!=1)return!1;$(c.svg.root()).bind("mousemove.dizzy.mode.ellipse",function(a){a.stopPropagation();a.preventDefault();var b=c.toViewboxCoordinates({x:a.pageX,y:a.pageY}),a=Math.abs(b.x-j),b=Math.abs(b.y-g);a>10&&k.attr("rx",a);b>10&&k.attr("ry",b)});var a=c.toViewboxCoordinates({x:a.pageX,y:a.pageY}),h=c.createGroup(),i=h.dom();k=$(c.svg.ellipse(a.x,a.y,10,10,{stroke:c.getStrokeColor(),
fill:c.getFillColor(),strokeWidth:3,fillOpacity:0}));j=a.x;g=a.y;i.append(k);d.publish("dizzy.canvas.group.created.ellipse",{group:h})}var c,k,j,g;d.subscribe("dizzy.presentation.loaded",function(a){c=a.canvas});var a={depends:["zoom","rightClick"],start:function(){c&&($(c.svg.root()).bind("mousedown.dizzy.mode.ellipse",function(a){return i(a)}),$(c.svg.root()).bind("mouseup.dizzy.mode.ellipse",function(){$(c.svg.root()).unbind("mousemove.dizzy.mode.ellipse")}),$(c.svg.root()).addClass("editing drawing"))},
stop:function(){c&&($(c.svg.root()).unbind("mousedown.dizzy.mode.ellipse"),$(c.svg.root()).unbind("mouseup.dizzy.mode.ellipse"),$(c.svg.root()).removeClass("editing drawing"))}};return{init:function(){d.publish("dizzy.modes.register",{name:"tool-circle",instance:a})},destroy:function(){}}});
define("modules/modes/tool/captureview",["sandbox"],function(d){var i,c,k={depends:["zoom"],start:function(){if(i){var j=i.createGroup(),g=j.dom();g.prependTo(g.parent());$(document).width();$(document).height();var a=$(document).width(),b=$(document).height(),h=$("svg").attr("viewBox").split(" ",4),k=h[2],h=h[3];a/b>=4/3?(k=h,h=h/b*a):(h=k,k=k/a*b);c=$(i.svg.rect("0","0",h,k,{strokeWidth:3,stroke:"black","fill-opacity":0,"stroke-opacity":0}));c.addClass("invisibleRect");g.append(c);g.prependTo(g.parent());
d.publish("dizzy.canvas.group.created.invrect",{group:j});d.publish("dizzy.ui.toolbar.clicked.mode.tool-default",{button:"tool-default"})}},stop:function(){}};d.subscribe("dizzy.presentation.loaded",function(c){i=c.canvas});return{init:function(){d.publish("dizzy.modes.register",{name:"tool-captview",instance:k})},destroy:function(){}}});
define("modules/modes/canvas/resizer",["sandbox"],function(d){function i(){g&&$(g).hide()}var c,k,j,g,a,b={start:function(){$(g).bind("mousedown.dizzy.resizer",function(a){h(a)})},stop:function(){$(g).unbind("mousedown.dizzy.resizer");$(document).unbind("mouseup.dizzy.resizer mouseleave.dizzy.resizer")}};d.subscribe("dizzy.ui.zebra.start",i);d.subscribe("dizzy.ui.toolbar.clicked",i);d.subscribe("dizzy.ui.zebra.stop",function(){var a=document.getElementsByClassName("selected")[0];a&&(a=a.children[0],
a.localName=="rect"&&(l(a),g&&$(g).show()))});d.subscribe("dizzy.presentation.transform",i);var h=function(b){b.stopPropagation();b.preventDefault();d.publish("dizzy.ui.resizer.start");var c=a;if(c){var g={x:b.pageX,y:b.pageY};$(document).bind("mousemove.dizzy.resizer",function(a){a.preventDefault();var b={x:a.pageX,y:a.pageY};parseFloat(b.x-g.x);parseFloat(b.y-g.y);var a=b.x,b=b.y,d=c.getScreenCTM();j.x=a;j.y=b;a=j.matrixTransform(d.inverse());b=Math.max(a.y-c.y.animVal.value,20);c.setAttribute("width",
Math.max(a.x-c.x.animVal.value,20));c.setAttribute("height",b);l(c)});$(document).bind("mouseup.dizzy.resizer mouseleave.dizzy.resizer",function(){$(document).unbind("mousemove.dizzy.resizer");d.publish("dizzy.ui.resizer.stop")})}};d.subscribe("dizzy.presentation.loaded",function(){k=document.getElementsByTagName("svg")[0];j=k.createSVGPoint()});d.subscribe("dizzy.presentation.group.selected",function(b){b=b.group.dom().children().first();b[0].localName=="rect"?(a=b[0],l(b[0]),g&&$(g).show()):i()});
var l=function(a){var b=a.getScreenCTM();j.x=a.x.animVal.value;j.y=a.y.animVal.value;j.x+=a.width.animVal.value;j.y+=a.height.animVal.value;a=j.matrixTransform(b);g.style.left=a.x-20+"px";g.style.top=a.y-20+"px"};return{init:function(){var a=$("#container");c=$('<div id="resizer"></div>');a.prepend(c);g=document.getElementById("resizer");i();d.publish("dizzy.modes.register",{name:"resizer",instance:b})},destroy:function(){}}});
define("modules/ui/slider",["sandbox"],function(d){var i;d.subscribe("dizzy.ui.slider.closed",function(){reopen.show("slow")});d.subscribe("dizzy.ui.slider.close",function(){i.hide("slow");console.log("slider closed.");d.publish("dizzy.ui.slider.closed.",{slider:i})});return{init:function(){var c=this,k=$("#container");$.get("php/testPhp.php",function(j){console.log("Referrer:"+document.referrer+":");j.substring(0,5)=="<?php"?console.warn("PHP is not enabled on this server -> slider can't be loaded"):
document.referrer=="http://172.16.15.73/home.php"&&$.get("html/slider.html").success(function(c){k.prepend(c);i=k.find("#anteprime");reopen=k.find("#apriAnteprime");d.publish("dizzy.ui.slider.loaded",{slider:i});$(document).delegate('a[class="preview"] > img, #preview',"click",function(a){a.preventDefault();if($("#preview").length>0)$("#preview").remove();else{$("#preview").remove();xOffset=10;yOffset=30;wi=500;he=400;this.t=this.title;this.title="";var b=this.t!=""?"<br/>"+this.t:"";$("body").append("<p id='preview'><img src='"+
$(this).parent().attr("href")+"' WIDTH=\""+wi+'" HEIGHT="'+he+"\" alt='Image preview' />"+b+"</p>");$("#preview").css("top",a.pageY-xOffset-he+"px");a.pageX+yOffset+wi>$(window).width()?$("#preview").css("left",a.pageX-wi-yOffset+"px"):$("#preview").css("left",a.pageX+yOffset+"px");$("#preview").fadeIn(0)}})}).error(function(){}).complete(function(){c.assignEventHandlers();console.log("slider loaded.")})})},assignEventHandlers:function(){i.delegate("#x","click",function(){i.hide("slow");console.log("slider closed.");
d.publish("dizzy.ui.slider.closed.",{slider:i})});reopen.bind("click",function(){i.show("slow");reopen.hide("slow");console.log("slider opened");d.publish("dizzy.ui.slider.opened.",{slider:i})})},destroy:function(){$("#slider").remove()}}});
define("modules/ui/slider.filler",["sandbox"],function(d){var i;d.subscribe("dizzy.presentation.loaded",function(){});d.subscribe("dizzy.ui.slider.loaded",function(k){i=k.slider;i.find("#loader").append('<div class="infiniteCarousel"><div class="wrapper" id="wrapper"><ul id="ulid"></ul></div></div>');i.find("#ulid").load("php/images_loader.php",function(i){i.substring(0,3)=="Not"?(console.log("No project opened, slider will close"),d.publish("dizzy.ui.slider.close")):c()})});var c=function(){$("#wrapper").width($(".infiniteCarousel").innerWidth()-
80);$(window).resize(function(){$("#wrapper").width($(".infiniteCarousel").innerWidth()-80)});(function(){return $(".infiniteCarousel").each(function(){function c(a){var d=b*(a<l?-1:1)*h*Math.abs(l-a);i.filter(":not(:animated)").animate({scrollLeft:"+="+d},1E3,function(){a==0?(i.scrollLeft(b*h*o),a=o):a>o&&(i.scrollLeft(b*h),a=1);l=a});return!1}var i=$("> div",this).css("overflow","hidden"),g=i.find("> ul"),a=g.find("> li"),b=a.filter(":first").outerWidth(!0),h=Math.ceil((i.innerWidth()-b)/b),l=1,
o=Math.ceil(a.length/h);a.length%h!=0&&(g.append(Array(h-a.length%h+1).join('<li class="empty" />')),a=g.find("> li"));a.filter(":first").before(a.slice(-h).clone().addClass("cloned"));a.filter(":last").after(a.slice(0,h).clone().addClass("cloned"));a=g.find("> li");i.scrollLeft(b*h);i.after('<a class="arrow back"></a><a class="arrow forward"></a>');$("a.back",this).click(function(){return c(l-1)});$("a.forward",this).click(function(){return c(l+1)});$(this).bind("goto",function(a,b){c(b)});d.publish("dizzy.ui.slider.filled.",
{})})})()};return{init:function(){},destroy:function(){}}});
define("modules/ui/image_drop",["sandbox"],function(d){d.subscribe("dizzy.presentation.loaded",function(){i("Text");console.log("Canvas made droppable");c("Text")});var i=function(c){$("#dizzy").bind("dragenter",function(){return!1}).bind("dragleave",function(){$(this).css("background-color","white");return!1}).bind("dragover",function(){$(this).css("background-color","#CCFFFF");return!1}).bind("drop",function(i){$(this).css("background-color","white");i.preventDefault&&i.preventDefault();i=i.originalEvent.dataTransfer.getData(c);
d.publish("dizzy.presentation.insertImage",{ref:i});return!1})},c=function(c){$(document).delegate("img","dragstart",function(d){d.originalEvent.dataTransfer.setData(c,$(this).attr("src"));return!0})};return{init:function(){},destroy:function(){}}});
define("modules/ui/toolbar",["sandbox"],function(d){var i;d.subscribe("dizzy.ui.toolbar.clicked",function(c){c.button!="menu-button"&&c.button!="tool-color"&&c.button!="present-toggle-button"&&(c=i.find("#"+c.button),c.siblings().removeClass("pressed"),c.addClass("pressed"))});return{init:function(){var c=this,k=$("#container");$.get("html/toolbar.html").success(function(c){k.prepend(c);i=k.find("#toolbar");d.publish("dizzy.ui.toolbar.loaded",{toolbar:i})}).error(function(){}).complete(function(){c.assignEventHandlers();
c.setColorPickers();setTimeout(function(){d.publish("dizzy.ui.toolbar.clicked.mode.tool-default",{button:"tool-default"})},1E3)})},setColorPickers:function(){function c(a,b){this.selector=new jscolor.color(a,{});this.selector.pickerOnfocus=!1;this.selector.pickerFace=2;this.selector.hash=!0;this.selector.fromString(b);this.opened=!1;this.open=function(){this.opened=!0;this.selector.showPicker()};this.close=function(){this.opened=!1;this.selector.hidePicker()}}var k=document.getElementById("tool-input-color-fill"),
j=new c(k,"#000000"),g=document.getElementById("tool-input-color-stroke"),a=new c(g,"#000000"),b=document.getElementById("tool-input-color-background"),h=new c(b,"#FFFFFF");i.find(".color").css({"font-size":"0"});d.subscribe("dizzy.presentation.transform",function(){j.close();a.close();h.close()});d.subscribe("dizzy.ui.toolbar.clicked",function(b){b.button!="tool-color"&&(j.close(),a.close(),h.close())});$(b).click(function(a){a.stopPropagation();h.opened?h.close():h.open()});$(k).click(function(){j.opened?
j.close():(a.close(),j.open())});$(g).click(function(){a.opened?a.close():(j.close(),a.open())})},assignEventHandlers:function(){i.css({MozUserSelect:"none"}).bind("selectstart select",function(){return!1}).mousedown(function(c){c.stoppropagation();return!1});i.children(":not(#tool-goto-input)").disableTextSelect();i.delegate(".toolbutton","click",function(){var c=$(this),i=c.attr("id");console.log("toolbar button "+i+" pressed.");var j="";c.hasClass("mode")&&(j+="mode.");d.publish("dizzy.ui.toolbar.clicked."+
j+i,{button:i})});i.delegate("#tool-input-color-fill","change",function(){d.publish("dizzy.ui.toolbar.color.fill.changed",{color:$(this).val()})});i.delegate("#tool-input-color-stroke","change",function(){d.publish("dizzy.ui.toolbar.color.stroke.changed",{color:$(this).val()})})},destroy:function(){$("#toolbar, #menu").remove()}}});
define("modules",["modules/canvas","modules/modes","modules/io/mouse","modules/ui/dialog","modules/ui/toolbar.menu","modules/ui/toolbar.control","modules/modes/canvas/pan","modules/modes/canvas/zoom","modules/modes/canvas/zebra","modules/modes/canvas/rightClick","modules/modes/tool/default","modules/modes/tool/image","modules/modes/tool/line","modules/modes/tool/rect","modules/modes/tool/text","modules/ui/tracker","modules/modes/tool/presentation","modules/modes/tool/invrect","modules/modes/tool/ellipse",
"modules/modes/tool/captureview","modules/modes/canvas/resizer","modules/ui/slider","modules/ui/slider.filler","modules/ui/image_drop","modules/ui/toolbar"],function(){return arguments});require(["application","modules"],function(d,i){for(var c=0;c<i.length;c++)i[c]&&d.registerModule(i[c])});define("moduleLoader",function(){});define("main",["./libs/jquery.js","./libs/util.js","./libs/jscolor.js","application","moduleLoader"],function(d,i,c,k){$(function(){k.startAll()})});
define(["sandbox"],function(c){c.subscribe("dizzy.presentation.loaded",function(){d("Text");console.log("Canvas made droppable");e("Text")});var d=function(b){$("#dizzy").bind("dragenter",function(){return!1}).bind("dragleave",function(){$(this).css("background-color","white");return!1}).bind("dragover",function(){$(this).css("background-color","#CCFFFF");return!1}).bind("drop",function(a){$(this).css("background-color","white");a.preventDefault&&a.preventDefault();a=a.originalEvent.dataTransfer.getData(b);
c.publish("dizzy.presentation.insertImage",{ref:a});return!1})},e=function(b){$(document).delegate("img","dragstart",function(a){a.originalEvent.dataTransfer.setData(b,$(this).attr("src"));return!0})};return{init:function(){},destroy:function(){}}});